<!DOCTYPE html>
<html>
  <head>
    <script>
      (function(){
  const {protocol:proto, host:hostName, pathname:path, search:srch, hash:hsh} = window.location;
  if (!(path.endsWith("/") || path.endsWith(".html"))) {
    window.location.replace(`${proto}//${hostName}${path}/${srch}${hsh}`);
  }
})()</script>
    <base href="./../../"><meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">
    <title>Varieties of Monads</title><link rel="stylesheet" href="book.css">
    <script>
      const __versoSiteRoot = document.baseURI;</script>
    <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js" integrity="sha384-zbcZAIxlvJtNE3Dp5nxLXdXtXyxwOdnILY1TDPVmKFhl4r4nSUG1r8bcFXGVa4Te" crossorigin="anonymous"></script>
    <script src="static/katex/katex.min.js"></script>
    <script src="static/math.js"></script>
    <script src="static/search/fuzzysort.js"></script>
    <script src="static/print.js"></script>
    <script src="-verso-js/popper.js"></script>
    <script src="-verso-js/tippy.js"></script>
    <link rel="stylesheet" href="static/katex/katex.min.css">
    <link rel="stylesheet" href="static/colors.css">
    <link rel="stylesheet" href="static/theme.css">
    <link rel="stylesheet" href="static/print.css">
    <link rel="stylesheet" href="static/search/search-box.css">
    <link rel="stylesheet" href="static/fonts/source-serif/source-serif-text.css">
    <link rel="stylesheet" href="static/fonts/source-code-pro/source-code-pro.css">
    <link rel="stylesheet" href="static/fonts/source-sans/source-sans-3.css">
    <link rel="stylesheet" href="-verso-css/tippy-border.css">
    <style>
a.elan-command {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.elan-command:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
a.lake-command {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.lake-command:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
span.TODO {
  border: 3px solid red;
  display: inline;
  position: relative;
  float: right;
  clear: right;
  margin-top: 1rem;
  width: 15vw;
  margin-right: -17vw;
  color: red;
  font-size: large;
  font-weight: bold;
}
</style><style>
.hl.lean.tactic-view {
  white-space: collapse;
}
.hl.lean.tactic-view .tactic-state {
  display: block;
  left: 0;
  padding: 0;
  border: none;
}
.hl.lean.tactic-view .tactic-state .goal {
  margin-top: 1em;
  margin-bottom: 1em;
  display: block;
}
.hl.lean.tactic-view .tactic-state .goal:first-child {
  margin-top: 0.25em;
}
.hl.lean.tactic-view .tactic-state .goal:last-child {
  margin-bottom: 0.25em;
}


</style><style>
.marginalia .note {
  position: relative;
  padding: 0.5rem;
}

/* Wide viewport */
@media screen and (min-width: 1400px) {
  .marginalia .note {
    float: right;
    clear: right;
    margin-right: -16rem;
    width: 13rem;
    margin-top: 1rem;
  }
}

/* Very wide viewport */
@media screen and (min-width: 1600px) {
  .marginalia .note {
    margin-right: -19vw;
    width: 15vw;
  }
}

.marginalia:hover, .marginalia:hover .note, .marginalia:has(.note:hover) {
  background-color: var(--lean-accent-light-blue);
}

/* Medium viewport */
@media screen and (700px < width <= 1400px) {
  .marginalia .note {
    float: right;
    clear: right;
    width: 40%;
    margin: 1rem 0;
    margin-left: 10%;
  }
}

/* Narrow viewport (e.g. phone) */
@media screen and (width <= 700px) {
  .marginalia .note {
    float: left;
    clear: left;
    width: 90%;
    margin: 1rem 5%;
  }
}

body {
  counter-reset: margin-note-counter;
}
.marginalia .note {
  counter-increment: margin-note-counter;
}
.marginalia .note::before {
  content: counter(margin-note-counter) ".";
  position: absolute;
  vertical-align: baseline;
  font-size: 0.9em;
  font-weight: bold;
  left: -3rem;
  width: 3rem;
  text-align: right;
}
.marginalia::after {
  content: counter(margin-note-counter);
  vertical-align: super;
  font-size: 0.7em;
  font-weight: bold;
  margin-right: 0.5em;
}
</style><style>.example {
  border: 1px solid #98B2C0;
  border-radius: 0.5rem;
  margin-bottom: 0.75rem;
  margin-top: 0.75rem;
}
/* 1400 px is the cutoff for when the margin notes move out of the margin and into floated elements. */
@media screen and (700px < width <= 1400px) {
  .example {
    clear: both; /* Don't overlap margin notes with examples */
  }
}
.example .description::before {
  content: "Example: ";
}
.example .description {
  font-style: italic;
  font-family: var(--verso-structure-font-family);
  padding: 1.5rem;
}
.example[open] .description {
  margin-bottom: 0;
}
.example-content {
  padding: 0 1.5rem 1.5rem;
}
.example-content > :first-child {
  margin-top: 0;
}
.example-content p:last-child {
  margin-bottom:0;
}
.example .hl.lean.block {
  overflow-x: auto;
}
</style><style>
.namedocs {
  position: relative;
  border: solid 1px #98B2C0;
  border-radius: .5rem;
  padding-top: var(--verso--box-padding);
  margin-top: var(--verso--box-vertical-margin);
  margin-bottom: var(--verso--box-vertical-margin);
}

.namedocs .text {
  /* Causes margins on child elements to collapse inside the element, such
     that the margins don't extend into parent with the background color.
     The effect is that weird borders in the definition box don't happen anymore. */
  display: flow-root;
  /* Add a padding. this is the same as the margin applied to the first and last child.
     The effect is that the padding looks the same size on all sides. */
  padding: 0 var(--verso--box-padding);
  border-top: 1px solid #98B2C0;
}

.namedocs .text > pre {
  overflow-x: auto;
}

.namedocs .signature {
  font-family: var(--verso-code-font-family);
  margin-top: 0 !important;
  margin-left: var(--verso--box-padding) !important;
  margin-bottom: .75rem !important;
}

.namedocs .label {
  display: block;
  font-size: small;
  font-family: var(--verso-structure-font-family);
  position: absolute;
  top: -0.65rem;
  left: 1rem;
  background: #fff;
  padding: 0 .5rem .125rem;
  border: 1px solid #98B2C0;
  border-radius: 1rem;
  color: #555;
}

.namedocs h1 {
  font-size: inherit;
  font-weight: bold
  margin-top: 1rem;
  margin-bottom: 1rem;
}

.namedocs > .text .constructor {
  padding-top: 0;
  padding-right: 0;
  padding-bottom: 0;
  margin-top: 0.5rem;
  margin-bottom: 1.5rem;
}

.namedocs > .text .constructor::before {
  content: '| ';
  display: block;
  font-family: var(--verso-code-font-family);
  font-weight: bold;
  float: left;
  width: 0.5rem;
  white-space: pre;
}

.namedocs > .text .constructor .name-and-type {
  padding-left: 0.5rem;
  float: left;
  margin-top: 0;
  max-width: calc(100% - 1rem);
}
.namedocs > .text .constructor .docs {
  clear: both;
  padding-left: 1rem;
}

/* These margins work together with the padding on .text */
.namedocs .text > :first-child {
  margin-top: var(--verso--box-padding);
}
.namedocs .text > :last-child {
  margin-bottom: var(--verso--box-padding);
}

.namedocs .methods td, .namedocs .fields td {
  vertical-align: top;
}
.namedocs .inheritance {
  vertical-align: top;
  font-size: smaller;
  font-family: var(--verso-structure-font-family);
}
.namedocs .inheritance ol {
  display: inline-block;
  margin: 0;
  padding: 0;
}
.namedocs .inheritance ol li {
  list-style-type: none;
  display: inline-block;
}
.namedocs .inheritance ol li::after {
  content: " > "
}
.namedocs .inheritance ol li:last-child::after {
  content: "";
}

.namedocs .extends {
  display: inline;
  margin: 0;
  padding: 0;
}

.namedocs .extends li {
  list-style-type: none;
  display: inline-block;
}

.namedocs .extends li label {
  padding-right: 1rem;
}

.namedocs .subdocs .name-and-type {
  font-size: 1rem;
  margin-left: 0;
  margin-top: 0;
  margin-right: 0;
  margin-bottom: 0.5rem;
}

.namedocs .subdocs .docs {
  margin-left: 1.5rem;
  margin-top: 0;
  margin-right: 0;
  margin-bottom: 0.5rem;
}

.namedocs:has(input[data-parent-idx]) [data-inherited-from] {
  transition-property: opacity, display;
  transition-duration: 0.4s;
  transition-behavior: allow-discrete;
  @starting-style { opacity: 0 !important; }
}

#this-page-items .tactic-name { font-weight: bold; }
.namedocs:has(input[data-parent-idx="0"]) [data-inherited-from="0"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="0"]:checked) [data-inherited-from="0"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="0"]:checked):has(.inheritance[data-inherited-from="0"]:hover) [data-inherited-from]:not([data-inherited-from="0"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="1"]) [data-inherited-from="1"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="1"]:checked) [data-inherited-from="1"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="1"]:checked):has(.inheritance[data-inherited-from="1"]:hover) [data-inherited-from]:not([data-inherited-from="1"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="2"]) [data-inherited-from="2"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="2"]:checked) [data-inherited-from="2"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="2"]:checked):has(.inheritance[data-inherited-from="2"]:hover) [data-inherited-from]:not([data-inherited-from="2"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="3"]) [data-inherited-from="3"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="3"]:checked) [data-inherited-from="3"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="3"]:checked):has(.inheritance[data-inherited-from="3"]:hover) [data-inherited-from]:not([data-inherited-from="3"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="4"]) [data-inherited-from="4"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="4"]:checked) [data-inherited-from="4"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="4"]:checked):has(.inheritance[data-inherited-from="4"]:hover) [data-inherited-from]:not([data-inherited-from="4"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="5"]) [data-inherited-from="5"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="5"]:checked) [data-inherited-from="5"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="5"]:checked):has(.inheritance[data-inherited-from="5"]:hover) [data-inherited-from]:not([data-inherited-from="5"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="6"]) [data-inherited-from="6"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="6"]:checked) [data-inherited-from="6"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="6"]:checked):has(.inheritance[data-inherited-from="6"]:hover) [data-inherited-from]:not([data-inherited-from="6"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="7"]) [data-inherited-from="7"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="7"]:checked) [data-inherited-from="7"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="7"]:checked):has(.inheritance[data-inherited-from="7"]:hover) [data-inherited-from]:not([data-inherited-from="7"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="8"]) [data-inherited-from="8"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="8"]:checked) [data-inherited-from="8"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="8"]:checked):has(.inheritance[data-inherited-from="8"]:hover) [data-inherited-from]:not([data-inherited-from="8"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="9"]) [data-inherited-from="9"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="9"]:checked) [data-inherited-from="9"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="9"]:checked):has(.inheritance[data-inherited-from="9"]:hover) [data-inherited-from]:not([data-inherited-from="9"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="10"]) [data-inherited-from="10"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="10"]:checked) [data-inherited-from="10"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="10"]:checked):has(.inheritance[data-inherited-from="10"]:hover) [data-inherited-from]:not([data-inherited-from="10"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="11"]) [data-inherited-from="11"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="11"]:checked) [data-inherited-from="11"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="11"]:checked):has(.inheritance[data-inherited-from="11"]:hover) [data-inherited-from]:not([data-inherited-from="11"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="12"]) [data-inherited-from="12"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="12"]:checked) [data-inherited-from="12"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="12"]:checked):has(.inheritance[data-inherited-from="12"]:hover) [data-inherited-from]:not([data-inherited-from="12"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="13"]) [data-inherited-from="13"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="13"]:checked) [data-inherited-from="13"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="13"]:checked):has(.inheritance[data-inherited-from="13"]:hover) [data-inherited-from]:not([data-inherited-from="13"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="14"]) [data-inherited-from="14"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="14"]:checked) [data-inherited-from="14"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="14"]:checked):has(.inheritance[data-inherited-from="14"]:hover) [data-inherited-from]:not([data-inherited-from="14"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="15"]) [data-inherited-from="15"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="15"]:checked) [data-inherited-from="15"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="15"]:checked):has(.inheritance[data-inherited-from="15"]:hover) [data-inherited-from]:not([data-inherited-from="15"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="16"]) [data-inherited-from="16"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="16"]:checked) [data-inherited-from="16"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="16"]:checked):has(.inheritance[data-inherited-from="16"]:hover) [data-inherited-from]:not([data-inherited-from="16"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="17"]) [data-inherited-from="17"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="17"]:checked) [data-inherited-from="17"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="17"]:checked):has(.inheritance[data-inherited-from="17"]:hover) [data-inherited-from]:not([data-inherited-from="17"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="18"]) [data-inherited-from="18"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="18"]:checked) [data-inherited-from="18"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="18"]:checked):has(.inheritance[data-inherited-from="18"]:hover) [data-inherited-from]:not([data-inherited-from="18"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="19"]) [data-inherited-from="19"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="19"]:checked) [data-inherited-from="19"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="19"]:checked):has(.inheritance[data-inherited-from="19"]:hover) [data-inherited-from]:not([data-inherited-from="19"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="20"]) [data-inherited-from="20"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="20"]:checked) [data-inherited-from="20"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="20"]:checked):has(.inheritance[data-inherited-from="20"]:hover) [data-inherited-from]:not([data-inherited-from="20"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="21"]) [data-inherited-from="21"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="21"]:checked) [data-inherited-from="21"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="21"]:checked):has(.inheritance[data-inherited-from="21"]:hover) [data-inherited-from]:not([data-inherited-from="21"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="22"]) [data-inherited-from="22"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="22"]:checked) [data-inherited-from="22"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="22"]:checked):has(.inheritance[data-inherited-from="22"]:hover) [data-inherited-from]:not([data-inherited-from="22"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="23"]) [data-inherited-from="23"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="23"]:checked) [data-inherited-from="23"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="23"]:checked):has(.inheritance[data-inherited-from="23"]:hover) [data-inherited-from]:not([data-inherited-from="23"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="24"]) [data-inherited-from="24"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="24"]:checked) [data-inherited-from="24"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="24"]:checked):has(.inheritance[data-inherited-from="24"]:hover) [data-inherited-from]:not([data-inherited-from="24"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="25"]) [data-inherited-from="25"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="25"]:checked) [data-inherited-from="25"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="25"]:checked):has(.inheritance[data-inherited-from="25"]:hover) [data-inherited-from]:not([data-inherited-from="25"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="26"]) [data-inherited-from="26"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="26"]:checked) [data-inherited-from="26"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="26"]:checked):has(.inheritance[data-inherited-from="26"]:hover) [data-inherited-from]:not([data-inherited-from="26"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="27"]) [data-inherited-from="27"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="27"]:checked) [data-inherited-from="27"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="27"]:checked):has(.inheritance[data-inherited-from="27"]:hover) [data-inherited-from]:not([data-inherited-from="27"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="28"]) [data-inherited-from="28"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="28"]:checked) [data-inherited-from="28"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="28"]:checked):has(.inheritance[data-inherited-from="28"]:hover) [data-inherited-from]:not([data-inherited-from="28"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="29"]) [data-inherited-from="29"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="29"]:checked) [data-inherited-from="29"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="29"]:checked):has(.inheritance[data-inherited-from="29"]:hover) [data-inherited-from]:not([data-inherited-from="29"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="30"]) [data-inherited-from="30"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="30"]:checked) [data-inherited-from="30"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="30"]:checked):has(.inheritance[data-inherited-from="30"]:hover) [data-inherited-from]:not([data-inherited-from="30"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="31"]) [data-inherited-from="31"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="31"]:checked) [data-inherited-from="31"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="31"]:checked):has(.inheritance[data-inherited-from="31"]:hover) [data-inherited-from]:not([data-inherited-from="31"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="32"]) [data-inherited-from="32"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="32"]:checked) [data-inherited-from="32"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="32"]:checked):has(.inheritance[data-inherited-from="32"]:hover) [data-inherited-from]:not([data-inherited-from="32"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="33"]) [data-inherited-from="33"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="33"]:checked) [data-inherited-from="33"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="33"]:checked):has(.inheritance[data-inherited-from="33"]:hover) [data-inherited-from]:not([data-inherited-from="33"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="34"]) [data-inherited-from="34"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="34"]:checked) [data-inherited-from="34"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="34"]:checked):has(.inheritance[data-inherited-from="34"]:hover) [data-inherited-from]:not([data-inherited-from="34"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="35"]) [data-inherited-from="35"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="35"]:checked) [data-inherited-from="35"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="35"]:checked):has(.inheritance[data-inherited-from="35"]:hover) [data-inherited-from]:not([data-inherited-from="35"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="36"]) [data-inherited-from="36"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="36"]:checked) [data-inherited-from="36"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="36"]:checked):has(.inheritance[data-inherited-from="36"]:hover) [data-inherited-from]:not([data-inherited-from="36"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="37"]) [data-inherited-from="37"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="37"]:checked) [data-inherited-from="37"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="37"]:checked):has(.inheritance[data-inherited-from="37"]:hover) [data-inherited-from]:not([data-inherited-from="37"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="38"]) [data-inherited-from="38"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="38"]:checked) [data-inherited-from="38"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="38"]:checked):has(.inheritance[data-inherited-from="38"]:hover) [data-inherited-from]:not([data-inherited-from="38"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="39"]) [data-inherited-from="39"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="39"]:checked) [data-inherited-from="39"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="39"]:checked):has(.inheritance[data-inherited-from="39"]:hover) [data-inherited-from]:not([data-inherited-from="39"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="40"]) [data-inherited-from="40"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="40"]:checked) [data-inherited-from="40"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="40"]:checked):has(.inheritance[data-inherited-from="40"]:hover) [data-inherited-from]:not([data-inherited-from="40"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="41"]) [data-inherited-from="41"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="41"]:checked) [data-inherited-from="41"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="41"]:checked):has(.inheritance[data-inherited-from="41"]:hover) [data-inherited-from]:not([data-inherited-from="41"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="42"]) [data-inherited-from="42"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="42"]:checked) [data-inherited-from="42"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="42"]:checked):has(.inheritance[data-inherited-from="42"]:hover) [data-inherited-from]:not([data-inherited-from="42"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="43"]) [data-inherited-from="43"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="43"]:checked) [data-inherited-from="43"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="43"]:checked):has(.inheritance[data-inherited-from="43"]:hover) [data-inherited-from]:not([data-inherited-from="43"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="44"]) [data-inherited-from="44"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="44"]:checked) [data-inherited-from="44"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="44"]:checked):has(.inheritance[data-inherited-from="44"]:hover) [data-inherited-from]:not([data-inherited-from="44"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="45"]) [data-inherited-from="45"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="45"]:checked) [data-inherited-from="45"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="45"]:checked):has(.inheritance[data-inherited-from="45"]:hover) [data-inherited-from]:not([data-inherited-from="45"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="46"]) [data-inherited-from="46"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="46"]:checked) [data-inherited-from="46"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="46"]:checked):has(.inheritance[data-inherited-from="46"]:hover) [data-inherited-from]:not([data-inherited-from="46"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="47"]) [data-inherited-from="47"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="47"]:checked) [data-inherited-from="47"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="47"]:checked):has(.inheritance[data-inherited-from="47"]:hover) [data-inherited-from]:not([data-inherited-from="47"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="48"]) [data-inherited-from="48"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="48"]:checked) [data-inherited-from="48"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="48"]:checked):has(.inheritance[data-inherited-from="48"]:hover) [data-inherited-from]:not([data-inherited-from="48"]) {
  opacity: 0.5;
}
.namedocs:has(input[data-parent-idx="49"]) [data-inherited-from="49"] {
  display: none;
  opacity: 0;
}
.namedocs:has(input[data-parent-idx="49"]:checked) [data-inherited-from="49"] {
  display: block;
  transform: none;
  opacity: 1;
}
.namedocs:has(input[data-parent-idx="49"]:checked):has(.inheritance[data-inherited-from="49"]:hover) [data-inherited-from]:not([data-inherited-from="49"]) {
  opacity: 0.5;
}
</style><style>
.field-category > :first-child {
}

.field-category > :not(:first-child) {
  margin-left: 1rem;
}
</style><style>
a.technical-term {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
a.technical-term:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>
dl.toml-table-field-spec {
}
</style><style>
.example-file {
  white-space: normal;
  font-family: var(--verso-structure-font-family);
  margin: 1rem;
  width: fit-content;
  border: 1px solid #ddd;
  padding: 0.5rem;

  /* These are necessary for the container to behave nicely on mobile */
  overflow-x: auto;
  max-width: 100%;
  box-sizing: border-box;
}
.example-file::before {
  counter-reset: linenumber;
}
.example-file > .line {
  display: block;
  white-space: pre;
  counter-increment: linenumber;
  font-family: var(--verso-code-font-family);
}
.example-file > .line::before {
  -webkit-user-select: none;
  display: inline-block;
  content: counter(linenumber);
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
.example-file > .line::after {
  -webkit-user-select: none;
  display: inline-block;
  content: "⏎";
  opacity: 0;
}
.example-file > .line:hover::after {
  opacity: 1;
}
.example-file > .line:hover, .example-file > .line:hover::before {
  background-color: #eee;
}
.example-file > .empty {
  display: block;
  white-space: pre;
  font-family: var(--verso-code-font-family);
  font-style: italic;
}
.example-file > .empty::before {
  -webkit-user-select: none;
  display: inline-block;
  content: "";
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}
</style><style>.keyword-of .kw {
  font-weight: 500;
}
.keyword-of .hover-info {
  display: none;
}
.keyword-of .kw:hover {
  background-color: #eee;
  border-radius: 2px;
}
</style><style>.grammar .keyword {
  font-weight: 500 !important;
}

.grammar {
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
}

.grammar .comment {
  font-style: italic;
  font-family: var(--verso-text-font-family);
  /* TODO add background and text colors to Verso theme, then compute a background here */
  background-color: #fafafa;
  border: 1px solid #f0f0f0;
}

.grammar .local-name {
  font-family: var(--verso-code-font-family);
  font-style: italic;
}

.grammar .nonterminal {
  font-style: italic;
}
.grammar .nonterminal > .hover-info, .grammar .from-nonterminal > .hover-info, .grammar .local-name > .hover-info {
  display: none;
}
.grammar .active {
  background-color: #eee;
  border-radius: 2px;
}
.grammar a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
</style><style>.namedocs .label a { color: inherit; }</style><style>#toc .split-toc > ol .syntax .keyword { font-family: var(--verso-code-font-family); font-weight: 600; }</style><style>

.hl.lean {
  white-space: pre;
  font-weight: normal;
  font-style: normal;
}

.hl.lean .keyword {
  font-weight : bold;
}

.hl.lean .var {
  font-style: italic;
  position: relative;
}

.hover-container {
  width: 0;
  height: 0;
  position: relative;
  display: inline;
}

.hl.lean a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}

.hl.lean a:hover {
  text-decoration: currentcolor underline solid;
}

.hl.lean .hover-info {
  white-space: normal;
}

.hl.lean .token .hover-info {
  display: none;
  position: absolute;
  background-color: #e5e5e5;
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 300;
  font-size: inherit;
}

.hl.lean .hover-info.messages {
  max-height: 10rem;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-gutter: stable;
  padding: 0 0.5rem 0 0;
  display: block;
}

.hl.lean .hover-info code {
  white-space: pre-wrap;
}

.hl.lean .hover-info.messages > code {
  padding: 0.5rem;
  display: block;
  width: fit-content;
}

.hl.lean .hover-info.messages > code:only-child {
  margin: 0;
}

.hl.lean .hover-info.messages > code {
  margin: 0.1rem;
}

.hl.lean .hover-info.messages > code:not(:first-child) {
  margin-top: 0rem;
}

/*
@media (hover: hover) {
  .hl.lean .has-info:hover > .hover-container > .hover-info:not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .has-info:hover > .hover-container > .hover-info,
  .hl.lean .token:hover > .hover-container > .hover-info:not(.has-info *):not(.tactic *),
  .hl.lean .tactic:has(> .tactic-toggle:checked) .token:hover > .hover-container > .hover-info:not(.has-info *) {
    display: inline-block;
    position: absolute;
    top: 1rem;
    font-weight: normal;
    font-style: normal;
    width: min-content;
  }
}
*/

.hl.lean.block {
  display: block;
}

.hl.lean.inline {
  display: inline;
  white-space: pre-wrap;
}

.hl.lean .token {
  transition: all 0.25s; /* Slight fade for highlights */
}

@media (hover: hover) {
  .hl.lean .token.binding-hl, .hl.lean .literal.string:hover, .hl.lean .token.typed:hover {
    background-color: #eee;
    border-radius: 2px;
    transition: none;
  }
}


.hl.lean .has-info {
  text-decoration-style: wavy;
  text-decoration-line: underline;
  text-decoration-thickness: from-font;
}

.hl.lean .has-info .hover-info {
  display: none;
  position: absolute;
  transform: translate(0.25rem, 0.3rem);
  border: 1px solid black;
  padding: 0.5rem;
  z-index: 400;
  text-align: left;
}

.hl.lean .has-info.error {
  text-decoration-color: red;
}

@media (hover: hover) {
  .hl.lean .has-info.error:hover {
    background-color: #ffb3b3;
  }
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #ffb3b3;
}

.tippy-box[data-theme~='error'] .hl.lean .hover-info.messages > code.error {
  background: none;
  border: none;
}

.error pre {
    color: red;
}

.hl.lean .has-info.warning {
  text-decoration-color: var(--verso-warning-color);
}

@media (hover: hover) {
  .hl.lean .has-info.warning:hover {
    background-color:var(--verso-warning-color);
  }
}

.hl.lean .hover-info.messages > code.warning {
  background-color: var(--verso-warning-color);
}

.hl.lean .hover-info.messages > code.error {
  background-color: #e5e5e5;
  border-left: 0.2rem solid var(--verso-warning-color);
}

.tippy-box[data-theme~='warning'] .hl.lean .hover-info.messages > code.warning {
  background: none;
  border: none;
}


.hl.lean .has-info.info {
  text-decoration-color: blue;
}

@media (hover: hover) {
  .hl.lean .has-info.info:hover {
    background-color: #4777ff;
  }
}


.hl.lean .hover-info.messages > code.info {
  background-color: #e5e5e5;
  border-left: 0.2rem solid #4777ff;
}

.tippy-box[data-theme~='info'] .hl.lean .hover-info.messages > code.info {
  background: none;
  border: none;
}

.hl.lean div.docstring {
  font-family: sans-serif;
  white-space: normal;
  max-width: 40rem;
  width: max-content;
}

.hl.lean div.docstring > :last-child {
  margin-bottom: 0;
}

.hl.lean div.docstring > :first-child {
  margin-top: 0;
}

.hl.lean .hover-info .sep {
  display: block;
  width: auto;
  margin-left: 1rem;
  margin-right: 1rem;
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding: 0;
  height: 1px;
  border-top: 1px solid #ccc;
}

.hl.lean code {
  font-family: monospace;
}

.hl.lean .tactic-state {
  display: none;
  position: relative;
  left: 2rem;
  width: fit-content;
  border: 1px solid #888888;
  border-radius: 0.1rem;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
  z-index: 200;
}

.hl.lean.popup .tactic-state {
  position: static;
  display: block;
  width: auto;
  border: none;
  padding: 0.5rem;
  font-family: sans-serif;
  background-color: #ffffff;
}


.hl.lean .tactic {
  position: relative;
}

.hl.lean .tactic-toggle:checked ~ .tactic-state {
  display: block;
}

/*
@media (hover: hover) {
  .hl.lean .tactic:hover > .tactic-toggle:not(:checked) ~ .tactic-state {
    display: block;
    position: absolute;
    left: 0;
    transform: translate(0.25rem, 0);
    z-index: 250;
  }
}
*/

.hl.lean .tactic > label {
  position: relative;
  transition: all 0.5s;
}

@media (hover: hover) {
  .hl.lean .tactic > label:hover {
    border-bottom: 1px dotted #bbbbbb;
  }
}

.hl.lean .tactic-toggle {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .tactic > label::after {
  content: "";
  border: 1px solid #bbbbbb;
  border-radius: 1rem;
  height: 0.25rem;
  vertical-align: middle;
  width: 0.6rem;
  margin-left: 0.1rem;
  margin-right: 0.1rem;
  display: inline-block;
  transition: all 0.5s;
}

/*
@media (hover: hover) {
  .hl.lean .tactic > label:hover::after {
    border: 1px solid #aaaaaa;
    background-color: #aaaaaa;
    transition: all 0.5s;
  }
}
*/

.hl.lean .tactic > label:has(+ .tactic-toggle:checked)::after {
  border: 1px solid #999999;
  background-color: #999999;
  transition: all 0.5s;
}

.hl.lean .tactic-state .goal + .goal {
  margin-top: 1.5rem;
}

.hl.lean .tactic-state summary {
  margin-left: -0.5rem;
}

.hl.lean .tactic-state details {
  padding-left: 0.5rem;
}

.hl.lean .case-label {
  display: block;
  position: relative;
}

.hl.lean .case-label input[type="checkbox"] {
  position: absolute;
  top: 0;
  left: 0;
  opacity: 0;
  height: 0;
  width: 0;
  z-index: -10;
}

.hl.lean .case-label:has(input[type="checkbox"])::before {
  width: 1rem;
  height: 1rem;
  display: inline-block;
  background-color: black;
  content: ' ';
  transition: ease 0.2s;
  margin-right: 0.7rem;
  clip-path: polygon(100% 0, 0 0, 50% 100%);
  width: 0.6rem;
  height: 0.6rem;
}

.hl.lean .case-label:has(input[type="checkbox"]:not(:checked))::before {
  transform: rotate(-90deg);
}

.hl.lean .case-label:has(input[type="checkbox"]) {

}

.hl.lean .case-label:has(input[type="checkbox"]:checked) {

}


.hl.lean .tactic-state .labeled-case > :not(:first-child) {
  max-height: 0px;
  display: block;
  overflow: hidden;
  transition: max-height 0.1s ease-in;
  margin-left: 0.5rem;
  margin-top: 0.1rem;
}

.hl.lean .labeled-case:has(.case-label input[type="checkbox"]:checked) > :not(:first-child) {
  max-height: 100%;
}


.hl.lean .tactic-state .goal-name::before {
  font-style: normal;
  content: "case ";
}

.hl.lean .tactic-state .goal-name {
  font-style: italic;
  font-family: monospace;
}

.hl.lean .tactic-state .hypotheses {
  display: table;
}

.hl.lean .tactic-state .hypothesis {
  display: table-row;
}

.hl.lean .tactic-state .hypothesis > * {
  display: table-cell;
}


.hl.lean .tactic-state .hypotheses .colon {
  text-align: center;
  min-width: 1rem;
}

.hl.lean .tactic-state .hypotheses .name {
  text-align: right;
}

.hl.lean .tactic-state .hypotheses .name,
.hl.lean .tactic-state .hypotheses .type,
.hl.lean .tactic-state .conclusion .type {
  font-family: monospace;
}

.tippy-box[data-theme~='lean'] {
  background-color: #e5e5e5;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='lean'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
}
.tippy-box[data-theme~='lean'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
}

.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: #e5e5e5;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='top'] > .tippy-arrow::after {
  bottom: -11px;
  border-width: 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::before {
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='bottom'] > .tippy-arrow::after {
  top: -11px;
  border-width: 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: #e5e5e5;
  border-width: 11px 0 11px 11px;
}
.tippy-box[data-theme~='message'][data-placement^='left'] > .tippy-arrow::after {
  right: -11px;
  border-width: 11px 0 11px 11px;
}

.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: #e5e5e5;
  border-width: 11px 11px 11px 0;
}
.tippy-box[data-theme~='message'][data-placement^='right'] > .tippy-arrow::after {
  left: -11px;
  border-width: 11px 11px 11px 0;
}



.tippy-box[data-theme~='warning'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid var(--verso-warning-color);
}

.tippy-box[data-theme~='error'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #f7a7af;
}

.tippy-box[data-theme~='info'] {
  background-color: #e5e5e5;
  color: black;
  border: 3px solid #99b3c2;
}



.tippy-box[data-theme~='tactic'] {
  background-color: white;
  color: black;
  border: 1px solid black;
}
.tippy-box[data-theme~='tactic'][data-placement^='top'] > .tippy-arrow::before {
  border-top-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='bottom'] > .tippy-arrow::before {
  border-bottom-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='left'] > .tippy-arrow::before {
  border-left-color: white;
}
.tippy-box[data-theme~='tactic'][data-placement^='right'] > .tippy-arrow::before {
  border-right-color: white;
}

</style><style>
table.tabular {
  margin: auto;
  border-spacing: 1rem;
}
table.tabular.left-align {
  margin-right: auto;
  margin-left: 0;
}
table.tabular.center-align {
  margin: auto;
}
table.tabular.right-align {
  margin-left auto;
  margin-right: 0;
}
table.tabular td, table.tabular th {
  text-align: left;
  vertical-align: top;
}
table.tabular td > p:first-child, table.tabular th > p:first-child {
  margin-top: 0;
}
table.tabular td > p:last-child, table.tabular th > p:first-child {
  margin-bottom: 0;
}
</style><style>
.lake-opt a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.lake-opt a:hover {
  text-decoration: currentcolor underline solid;
}
</style><style>
div.TODO {
  border: 5px solid red;
  position: relative;
}
div.TODO::before {
  content: "TODO";
  position: absolute;
  top: 0;
  right: 0;
  color: red;
  font-size: large;
  font-weight: bold;
  transform: rotate(-90deg) translate(-2em);
}
</style><style>
.toml {
  font-family: var(--verso-code-font-family);
}

pre.toml {
  margin: 0.5rem .75rem;
  padding: 0.1rem 0;
}

.toml .bool, .toml .table-header {
    font-weight: 600;
}

.toml .table-header .key {
    color: #3030c0;
}

.toml .bool {
    color: #107090;
}

.toml .string {
    color: #0a5020;
}

.toml a, .toml a:link {
    color: inherit;
    text-decoration: none;
    border-bottom: 1px dotted #a2a2a2;
}

.toml a:hover {
    border-bottom-style: solid;
}
</style><style>
    main .theIndex {
      padding-left: 0;
      font-family: var(--verso-text-font-family);
    }

    main .theIndex nav {
      position: sticky;
      top: var(--verso-header-height);
      background: white;
      font-family: var(--verso-structure-font-family);
    }

    main .theIndex [id] {
      /* This needs the combined height of the index header and the page header. We
         know the height of the page header, but the index header height varies, so
         we use the maximum height it gets which also works well for readers with
         wide screens */
      scroll-margin-top: calc(var(--verso-header-height) + 7.5rem);
    }

    @media screen and (max-width: 700px) {
      /* On mobile, the sticky index takes up half the screen. */
      main .theIndex nav {
        position: static;
      }

      main .theIndex [id] {
        /* On mobile, the index header is not sticky, so we just need to
        be below the page header. */
        scroll-margin-top: var(--verso-header-height);
      }
    }

    main .theIndex nav ol {
      padding: 0;
    }

    main .theIndex nav ol li {
      display: inline-block;
    }

    main .theIndex nav ol li a {
      /* Padding instead of margin to have a bigger click target */
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    /* Increase the size of the touch target on phones */
    @media screen and (max-width: 700px) {
      main .theIndex nav ol li a {
        padding-left: 0.75rem;
        padding-right: 0.75rem;
      }
    }

    main .theIndex nav ol li:first-child a {
      padding-left: 0;
    }

    main .theIndex nav ol li + li:before {
      content: "|";
    }

    main .theIndex h1,
    main .theIndex h2,
    main .theIndex h3,
    main .theIndex h4,
    main .theIndex h5,
    main .theIndex h6 {
      margin-top: 0;
    }

    main .theIndex ol {
      list-style-type: none;
    }

    main .theIndex .division > ol {
      padding-left: 0;
      display: flex;
      flex-direction: column;
      gap: .5rem;
      overflow-wrap: break-word;
    }

   main .theIndex .division > ol > li {
      margin-bottom: 0.5rem;
    }

    main .theIndex .division ol ol {
      padding-left: 1rem;
    }

    main .theIndex .division {
      break-inside: avoid;
      counter-reset: none;
      max-width: none;
      width: auto;
    }
    </style><style>
.namedocs .title {
  font-family: var(--verso-structure-font-family);
  font-size: larger;
  margin-top: 0;
  margin-left: 1rem;
  margin-right: 1.5rem;
  margin-bottom: 0.75rem;
  display: inline-block;
}
</style><style>
.toml-field a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.toml-field a:hover {
  text-decoration: currentcolor underline solid;
}
</style><style>
.env-var a {
  color: inherit;
  text-decoration: currentcolor underline dotted;
}
.env-var a:hover {
  text-decoration: currentcolor underline solid;
}

</style><style>.plain-keyword {
  font-weight: 500;
}
</style><style>
.syntax-error {
  white-space: normal;
}
.syntax-error::before {
  counter-reset: linenumber;
}
.syntax-error > .line {
  display: block;
  white-space: pre;
  counter-increment: linenumber;
  font-family: var(--verso-code-font-family);
}
.syntax-error > .line::before {
  -webkit-user-select: none;
  display: inline-block;
  content: counter(linenumber);
  border-right: 1px solid #ddd;
  width: 2em;
  padding-right: 0.25em;
  margin-right: 0.25em;
  font-family: var(--verso-code-font-family);
  text-align: right;
}

:is(.syntax-error > .line):has(.parse-message)::before {
  color: red;
  font-weight: bold;
}

.syntax-error .parse-message > code.hover-info {
  display:none;
}

.syntax-error .parse-message {
  white-space: pre;
  text-decoration-skip-ink: none;
  color: red;
  font-weight: 600;
}
</style><script>
      
window.addEventListener("load", () => {
  const innerProps = {
    onShow(inst) { console.log(inst); },
    onHide(inst) { console.log(inst); },
    content(tgt) {
      const content = document.createElement("span");
      const state = tgt.querySelector(".hover-info").cloneNode(true);
      state.style.display = "block";
      content.appendChild(state);
      /* Render docstrings - TODO server-side */
      if ('undefined' !== typeof marked) {
          for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
              const str = d.innerText;
              const html = marked.parse(str);
              const rendered = document.createElement("div");
              rendered.classList.add("docstring");
              rendered.innerHTML = html;
              d.parentNode.replaceChild(rendered, d);
          }
      }
      content.style.display = "block";
      content.className = "hl lean popup";
      return content;
    }
  };
  const outerProps = {
    allowHtml: true,
    theme: "lean",
    placement: 'bottom-start',
    maxWidth: "none",
    delay: 100,
    moveTransition: 'transform 0.2s ease-out',
    onTrigger(inst, event) {
      const ref = event.currentTarget;
      const block = ref.closest('.hl.lean');
      block.querySelectorAll('.active').forEach((i) => i.classList.remove('active'));
      ref.classList.add("active");
    },
    onUntrigger(inst, event) {
      const ref = event.currentTarget;
      const block = ref.closest('.hl.lean');
      block.querySelectorAll('.active').forEach((i) => i.classList.remove('active'));
    }
  };
  tippy.createSingleton(tippy('pre.grammar.hl.lean .nonterminal.documented, pre.grammar.hl.lean .from-nonterminal.documented, pre.grammar.hl.lean .local-name.documented', innerProps), outerProps);
});
</script>
    <script>
      
window.addEventListener("load", () => {
  tippy('.keyword-of.hl.lean', {
    allowHtml: true,
    /* DEBUG -- remove the space: * /
    onHide(any) { return false; },
    trigger: "click",
    // */
    maxWidth: "none",

    theme: "lean",
    placement: 'bottom-start',
    content (tgt) {
      const content = document.createElement("span");
      const state = tgt.querySelector(".hover-info").cloneNode(true);
      state.style.display = "block";
      content.appendChild(state);
      /* Render docstrings - TODO server-side */
      if ('undefined' !== typeof marked) {
          for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
              const str = d.innerText;
              const html = marked.parse(str);
              const rendered = document.createElement("div");
              rendered.classList.add("docstring");
              rendered.innerHTML = html;
              d.parentNode.replaceChild(rendered, d);
          }
      }
      content.style.display = "block";
      content.className = "hl lean popup";
      return content;
    }
  });
});
</script>
    <script>
      
window.onload = () => {

    // Don't show hovers inside of closed tactic states
    function blockedByTactic(elem) {
      let parent = elem.parentNode;
      while (parent && "classList" in parent) {
        if (parent.classList.contains("tactic")) {
          const toggle = parent.querySelector("input.tactic-toggle");
          if (toggle) {
            return !toggle.checked;
          }
        }
        parent = parent.parentNode;
      }
      return false;
    }

    function blockedByTippy(elem) {
      // Don't show a new hover until the old ones are all closed.
      // Scoped to the nearest "top-level block" to avoid being O(n) in the size of the document.
      var block = elem;
      const topLevel = new Set(["section", "body", "html", "nav", "header"]);
      while (block.parentNode && !topLevel.has(block.parentNode.nodeName.toLowerCase())) {
        block = block.parentNode;
      }
      for (const child of block.querySelectorAll(".token, .has-info")) {
        if (child._tippy && child._tippy.state.isVisible) { return true };
      }
      return false;
    }

    for (const c of document.querySelectorAll(".hl.lean .token")) {
        if (c.dataset.binding != "") {
            c.addEventListener("mouseover", (event) => {
                if (blockedByTactic(c)) {return;}
                const context = c.closest(".hl.lean").dataset.leanContext;
                for (const example of document.querySelectorAll(".hl.lean")) {
                    if (example.dataset.leanContext == context) {
                        for (const tok of example.querySelectorAll(".token")) {
                            if (c.dataset.binding == tok.dataset.binding) {
                                tok.classList.add("binding-hl");
                            }
                        }
                    }
                }
            });
        }
        c.addEventListener("mouseout", (event) => {
            for (const tok of document.querySelectorAll(".hl.lean .token")) {
                tok.classList.remove("binding-hl");
            }
        });
    }
    /* Render docstrings */
    if ('undefined' !== typeof marked) {
        for (const d of document.querySelectorAll("code.docstring, pre.docstring")) {
            const str = d.innerText;
            const html = marked.parse(str);
            const rendered = document.createElement("div");
            rendered.classList.add("docstring");
            rendered.innerHTML = html;
            d.parentNode.replaceChild(rendered, d);
        }
    }
    // Add hovers
    let siteRoot = typeof __versoSiteRoot !== 'undefined' ? __versoSiteRoot : "/";
    let docsJson = siteRoot + "-verso-docs.json";
    fetch(docsJson).then((resp) => resp.json()).then((versoDocData) => {

      const defaultTippyProps = {
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        theme: "lean",
        maxWidth: "none",
        appendTo: () => document.body,
        interactive: true,
        delay: [100, null],
        ignoreAttributes: true,
        onShow(inst) {
          if (inst.reference.querySelector(".hover-info") || "versoHover" in inst.reference.dataset) {
            if (blockedByTactic(inst.reference)) { return false };
            if (blockedByTippy(inst.reference)) { return false; }
          } else { // Nothing to show here!
            return false;
          }
        },
        content (tgt) {
          const content = document.createElement("span");
          content.className = "hl lean";
          content.style.display = "block";
          content.style.maxHeight = "300px";
          content.style.overflowY = "auto";
          content.style.overflowX = "hidden";
          const hoverId = tgt.dataset.versoHover;
          const hoverInfo = tgt.querySelector(".hover-info");
          if (hoverId) { // Docstrings from the table
            // TODO stop doing an implicit conversion from string to number here
            let data = versoDocData[hoverId];
            if (data) {
              const info = document.createElement("span");
              info.className = "hover-info";
              info.style.display = "block";
              info.innerHTML = data;
              content.appendChild(info);
              /* Render docstrings - TODO server-side */
              if ('undefined' !== typeof marked) {
                  for (const d of content.querySelectorAll("code.docstring, pre.docstring")) {
                      const str = d.innerText;
                      const html = marked.parse(str);
                      const rendered = document.createElement("div");
                      rendered.classList.add("docstring");
                      rendered.innerHTML = html;
                      d.parentNode.replaceChild(rendered, d);
                  }
              }
            } else {
              content.innerHTML = "Failed to load doc ID: " + hoverId;
            }
          } else if (hoverInfo) { // The inline info, still used for compiler messages
            content.appendChild(hoverInfo.cloneNode(true));
          }
          return content;
        }
      };

      const addTippy = (selector, props) => {
        tippy(selector, Object.assign({}, defaultTippyProps, props));
      };
      addTippy('.hl.lean .const.token, .hl.lean .keyword.token, .hl.lean .literal.token, .hl.lean .option.token, .hl.lean .var.token, .hl.lean .typed.token', {theme: 'lean'});
      addTippy('.hl.lean .has-info.warning', {theme: 'warning message'});
      addTippy('.hl.lean .has-info.info', {theme: 'info message'});
      addTippy('.hl.lean .has-info.error', {theme: 'error message'});

      tippy('.hl.lean .tactic', {
        allowHtml: true,
        /* DEBUG -- remove the space: * /
        onHide(any) { return false; },
        trigger: "click",
        // */
        maxWidth: "none",
        onShow(inst) {
          const toggle = inst.reference.querySelector("input.tactic-toggle");
          if (toggle && toggle.checked) {
            return false;
          }
          if (blockedByTippy(inst.reference)) { return false; }
        },
        theme: "tactic",
        placement: 'bottom-start',
        content (tgt) {
          const content = document.createElement("span");
          const state = tgt.querySelector(".tactic-state").cloneNode(true);
          state.style.display = "block";
          content.appendChild(state);
          content.style.display = "block";
          content.className = "hl lean popup";
          return content;
        }
      });
  });
}
</script>
    <script type="module" src="static/search/search-init.js"></script>
    </head>
  <body>
    <header>
      <div class="header-logo-wrapper">
        <a href="" id="logo"><img src="static/lean_logo.svg"></a></div>
      <div class="header-title-wrapper">
        <a href="" class="header-title"><h1>
            The Lean Language Reference</h1>
          </a></div>
      </header>
    <label for="toggle-toc" id="toggle-toc-click"><span class="line line1"></span><span class="line line2"></span><span class="line line3"></span></label><div class="with-toc">
      <div class="toc-backdrop" onclick="document.getElementById('toggle-toc-click')?.click()"></div>
      <nav id="toc">
        <input type="checkbox" id="toggle-toc"><div class="first">
          <a href="" class="toc-title"><h1>
              The Lean Language Reference</h1>
            </a><div class="split-tocs">
            <div class="split-toc book">
              <div class="title">
                <label for="--verso-manual-toc-----bookRoot" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-----bookRoot"></label><span class="">Table of Contents</span></div>
              <table><tr class="numbered"><td class="num">1.</td><td><a href="Introduction/#introduction">Introduction</a></td></tr><tr class="numbered"><td class="num">2.</td><td><a href="Elaboration-and-Compilation/#The-Lean-Language-Reference--Elaboration-and-Compilation">Elaboration and Compilation</a></td></tr><tr class="numbered"><td class="num">3.</td><td><a href="Interacting-with-Lean/#interaction">Interacting with Lean</a></td></tr><tr class="numbered"><td class="num">4.</td><td><a href="The-Type-System/#type-system">The Type System</a></td></tr><tr class="numbered"><td class="num">5.</td><td><a href="Source-Files-and-Modules/#files">Source Files and Modules</a></td></tr><tr class="numbered"><td class="num">6.</td><td><a href="Namespaces-and-Sections/#namespaces-sections">Namespaces and Sections</a></td></tr><tr class="numbered"><td class="num">7.</td><td><a href="Definitions/#definitions">Definitions</a></td></tr><tr class="numbered"><td class="num">8.</td><td><a href="Axioms/#axioms">Axioms</a></td></tr><tr class="numbered"><td class="num">9.</td><td><a href="Attributes/#attributes">Attributes</a></td></tr><tr class="numbered"><td class="num">10.</td><td><a href="Terms/#terms">Terms</a></td></tr><tr class="numbered"><td class="num">11.</td><td><a href="Type-Classes/#type-classes">Type Classes</a></td></tr><tr class="numbered"><td class="num">12.</td><td><a href="Coercions/#coercions">Coercions</a></td></tr><tr class="numbered"><td class="num">13.</td><td><a href="Tactic-Proofs/#tactics">Tactic Proofs</a></td></tr><tr class="current numbered"><td class="num">14.</td><td><a href="Functors___-Monads-and--do--Notation/#monads-and-do">Functors, Monads and <code>do</code>-Notation</a></td></tr><tr class="numbered"><td class="num">15.</td><td><a href="IO/#io">IO</a></td></tr><tr class="numbered"><td class="num">16.</td><td><a href="The-Simplifier/#the-simplifier">The Simplifier</a></td></tr><tr class="numbered"><td class="num">17.</td><td><a href="Basic-Propositions/#basic-props">Basic Propositions</a></td></tr><tr class="numbered"><td class="num">18.</td><td><a href="Basic-Types/#basic-types">Basic Types</a></td></tr><tr class="numbered"><td class="num">19.</td><td><a href="Notations-and-Macros/#language-extension">Notations and Macros</a></td></tr><tr class="numbered"><td class="num">20.</td><td><a href="Run-Time-Code/#runtime">Run-Time Code</a></td></tr><tr class="numbered"><td class="num">21.</td><td><a href="Build-Tools-and-Distribution/#build-tools-and-distribution">Build Tools and Distribution</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="releases/#release-notes">Release Notes</a></td></tr><tr class="unnumbered"><td class="num"><td><a href="the-index/#The-Lean-Language-Reference--Index">Index</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-monads-and-do" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-monads-and-do" checked="checked"></label><span class="number">14.</span> <span class=""><a href="Functors___-Monads-and--do--Notation/#monads-and-do">Functors, Monads and <code>do</code>-Notation</a></span></div>
              <table><tr class="numbered"><td class="num">14.1.</td><td><a href="Functors___-Monads-and--do--Notation/Laws/#monad-laws">Laws</a></td></tr><tr class="numbered"><td class="num">14.2.</td><td><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#lifting-monads">Lifting Monads</a></td></tr><tr class="numbered"><td class="num">14.3.</td><td><a href="Functors___-Monads-and--do--Notation/Syntax/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Syntax">Syntax</a></td></tr><tr class="numbered"><td class="num">14.4.</td><td><a href="Functors___-Monads-and--do--Notation/API-Reference/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--API-Reference">API Reference</a></td></tr><tr class="current numbered"><td class="num">14.5.</td><td><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#monad-varieties">Varieties of Monads</a></td></tr></table></div>
            <div class="split-toc">
              <div class="title">
                <label for="--verso-manual-toc-monad-varieties" class="toggle-split-toc"><input type="checkbox" class="toggle-split-toc" id="--verso-manual-toc-monad-varieties" checked="checked"></label><span class="number">14.5.</span> <span class="current"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#monad-varieties">Varieties of Monads</a></span></div>
              <ol>
                <li>
                  <span class="header head-1"><span class="level-num">1.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Monad-Type-Classes">Monad Type Classes</a></span></li>
                <li>
                  <span class="header head-1"><span class="level-num">2.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#monad-transformers">Monad Transformers</a></span></li>
                <li>
                  <span class="header head-1"><span class="level-num">3.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Identity">Identity</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id"><code>Id</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id___run"><code>Id.run</code></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">4.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#state-monads">State</a></span></li>
                <li>
                  <span class="header head-2"><span class="level-num">4.1.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--General-State-API">General State API</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><code>MonadState</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___get"><code>MonadState.get</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modify"><code>modify</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___modifyGet"><code>MonadState.modifyGet</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#getModify"><code>getModify</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><code>MonadStateOf</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#getThe"><code>getThe</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modifyThe"><code>modifyThe</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modifyGetThe"><code>modifyGetThe</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">4.2.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--Tuple-Based-State-Monads">Tuple-Based State Monads</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><code>StateM</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><code>StateT</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___run"><code>StateT.run</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___get"><code>StateT.get</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___set"><code>StateT.set</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___orElse"><code>StateT.orElse</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___failure"><code>StateT.failure</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___run___"><code>StateT.run'</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___bind"><code>StateT.bind</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___modifyGet"><code>StateT.modifyGet</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___lift"><code>StateT.lift</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___map"><code>StateT.map</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___pure"><code>StateT.pure</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">4.3.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--State-Monads-in-Continuation-Passing-Style">State Monads in Continuation Passing Style</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><code>StateCpsT</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT___lift"><code>StateCpsT.lift</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT___runK"><code>StateCpsT.runK</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT___run___"><code>StateCpsT.run'</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT___run"><code>StateCpsT.run</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">4.4.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--State-Monads-from-Mutable-References">State Monads from Mutable References</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#STWorld___mk"><code>STWorld</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Lean___Parser___Term___stateRefT"><span class="syntax"><span class="keyword">StateRefT</span><span class="ws"> </span><span class="meta">…</span><span class="ws"> </span><span class="meta">…</span></span></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><code>StateRefT'</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT______get"><code>StateRefT'.get</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT______set"><code>StateRefT'.set</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT______modifyGet"><code>StateRefT'.modifyGet</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT______run"><code>StateRefT'.run</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT______run___"><code>StateRefT'.run'</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT______lift"><code>StateRefT'.lift</code></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">5.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#reader-monad">Reader</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><code>MonadReader</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReaderOf___mk"><code>MonadReaderOf</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#readThe"><code>readThe</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><code>MonadWithReader</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReaderOf___mk"><code>MonadWithReaderOf</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#withTheReader"><code>withTheReader</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><code>ReaderT</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderM"><code>ReaderM</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___run"><code>ReaderT.run</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___read"><code>read</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___adapt"><code>ReaderT.adapt</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___pure"><code>ReaderT.pure</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___bind"><code>ReaderT.bind</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___orElse"><code>ReaderT.orElse</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT___failure"><code>ReaderT.failure</code></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">6.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#option-monad">Option</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><code>OptionT</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___run"><code>OptionT.run</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___lift"><code>OptionT.lift</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___mk"><code>OptionT.mk</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___pure"><code>OptionT.pure</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___bind"><code>OptionT.bind</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___fail"><code>fail</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___orElse"><code>OptionT.orElse</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT___tryCatch"><code>OptionT.tryCatch</code></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">7.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#exception-monads">Exceptions</a></span></li>
                <li>
                  <span class="header head-2"><span class="level-num">7.1.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Exceptions">Exceptions</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><code>Except</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___pure"><code>Except.pure</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___bind"><code>Except.bind</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___map"><code>Except.map</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___mapError"><code>mapError</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___tryCatch"><code>Except.tryCatch</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___orElseLazy"><code>orElseLazy</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___isOk"><code>isOk</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___toOption"><code>toOption</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___toBool"><code>toBool</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">7.2.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Type-Class">Type Class</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><code>MonadExcept</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___ofExcept"><code>ofExcept</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___orElse"><code>MonadExcept.orElse</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___orelse___"><code>orelse'</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><code>MonadExceptOf</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#throwThe"><code>throwThe</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#tryCatchThe"><code>tryCatchThe</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">7.3.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--___Finally___-Computations">“Finally” Computations</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadFinally___mk"><code>MonadFinally</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">7.4.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Transformer">Transformer</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><code>ExceptT</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___lift"><code>ExceptT.lift</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___run"><code>ExceptT.run</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___pure"><code>ExceptT.pure</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___bind"><code>ExceptT.bind</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___bindCont"><code>bindCont</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___tryCatch"><code>ExceptT.tryCatch</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___mk"><code>ExceptT.mk</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___map"><code>ExceptT.map</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___adapt"><code>ExceptT.adapt</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">7.5.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Exception-Monads-in-Continuation-Passing-Style">Exception Monads in Continuation Passing Style</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><code>ExceptCpsT</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT___runCatch"><code>runCatch</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT___runK"><code>ExceptCpsT.runK</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT___run"><code>ExceptCpsT.run</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT___lift"><code>ExceptCpsT.lift</code></a></li>
                <li>
                  <span class="header head-1"><span class="level-num">8.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Combined-Error-and-State-Monads">Combined Error and State Monads</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><code>EStateM</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Result___ok"><code>Result</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___run"><code>EStateM.run</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___run___"><code>EStateM.run'</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___adaptExcept"><code>adaptExcept</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___fromStateM"><code>fromStateM</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">8.1.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Combined-Error-and-State-Monads--State-Rollback">State Rollback</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><code>Backtrackable</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___nonBacktrackable"><code>nonBacktrackable</code></a></li>
                <li>
                  <span class="header head-2"><span class="level-num">8.2.</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Combined-Error-and-State-Monads--Implementations">Implementations</a></span></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___map"><code>EStateM.map</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___pure"><code>EStateM.pure</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___bind"><code>EStateM.bind</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___orElse"><code>EStateM.orElse</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___orElse___"><code>orElse'</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___seqRight"><code>seqRight</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___tryCatch"><code>EStateM.tryCatch</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___throw"><code>throw</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___get"><code>EStateM.get</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___set"><code>EStateM.set</code></a></li>
                <li>
                  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___modifyGet"><code>EStateM.modifyGet</code></a></li>
                </ol>
              </div>
            </div>
          </div>
        <div class="last">
          <ul id="meta-links">
            <li>
              <a href="https://github.com/leanprover/reference-manual">Source Code</a></li>
            <li>
              <a href="https://github.com/leanprover/reference-manual/issues">Report Issues</a></li>
            </ul>
          </div>
        </nav>
      <main><div class="content-wrapper">
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Functors___-Monads-and--do--Notation/API-Reference/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--API-Reference" rel="prev" title="14.4. API Reference"><span class="arrow">←</span><span class="where">14.4. API Reference</span></a><a class="local-button active" href="IO/#io" rel="next" title="15. IO"><span class="where">15. IO</span><span class="arrow">→</span></a></nav>
          <section>
            <h1>
              14.5. Varieties of Monads<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=monad-varieties" title="Permalink">🔗</a></span></h1>
            <p>
              The <code class="hl lean inline" data-lean-context="examples"><a href="IO/Logical-Model/#IO"><span class="const token" data-binding="const-IO" data-verso-hover="1">IO</span></a></code> monad has many, many effects, and is used for writing programs that need to interact with the world.
It is described in <a href="IO/#io">its own section</a>.
Programs that use <code class="hl lean inline" data-lean-context="examples"><a href="IO/Logical-Model/#IO"><span class="const token" data-binding="const-IO" data-verso-hover="1">IO</span></a></code> are essentially black boxes: they are typically not particularly amenable to verification.</p>
            <p>
              Many algorithms are easiest to express with a much smaller set of effects.
These effects can often be simulated; for example, mutable state can be simulated by passing around a tuple that contains both the program's value and the state.
These simulated effects are easier to reason formally about, because they are defined using ordinary code rather than new language primitives.</p>
            <p>
              The standard library provides abstractions for working with commonly-used effects.
Many frequently-used effects fall into a small number of categories:</p>
            <dl><dt> <span id="--tech-term-State-monads" class="def-technical-term">State monads</span> have mutable state</dt><dd><p>
                  Computations that have access to some data that may be modified by other parts of the computation use <em>mutable state</em>.
  State can be implemented in a variety of ways, described in the section on <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#state-monads">state monads</a> and captured in the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a></code> type class.</p>
                </dd><dt> <span id="--tech-term-Reader-monads" class="def-technical-term">Reader monads</span> are parameterized computations</dt><dd><p>
                  Computations that can read the value of some parameter provided by a context exist in most programming languages, but many languages that feature state and exceptions as first-class features do not have built-in facilities for defining new parameterized computations.
  Typically, these computations are provided with a parameter value when invoked, and sometimes they can locally override it.
  Parameter values have <em>dynamic extent</em>: the value provided most recently in the call stack is the one that is used.
  They can be simulated by passing a value unchanged through a sequence of function calls; however, this technique can make code harder to read and introduces a risk that the values may be passed incorrectly to further calls by mistake.
  They can also be simulated using mutable state with a careful discipline surrounding the modification of the state.
  Monads that maintain a parameter, potentially allowing it to be overridden in a section of the call stack, are called <em>reader monads</em>.
  Reader monads are captured in the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><span class="const token" data-binding="const-MonadReader" data-verso-hover="2821">MonadReader</span></a></code> type class.
  Additionally, reader monads that allow the parameter value to be locally overridden are captured in the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader" data-verso-hover="2822">MonadWithReader</span></a></code> type class.</p>
                </dd><dt> <span id="--tech-term-Exception-monads" class="def-technical-term">Exception monads</span> have exceptions</dt><dd><p>
                  Computations that may terminate early with an exceptional value use <em>exceptions</em>.
  They are typically modeled with a sum type that has a constructor for ordinary termination and a constructor for early termination with errors.
  Exception monads are described in the section on <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#exception-monads">exception monads</a>, and captured in the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a></code> type class.</p>
                </dd></dl><section>
              <h2 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Monad-Type-Classes">
                14.5.1. Monad Type Classes</h2>
              <p>
                Using type classes like <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a></code> allow client code to be polymorphic with respect to monads.
Together with automatic lifting, this allows programs to be re-usable in many different monads and makes them more robust to refactoring.</p>
              <p>
                It's important to be aware that effects in a monad may not interact in only one way.
For example, a monad with state and exceptions may or may not roll back state changes when an exception is thrown.
If this matters for the correctness of a function, then it should use a more specific signature.</p>
              <details class="example"><summary class="description">Effect Ordering</summary><div class="example-content">
                  <p>
                    The function <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#sumNonFives"><span class="const token" data-binding="const-sumNonFives" data-verso-hover="2824">sumNonFives</span></a></code> adds the contents of a list using a state monad, terminating early if it encounters a <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="7">5</span></code>.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-4447">def</span> <span class="const token" data-binding="const-sumNonFives" data-verso-hover="2824" id="sumNonFives">sumNonFives</span> <span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">}</span>
    <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">]</span>
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="1017">xs</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Linked-Lists/#List___nil"><span class="const token" data-binding="const-List" data-verso-hover="43">List</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span> <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.do-4559">do</span></a>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doFor-4564" data-verso-hover="1010">for</span> <span class="var token" data-binding="var-_uniq.163" data-verso-hover="7">x</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doForDecl-4568">in</span> <span class="var token" data-binding="var-_uniq.26" data-verso-hover="1017">xs</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doFor-4564" data-verso-hover="1010">do</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doIf-4583">if</span> <span class="var token" data-binding="var-_uniq.163" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">==</span> <span class="typed token" data-binding="" data-verso-hover="7">5</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doIf-4583">then</span>
      <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2825">"Five was encountered"</span>
    <span class="keyword token" data-binding="kw-occ-null-4637">else</span>
      <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modify"><span class="const token" data-binding="const-modify" data-verso-hover="2711">modify</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">·</span> <span class="unknown token" data-binding="">+</span> <span class="var token" data-binding="var-_uniq.163" data-verso-hover="7">x</span><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><p>
                    Running it in one monad returns the state at the time that <code class="hl lean inline" data-lean-context="examples"><span class="typed token" data-binding="" data-verso-hover="7">5</span></code> was encountered:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">(Except.error "Five was encountered", 10)</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-4778" data-verso-hover="6">#eval</span></a></span>
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#sumNonFives"><span class="const token" data-binding="const-sumNonFives" data-verso-hover="2824">sumNonFives</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">m</span> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="7">1</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">2</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">3</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">4</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">5</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">6</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">|&gt;.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___run"><span class="const token" data-binding="const-ExceptT.run" data-verso-hover="2826">run</span></a> <span class="unknown token" data-binding="">|&gt;.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___run"><span class="const token" data-binding="const-StateT.run" data-verso-hover="2745">run</span></a> <span class="typed token" data-binding="" data-verso-hover="7">0</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>(Except.error "Five was encountered", 10)
</pre></div>
                  <p>
                    In another, the state is discarded:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">Except.error "Five was encountered"</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-5001" data-verso-hover="6">#eval</span></a></span>
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#sumNonFives"><span class="const token" data-binding="const-sumNonFives" data-verso-hover="2824">sumNonFives</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">m</span> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="7">1</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">2</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">3</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">4</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">5</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">6</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">|&gt;.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___run"><span class="const token" data-binding="const-StateT.run" data-verso-hover="2745">run</span></a> <span class="typed token" data-binding="" data-verso-hover="7">0</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>Except.error "Five was encountered"
</pre></div>
                  <p>
                    In the second case, an exception handler would roll back the state to its value at the start of the <span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Term.termTry : term</code></code><code class="kw">try</code></span>.
The following function is thus incorrect:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="doc-comment token" data-binding="">/-- Computes the sum of the non-5 prefix of a list. -/</span>
<span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-5399">def</span> <span class="const token" data-binding="const-sumUntilFive" data-verso-hover="2827" id="sumUntilFive">sumUntilFive</span> <span class="unknown token" data-binding="">{</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">}</span>
    <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span><span class="unknown token" data-binding="">]</span>
    <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.26" data-verso-hover="1017">xs</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Linked-Lists/#List___nil"><span class="const token" data-binding="const-List" data-verso-hover="43">List</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span>
    <span class="var token" data-binding="var-_uniq.3" data-verso-hover="239">m</span> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.do-5511">do</span></a>
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState.set" data-verso-hover="2828">MonadState.set</span></a> <span class="typed token" data-binding="" data-verso-hover="7">0</span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doTry-5535">try</span>
    <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#sumNonFives"><span class="const token" data-binding="const-sumNonFives" data-verso-hover="2824">sumNonFives</span></a> <span class="var token" data-binding="var-_uniq.26" data-verso-hover="1017">xs</span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doCatch-5560">catch</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">=&gt;</span>
    <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">)</span>
  <span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span>
<span class="unknown token" data-binding=""></span></code><p>
                    In one monad, the answer is correct:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">Except.ok 10</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-5655" data-verso-hover="6">#eval</span></a></span>
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#sumUntilFive"><span class="const token" data-binding="const-sumUntilFive" data-verso-hover="2827">sumUntilFive</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">m</span> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="7">1</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">2</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">3</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">4</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">5</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">6</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">|&gt;.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___run"><span class="const token" data-binding="const-ExceptT.run" data-verso-hover="2826">run</span></a> <span class="unknown token" data-binding="">|&gt;.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___run___"><span class="const token" data-binding="const-StateT.run'" data-verso-hover="2829">run'</span></a> <span class="typed token" data-binding="" data-verso-hover="7">0</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>Except.ok 10
</pre></div>
                  <p>
                    In the other, it is not:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">Except.ok 0</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-5842" data-verso-hover="6">#eval</span></a></span>
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#sumUntilFive"><span class="const token" data-binding="const-sumUntilFive" data-verso-hover="2827">sumUntilFive</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">m</span> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span>
    <span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="7">1</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">2</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">3</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">4</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">5</span><span class="unknown token" data-binding="">,</span> <span class="typed token" data-binding="" data-verso-hover="7">6</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">|&gt;.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___run___"><span class="const token" data-binding="const-StateT.run'" data-verso-hover="2829">run'</span></a> <span class="typed token" data-binding="" data-verso-hover="7">0</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>Except.ok 0
</pre></div>
                  </div>
                </details><p>
                A single monad may support multiple version of the same effect.
For example, there might be a mutable <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a></code> and a mutable <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></code> or two separate reader parameters.
As long as they have different types, it should be convenient to access both.
In typical use, some monadic operations that are overloaded in type classes have type information available for <a class="technical-term" href="Type-Classes/#--tech-term-synthesizes">instance synthesis</a>, while others do not.
For example, the argument passed to <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState.set" data-verso-hover="2828">set</span></a></code> determines the type of the state to be used, while <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span></code> takes no such argument.
The type information present in applications of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState.set" data-verso-hover="2828">set</span></a></code> can be used to pick the correct instance when multiple states are available, which suggests that the type of the mutable state should be an input parameter or <a class="technical-term" href="Type-Classes/Instance-Synthesis/#--tech-term-Semi-output-parameters">semi-output parameter</a> so that it can be used to select instances.
The lack of type information present in uses of <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span></code>, on the other hand, suggests that the type of the mutable state should be an <a class="technical-term" href="Type-Classes/Instance-Synthesis/#--tech-term-output-parameter">output parameter</a> in <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a></code>, so type class synthesis determines the state's type from the monad itself.</p>
              <p>
                This dichotomy is solved by having two versions of many of the effect type classes.
The version with a semi-output parameter has the suffix <code>-Of</code>, and its operations take types explicitly as needed.
Examples include <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a></code>, <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReaderOf___mk"><span class="const token" data-binding="const-MonadReaderOf" data-verso-hover="2831">MonadReaderOf</span></a></code>, and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a></code>.
The operations with explicit type parameters have names ending in <code>-The</code>, such as <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#getThe"><span class="const token" data-binding="const-getThe" data-verso-hover="2833">getThe</span></a></code>, <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#readThe"><span class="const token" data-binding="const-readThe" data-verso-hover="2834">readThe</span></a></code>, and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#tryCatchThe"><span class="const token" data-binding="const-tryCatchThe" data-verso-hover="2835">tryCatchThe</span></a></code>.
The name of the version with an output parameter is undecorated.
The standard library exports a mix of operations from the <code>-Of</code> and undecorated versions of each type class, based on what has good inference behavior in typical use cases.</p>
              <table class="tabular"><tr><th><p>
                      Operation</p>
                    </th><th><p>
                      From Class</p>
                    </th><th><p>
                      Notes</p>
                    </th></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a></code></p>
                    </td><td><p>
                      Output parameter improves type inference</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="2786">set</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a></code></p>
                    </td><td><p>
                      Semi-output parameter uses type information from <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="2786">set</span></a></code>'s argument</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modify"><span class="const token" data-binding="const-modify" data-verso-hover="2711">modify</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a></code></p>
                    </td><td><p>
                      Output parameter is needed to allow functions without annotations</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2836">modifyGet</span></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a></code></p>
                    </td><td><p>
                      Output parameter is needed to allow functions without annotations</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><span class="const token" data-binding="const-MonadReader.read" data-verso-hover="2715">read</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><span class="const token" data-binding="const-MonadReader" data-verso-hover="2821">MonadReader</span></a></code></p>
                    </td><td><p>
                      Output parameter is needed due to lack of type information from arguments</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#readThe"><span class="const token" data-binding="const-readThe" data-verso-hover="2834">readThe</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReaderOf___mk"><span class="const token" data-binding="const-MonadReaderOf" data-verso-hover="2831">MonadReaderOf</span></a></code></p>
                    </td><td><p>
                      Semi-output parameter uses the provided type to guide synthesis</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader.withReader" data-verso-hover="2837">withReader</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader" data-verso-hover="2822">MonadWithReader</span></a></code></p>
                    </td><td><p>
                      Output parameter avoids the need for type annotations on the function</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#withTheReader"><span class="const token" data-binding="const-withTheReader" data-verso-hover="2838">withTheReader</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReaderOf___mk"><span class="const token" data-binding="const-MonadWithReaderOf" data-verso-hover="2839">MonadWithReaderOf</span></a></code></p>
                    </td><td><p>
                      Semi-output parameter uses provided type to guide synthesis</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a></code></p>
                    </td><td><p>
                      Output parameter enables the use of constructor dot notation for the exception</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#throwThe"><span class="const token" data-binding="const-throwThe" data-verso-hover="2840">throwThe</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a></code></p>
                    </td><td><p>
                      Semi-output parameter uses provided type to guide synthesis</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.tryCatch" data-verso-hover="2747">tryCatch</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a></code></p>
                    </td><td><p>
                      Output parameter enables the use of constructor dot notation for the exception</p>
                    </td></tr><tr><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#tryCatchThe"><span class="const token" data-binding="const-tryCatchThe" data-verso-hover="2835">tryCatchThe</span></a></code></p>
                    </td><td><p>
                      <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a></code></p>
                    </td><td><p>
                      Semi-output parameter uses provided type to guide synthesis</p>
                    </td></tr></table><details class="example"><summary class="description">State Types</summary><div class="example-content">
                  <p>
                    The state monad <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#M"><span class="const token" data-binding="const-M" data-verso-hover="2841">M</span></a></code> has two separate states: a <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a></code> and a <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a></code>.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.abbrev-10348">abbrev</span> <span class="const token" data-binding="const-M" data-verso-hover="2841" id="M">M</span> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><p>
                    Because <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span></code> is an alias for <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">MonadState.get</span></code>, the state type is an output parameter.
This means that Lean selects a state type automatically, in this case the one from the outermost monad transformer:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">get : M Nat</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___check"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-10630">#check</span></a></span> <span class="unknown token" data-binding="">(</span><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#M"><span class="const token" data-binding="const-M" data-verso-hover="2841">M</span></a> <span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>get : M Nat
</pre></div>
                  <p>
                    Only the outermost may be used, because the type of the state is an output parameter.</p>
                  <code class="hl lean block" data-lean-context="examples"><a href="Interacting-with-Lean/#Lean___Parser___Command___check"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-10817">#check</span></a> <span class="unknown token" data-binding="">(</span><span class="has-info error"><span class="hover-container"><span class="hover-info messages"><code class="message error">failed to synthesize
  MonadState String M

Additional diagnostic information may be available using the `set_option diagnostics true` command.</code></span></span><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span></span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#M"><span class="const token" data-binding="const-M" data-verso-hover="2841">M</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><div class="error">
                    <pre>failed to synthesize
  MonadState String M

Additional diagnostic information may be available using the `set_option diagnostics true` command.
</pre></div>
                  <p>
                    Providing the state type explicitly using <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#getThe"><span class="const token" data-binding="const-getThe" data-verso-hover="2833">getThe</span></a></code> from <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a></code> allows both states to be read.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">(getThe String, getThe Nat) : M String × M Nat</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___check"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-11156">#check</span></a></span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#getThe"><span class="const token" data-binding="const-getThe" data-verso-hover="2833">getThe</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a><span class="unknown token" data-binding="">,</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#getThe"><span class="const token" data-binding="const-getThe" data-verso-hover="2833">getThe</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#M"><span class="const token" data-binding="const-M" data-verso-hover="2841">M</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <span class="unknown token" data-binding="">×</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#M"><span class="const token" data-binding="const-M" data-verso-hover="2841">M</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>(getThe String, getThe Nat) : M String × M Nat
</pre></div>
                  <p>
                    Setting a state works for either type, because the state type is a <a class="technical-term" href="Type-Classes/Instance-Synthesis/#--tech-term-Semi-output-parameters">semi-output parameter</a> on <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a></code>.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">set 4 : M PUnit</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___check"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-11439">#check</span></a></span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="2786">set</span></a> <span class="typed token" data-binding="" data-verso-hover="7">4</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#M"><span class="const token" data-binding="const-M" data-verso-hover="2841">M</span></a> <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>set 4 : M PUnit
</pre></div>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">set "Four" : M PUnit</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___check"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.check-11534">#check</span></a></span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="2786">set</span></a> <span class="literal string token" data-binding="" data-verso-hover="2842">"Four"</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#M"><span class="const token" data-binding="const-M" data-verso-hover="2841">M</span></a> <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>set "Four" : M PUnit
</pre></div>
                  </div>
                </details></section>
            <section>
              <h2 id="monad-transformers">
                14.5.2. Monad Transformers<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=monad-transformers" title="Permalink">🔗</a></span></h2>
              <p>
                A <span id="--tech-term-monad-transformer" class="def-technical-term"><em>monad transformer</em></span> is a function that, when provided with a monad, gives back a new monad.
Typically, this new monad has all the effects of the original monad along with some additional ones.</p>
              <p>
                A monad transformer consists of the following:</p>
              <ul>
                <li>
                  <p>
                    A function <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.268" data-verso-hover="2843">T</span></code> that constructs the new monad's type from an existing monad</p>
                  </li>
                <li>
                  <p>
                    A <code>run</code> function that adapts a <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.284" data-verso-hover="2843">T</span> <span class="var token" data-binding="var-_uniq.288" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.276" data-verso-hover="55">α</span></code> into some variant of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.303" data-verso-hover="97">m</span></code>, often requiring additional parameters and returning a more specific type under <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.318" data-verso-hover="97">m</span></code></p>
                  </li>
                <li>
                  <p>
                    An instance of <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.333" data-verso-hover="97">m</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">→</span> <a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.329" data-verso-hover="2843">T</span> <span class="var token" data-binding="var-_uniq.333" data-verso-hover="97">m</span><span class="unknown token" data-binding="">)</span></code> that allows the transformed monad to be used as a monad</p>
                  </li>
                <li>
                  <p>
                    An instance of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLift___mk"><span class="const token" data-binding="const-MonadLift" data-verso-hover="90">MonadLift</span></a></code> that allows the original monad's code to be used in the transformed monad</p>
                  </li>
                <li>
                  <p>
                    If possible, an instance of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadControl___mk"><span class="const token" data-binding="const-MonadControl" data-verso-hover="2719">MonadControl</span></a> <span class="var token" data-binding="var-_uniq.384" data-verso-hover="97">m</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.380" data-verso-hover="2843">T</span> <span class="var token" data-binding="var-_uniq.384" data-verso-hover="97">m</span><span class="unknown token" data-binding="">)</span></code> that allows actions from the transformed monad to be used in the original monad</p>
                  </li>
                </ul>
              <p>
                Typically, a monad transformer also provides instances of one or more type classes that describe the effects that it introduces.
The transformer's <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLift___mk"><span class="const token" data-binding="const-MonadLift" data-verso-hover="90">MonadLift</span></a></code> instances make it practical to write code in the transformed monad, while the type class instances allow the transformed monad to be used with polymorphic functions.</p>
              <details class="example"><summary class="description">The Identity Monad Transformer </summary><div class="example-content">
                  <p>
                    The identity monad transformer neither adds nor removes capabilities to the transformed monad.
Its definition is the identity function, suitably specialized:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-13328">def</span> <span class="const token" data-binding="const-IdT" data-verso-hover="2844" id="IdT">IdT</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.24" data-verso-hover="97">m</span> <span class="unknown token" data-binding="">:</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.type-13341" data-verso-hover="50">Type</span> <span class="unknown token" data-binding="">u</span> <span class="unknown token" data-binding="">→</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.type-13352" data-verso-hover="50">Type</span> <span class="unknown token" data-binding="">v</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.type-13362" data-verso-hover="50">Type</span> <span class="unknown token" data-binding="">u</span> <span class="unknown token" data-binding="">→</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.type-13373" data-verso-hover="50">Type</span> <span class="unknown token" data-binding="">v</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.24" data-verso-hover="97">m</span>
<span class="unknown token" data-binding=""></span></code><p>
                    Similarly, the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#IdT___run"><span class="const token" data-binding="const-IdT.run" data-verso-hover="2845">run</span></a></code> function requires no additional arguments and just returns an <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.493" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.495" data-verso-hover="55">α</span></code>:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-13508">def</span> <span class="const token" data-binding="const-IdT.run" data-verso-hover="2845" id="IdT___run">IdT.run</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.27" data-verso-hover="2846">act</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#IdT"><span class="const token" data-binding="const-IdT" data-verso-hover="2844">IdT</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.20" data-verso-hover="55">α</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.20" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.27" data-verso-hover="2846">act</span>
<span class="unknown token" data-binding=""></span></code><p>
                    The monad instance relies on the monad instance for the transformed monad, selecting it via <a class="technical-term" href="Terms/Type-Ascription/#--tech-term-Type-ascriptions">type ascriptions</a>:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-13682">instance</span> <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#IdT"><span class="const token" data-binding="const-IdT" data-verso-hover="2844">IdT</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span><span class="unknown token" data-binding="">)</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-13717">where</span>
  <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="2847">pure</span></a> <span class="var token" data-binding="var-_uniq.197" data-verso-hover="1429">x</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="var token" data-binding="var-_uniq.197" data-verso-hover="1429">x</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span> <span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span>
  <a href="Functors___-Monads-and--do--Notation/#Bind___mk"><span class="const token" data-binding="const-Bind.bind" data-verso-hover="2848">bind</span></a> <span class="var token" data-binding="var-_uniq.337" data-verso-hover="2849">x</span> <span class="var token" data-binding="var-_uniq.340" data-verso-hover="2850">f</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.337" data-verso-hover="2849">x</span> <span class="unknown token" data-binding="">&gt;&gt;=</span> <span class="var token" data-binding="var-_uniq.340" data-verso-hover="2850">f</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span> <span class="unknown token" data-binding="">_</span><span class="unknown token" data-binding="">)</span>
<span class="unknown token" data-binding=""></span></code><p>
                    Because <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#IdT"><span class="const token" data-binding="const-IdT" data-verso-hover="2844">IdT</span></a> <span class="var token" data-binding="var-_uniq.513" data-verso-hover="97">m</span></code> is definitionally equal to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.539" data-verso-hover="97">m</span></code>, the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLift___mk"><span class="const token" data-binding="const-MonadLift" data-verso-hover="90">MonadLift</span></a> <span class="var token" data-binding="var-_uniq.560" data-verso-hover="97">m</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#IdT"><span class="const token" data-binding="const-IdT" data-verso-hover="2844">IdT</span></a> <span class="var token" data-binding="var-_uniq.560" data-verso-hover="97">m</span><span class="unknown token" data-binding="">)</span></code> instance doesn't need to modify the action being lifted:</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-13942">instance</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLift___mk"><span class="const token" data-binding="const-MonadLift" data-verso-hover="90">MonadLift</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#IdT"><span class="const token" data-binding="const-IdT" data-verso-hover="2844">IdT</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span><span class="unknown token" data-binding="">)</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-13973">where</span>
  <a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLift___mk"><span class="const token" data-binding="const-MonadLift.monadLift" data-verso-hover="2851">monadLift</span></a> <span class="var token" data-binding="var-_uniq.60" data-verso-hover="2852">x</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.60" data-verso-hover="2852">x</span>
<span class="unknown token" data-binding=""></span></code><p>
                    The <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadControl___mk"><span class="const token" data-binding="const-MonadControl" data-verso-hover="2719">MonadControl</span></a></code> instance is similarly simple.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.instance-14066">instance</span> <span class="unknown token" data-binding="">[</span><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span><span class="unknown token" data-binding="">]</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadControl___mk"><span class="const token" data-binding="const-MonadControl" data-verso-hover="2719">MonadControl</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#IdT"><span class="const token" data-binding="const-IdT" data-verso-hover="2844">IdT</span></a> <span class="var token" data-binding="var-_uniq.18" data-verso-hover="97">m</span><span class="unknown token" data-binding="">)</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.whereStructInst-14110">where</span>
  <a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadControl___mk"><span class="const token" data-binding="const-MonadControl.stM" data-verso-hover="2728">stM</span></a> <span class="var token" data-binding="var-_uniq.64" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.64" data-verso-hover="55">α</span>
  <a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadControl___mk"><span class="const token" data-binding="const-MonadControl.liftWith" data-verso-hover="2853">liftWith</span></a> <span class="var token" data-binding="var-_uniq.84" data-verso-hover="2854">f</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.84" data-verso-hover="2854">f</span> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-14150">fun</span> <span class="var token" data-binding="var-_uniq.91" data-verso-hover="2855">x</span> <span class="unknown token" data-binding="">=&gt;</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id___run"><span class="const token" data-binding="const-Id.run" data-verso-hover="1008">Id.run</span></a> <span class="unknown token" data-binding="">&lt;|</span> <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="var token" data-binding="var-_uniq.91" data-verso-hover="2855">x</span><span class="unknown token" data-binding="">)</span>
  <a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadControl___mk"><span class="const token" data-binding="const-MonadControl.restoreM" data-verso-hover="2856">restoreM</span></a> <span class="var token" data-binding="var-_uniq.171" data-verso-hover="2852">v</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.171" data-verso-hover="2852">v</span>
<span class="unknown token" data-binding=""></span></code></div>
                </details><p>
                The Lean standard library provides transformer versions of many different monads, including <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a></code>, <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a></code>, and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a></code>, along with variants using other representations such as <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a></code>, <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT</span></a></code>, and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a></code>.
Additionally, the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code> monad is equivalent to combining <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a></code>, but it can use a more specialized representation to improve performance.</p>
              </section>
            <section>
              <h2 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Identity">
                14.5.3. Identity</h2>
              <p>
                The identity monad <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id"><span class="const token" data-binding="const-Id" data-verso-hover="2655">Id</span></a></code> has no effects whatsoever.
Both <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id"><span class="const token" data-binding="const-Id" data-verso-hover="2655">Id</span></a></code> and the corresponding implementation of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a></code> are the identity function, and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/#Bind___mk"><span class="const token" data-binding="const-Bind.bind" data-verso-hover="1149">bind</span></a></code> is reversed function application.
The identity monad has two primary use cases:</p>
              <ol start="1">
                <li>
                  <p>
                    It can be the type of a <span class="hl lean keyword-of"><code class="hover-info"><code>Lean.Parser.Term.do : term</code></code><a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><code class="kw">do</code></a></span> block that implements a pure function with local effects.</p>
                  </li>
                <li>
                  <p>
                    It can be placed at the bottom of a stack of monad transformers.</p>
                  </li>
                </ol>
              <div class="namedocs" id="Id">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Id" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Id.{u} (<span class="var token" data-binding="var-_uniq.28" data-verso-hover="55">type</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div><div class="narrow-only">Id.{u} (<span class="var token" data-binding="var-_uniq.28" data-verso-hover="55">type</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div></pre><div class="text">
                  <p>
                    The identity function on types, used primarily for its <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a></code> instance.</p>
                  <p>
                    The identity monad is useful together with monad transformers to construct monads for particular
purposes. Additionally, it can be used with <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-notation in order to use control structures such as
local mutability, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">for</span></code>-loops, and early returns in code that does not otherwise use monads.</p>
                  <p>
                    Examples:</p>
                  <code class="hl lean block" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.definition-0">def</span> <span class="const token" data-binding="const-containsFive" data-verso-hover="2861">containsFive</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.3" data-verso-hover="1017">xs</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Linked-Lists/#List___nil"><span class="const token" data-binding="const-List" data-verso-hover="43">List</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a> <span class="unknown token" data-binding="">:=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id___run"><span class="const token" data-binding="const-Id.run" data-verso-hover="1008">Id.run</span></a> <a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.do-50">do</span></a>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doFor-55" data-verso-hover="1010">for</span> <span class="var token" data-binding="var-_uniq.144" data-verso-hover="7">x</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doForDecl-59">in</span> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="1017">xs</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doFor-55" data-verso-hover="1010">do</span>
    <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doIf-74">if</span> <span class="var token" data-binding="var-_uniq.144" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">==</span> <span class="typed token" data-binding="" data-verso-hover="7">5</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doIf-74">then</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doReturn-89" data-verso-hover="230">return</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doReturn-103" data-verso-hover="230">return</span> <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.false" data-verso-hover="40">false</span></a>
<span class="unknown token" data-binding=""></span></code><pre>#eval containsFive [1, 3, 5, 7]
</pre><code class="hl lean block" data-lean-context="docstring-examples"><a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a></code></div>
                </div>
              <div class="namedocs" id="Id___run">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Id.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Id.run.{u_1} {<span class="var token" data-binding="var-_uniq.40" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.41" data-verso-hover="2862">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id"><span class="const token" data-binding="const-Id" data-verso-hover="2655">Id</span></a> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="44">α</span>) : <span class="var token" data-binding="var-_uniq.40" data-verso-hover="44">α</span></div><div class="narrow-only">Id.run.{u_1} {<span class="var token" data-binding="var-_uniq.40" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.41" data-verso-hover="2862">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id"><span class="const token" data-binding="const-Id" data-verso-hover="2655">Id</span></a> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="44">α</span>) : <span class="var token" data-binding="var-_uniq.40" data-verso-hover="44">α</span></div></pre><div class="text">
                  <p>
                    Runs a computation in the identity monad.</p>
                  <p>
                    This function is the identity function. Because its parameter has type <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id"><span class="const token" data-binding="const-Id" data-verso-hover="2655">Id</span></a> <span class="var token" data-binding="var-_uniq.31" data-verso-hover="44">α</span></code>, it causes
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-notation in its arguments to use the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id"><span class="const token" data-binding="const-Id" data-verso-hover="2655">Id</span></a></code> instance.</p>
                  </div>
                </div>
              <details class="example"><summary class="description">Local Effects with the Identity Monad</summary><div class="example-content">
                  <p>
                    This code block implements a countdown procedure by using simulated local mutability in the identity monad.</p>
                  <code class="hl lean block" data-lean-context="examples"><span class="has-info info"><span class="hover-container"><span class="hover-info messages"><code class="message info">[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]</code></span></span><a href="Interacting-with-Lean/#Lean___Parser___Command___eval"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Command.eval-1282" data-verso-hover="6">#eval</span></a></span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Id___run"><span class="const token" data-binding="const-Id.run" data-verso-hover="1008">Id.run</span></a> <a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.do-1295">do</span></a>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doLet-1300">let</span> <span class="keyword token" data-binding="kw-occ-null-1304">mut</span> <span class="var token" data-binding="var-_uniq.152" data-verso-hover="1017">xs</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">[</span><span class="unknown token" data-binding="">]</span>
  <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doFor-1319" data-verso-hover="1010">for</span> <span class="var token" data-binding="var-_uniq.146" data-verso-hover="7">x</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doForDecl-1323">in</span> <span class="unknown token" data-binding="">[</span><span class="typed token" data-binding="" data-verso-hover="7">0</span><span class="unknown token" data-binding="">:</span><span class="typed token" data-binding="" data-verso-hover="7">10</span><span class="unknown token" data-binding="">]</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doFor-1319" data-verso-hover="1010">do</span>
    <span class="var token" data-binding="var-_uniq.152" data-verso-hover="1017">xs</span> <span class="unknown token" data-binding="">:=</span> <span class="var token" data-binding="var-_uniq.146" data-verso-hover="7">x</span> <span class="unknown token" data-binding="">::</span> <span class="var token" data-binding="var-_uniq.152" data-verso-hover="1017">xs</span>
  <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="var token" data-binding="var-_uniq.152" data-verso-hover="1017">xs</span>
<span class="unknown token" data-binding=""></span></code><div class="information">
                    <pre>[9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
</pre></div>
                  </div>
                </details></section>
            <section>
              <h2 id="state-monads">
                14.5.4. State<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=state-monads" title="Permalink">🔗</a></span></h2>
              <p>
                <a class="technical-term" href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#--tech-term-State-monads">State monads</a> provide access to a mutable value.
The underlying implementation may a tuple to simulate mutability, or it may use something like <code class="hl lean inline" data-lean-context="examples"><a href="IO/Mutable-References/#ST___Ref___mk"><span class="const token" data-binding="const-ST.Ref" data-verso-hover="2863">ST.Ref</span></a></code> to ensure mutation.
Even those implementations that use a tuple may in fact use mutation at run-time due to Lean's use of mutation when there are unique references to values, but this requires a programming style that prefers <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modify"><span class="const token" data-binding="const-modify" data-verso-hover="2711">modify</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2836">modifyGet</span></code> over <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span></code> and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="2786">set</span></a></code>.</p>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--General-State-API">
                  14.5.4.1. General State API</h3>
                <div class="namedocs" id="MonadState___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadState.get" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadState.{u, v} (<span class="var token" data-binding="var-_uniq.187" data-verso-hover="2864">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.189" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div><div class="narrow-only">MonadState.{u, v} (<span class="var token" data-binding="var-_uniq.187" data-verso-hover="2864">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.189" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div></pre><div class="text">
                    <p>
                      State monads provide a value of a given type (the <em>state</em>) that can be retrieved or replaced.
Instances may implement these operations by passing state values around, by using a mutable
reference cell (e.g. <code class="hl lean inline" data-lean-context="docstring-examples"><a href="IO/Mutable-References/#ST___Ref___mk"><span class="const token" data-binding="const-ST.Ref" data-verso-hover="2863">ST.Ref</span></a> <span class="var token" data-binding="var-_uniq.27" data-verso-hover="2864">σ</span></code>), or in other ways.</p>
                    <p>
                      In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.156" data-verso-hover="2864">σ</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a></code>, which means that it is inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.157" data-verso-hover="97">m</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a> <span class="var token" data-binding="var-_uniq.156" data-verso-hover="2864">σ</span></code>
provides the same operations, but allows <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.156" data-verso-hover="2864">σ</span></code> to influence instance synthesis.</p>
                    <p>
                      The mutable state of a state monad is visible between multiple <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-blocks or functions, unlike
<a href="https://lean-lang.org/doc/reference/4.19.0-rc3/find/?domain=Verso.Genre.Manual.section&name=do-notation-let-mut">local mutable state</a> in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-notation.</p>
                    <h1>
                      Instance Constructor</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState.mk" data-verso-hover="2865">MonadState.mk</span></a>.{u, v}</pre><div class="docs"></div>
                      </section>
                    <h1>
                      Methods</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="2866">get</span> : <span class="var token" data-binding="var-_uniq.169" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.168" data-verso-hover="2864">σ</span></pre><div class="docs">
                        <p>
                          Retrieves the current value of the monad's mutable state.</p>
                        </div>
                      </section>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadState.set" data-verso-hover="2867">set</span> : <span class="var token" data-binding="var-_uniq.168" data-verso-hover="2864">σ</span> → <span class="var token" data-binding="var-_uniq.169" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></pre><div class="docs">
                        <p>
                          Replaces the current value of the mutable state with a new one.</p>
                        </div>
                      </section>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2868">modifyGet</span> : {<span class="var token" data-binding="var-_uniq.173" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} → (<span class="var token" data-binding="var-_uniq.168" data-verso-hover="2864">σ</span> → <span class="var token" data-binding="var-_uniq.173" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.168" data-verso-hover="2864">σ</span>) → <span class="var token" data-binding="var-_uniq.169" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.173" data-verso-hover="55">α</span></pre><div class="docs">
                        <p>
                          Applies a function to the current state that both computes a new state and a value. The new state
replaces the current state, and the value is returned.</p>
                        <p>
                          It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.do-0">do</span></a> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doLet-3">let</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">a</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">get</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">set</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">pure</span> <span class="unknown token" data-binding="">a</span></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2836">modifyGet</span></code> may
lead to higher performance because it doesn't add a new reference to the state value. Additional
references can inhibit in-place updates of data.</p>
                        </div>
                      </section>
                    </div>
                  </div>
                <div class="namedocs" id="MonadState___get">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadState.get" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">MonadState.get.{u, v} {<span class="var token" data-binding="var-_uniq.976" data-verso-hover="2864">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>} {<span class="var token" data-binding="var-_uniq.978" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<span class="var token" data-binding="var-_uniq.979" data-verso-hover="2869">self</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.976" data-verso-hover="2864">σ</span> <span class="var token" data-binding="var-_uniq.978" data-verso-hover="97">m</span>] : <span class="var token" data-binding="var-_uniq.978" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.976" data-verso-hover="2864">σ</span></div><div class="narrow-only">MonadState.get.{u, v}
  {<span class="var token" data-binding="var-_uniq.976" data-verso-hover="2864">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>}
  {<span class="var token" data-binding="var-_uniq.978" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<span class="var token" data-binding="var-_uniq.979" data-verso-hover="2869">self</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.976" data-verso-hover="2864">σ</span> <span class="var token" data-binding="var-_uniq.978" data-verso-hover="97">m</span>] : <span class="var token" data-binding="var-_uniq.978" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.976" data-verso-hover="2864">σ</span></div></pre><div class="text">
                    <p>
                      Retrieves the current value of the monad's mutable state.</p>
                    </div>
                  </div>
                <div class="namedocs" id="modify">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=modify" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">modify.{u, v} {<span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1739" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.1739" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.1742" data-verso-hover="2870">f</span> : <span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.1739" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div><div class="narrow-only">modify.{u, v} {<span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1739" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.1739" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.1742" data-verso-hover="2870">f</span> : <span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.1737" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.1739" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div></pre><div class="text">
                    <p>
                      Mutates the current state, replacing its value with the result of applying <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.983" data-verso-hover="2870">f</span></code> to it.</p>
                    <p>
                      Use <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modifyThe"><span class="const token" data-binding="const-modifyThe" data-verso-hover="2749">modifyThe</span></a></code> to explicitly select a state type to modify.</p>
                    <p>
                      It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span> <span class="unknown token" data-binding="">set</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">get</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modify"><span class="const token" data-binding="const-modify" data-verso-hover="2711">modify</span></a></code> may lead to higher performance
because it doesn't add a new reference to the state value. Additional references can inhibit
in-place updates of data.</p>
                    </div>
                  </div>
                <div class="namedocs" id="MonadState___modifyGet">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadState.modifyGet" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">MonadState.modifyGet.{u, v} {<span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>}
  {<span class="var token" data-binding="var-_uniq.4030" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<span class="var token" data-binding="var-_uniq.4031" data-verso-hover="2869">self</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span> <span class="var token" data-binding="var-_uniq.4030" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.4032" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} :
  (<span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span> → <span class="var token" data-binding="var-_uniq.4032" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span>) → <span class="var token" data-binding="var-_uniq.4030" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.4032" data-verso-hover="55">α</span></div><div class="narrow-only">MonadState.modifyGet.{u, v}
  {<span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>}
  {<span class="var token" data-binding="var-_uniq.4030" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<span class="var token" data-binding="var-_uniq.4031" data-verso-hover="2869">self</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span> <span class="var token" data-binding="var-_uniq.4030" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.4032" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} :
  (<span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span> → <span class="var token" data-binding="var-_uniq.4032" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.4028" data-verso-hover="2864">σ</span>) → <span class="var token" data-binding="var-_uniq.4030" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.4032" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Applies a function to the current state that both computes a new state and a value. The new state
replaces the current state, and the value is returned.</p>
                    <p>
                      It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.do-0">do</span></a> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doLet-3">let</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">a</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">get</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">set</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">pure</span> <span class="unknown token" data-binding="">a</span></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2836">modifyGet</span></code> may
lead to higher performance because it doesn't add a new reference to the state value. Additional
references can inhibit in-place updates of data.</p>
                    </div>
                  </div>
                <div class="namedocs" id="getModify">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=getModify" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">getModify.{u, v} {<span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.4596" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.4596" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.4599" data-verso-hover="2870">f</span> : <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.4596" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span></div><div class="narrow-only">getModify.{u, v} {<span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.4596" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.4596" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.4599" data-verso-hover="2870">f</span> : <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.4596" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.4594" data-verso-hover="55">σ</span></div></pre><div class="text">
                    <p>
                      Replaces the state with the result of applying <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.4039" data-verso-hover="2870">f</span></code> to it. Returns the old value of the state.</p>
                    <p>
                      It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">get</span> <span class="unknown token" data-binding="">&lt;*</span> <span class="unknown token" data-binding="">modify</span> <span class="unknown token" data-binding="">f</span></code> but may be more efficient.</p>
                    </div>
                  </div>
                <div class="namedocs" id="MonadStateOf___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadStateOf.mk" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadStateOf.{u, v} (<span class="var token" data-binding="var-_uniq.4760" data-verso-hover="2871">σ</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.4762" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div><div class="narrow-only">MonadStateOf.{u, v}
  (<span class="var token" data-binding="var-_uniq.4760" data-verso-hover="2871">σ</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.4762" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div></pre><div class="text">
                    <p>
                      State monads provide a value of a given type (the <em>state</em>) that can be retrieved or replaced.
Instances may implement these operations by passing state values around, by using a mutable
reference cell (e.g. <code class="hl lean inline" data-lean-context="docstring-examples"><a href="IO/Mutable-References/#ST___Ref___mk"><span class="const token" data-binding="const-ST.Ref" data-verso-hover="2863">ST.Ref</span></a> <span class="var token" data-binding="var-_uniq.4600" data-verso-hover="2871">σ</span></code>), or in other ways.</p>
                    <p>
                      In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.4729" data-verso-hover="2871">σ</span></code> is a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a></code>, which means that it can influence the choice of instance.
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a> <span class="var token" data-binding="var-_uniq.4729" data-verso-hover="2871">σ</span></code> provides the same operations, but requires that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.4729" data-verso-hover="2871">σ</span></code> be inferrable from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.4730" data-verso-hover="97">m</span></code>.</p>
                    <p>
                      The mutable state of a state monad is visible between multiple <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-blocks or functions, unlike
<a href="https://lean-lang.org/doc/reference/4.19.0-rc3/find/?domain=Verso.Genre.Manual.section&name=do-notation-let-mut">local mutable state</a> in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-notation.</p>
                    <h1>
                      Instance Constructor</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf.mk" data-verso-hover="2872">MonadStateOf.mk</span></a>.{u, v}</pre><div class="docs"></div>
                      </section>
                    <h1>
                      Methods</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadStateOf.get" data-verso-hover="2866">get</span> : <span class="var token" data-binding="var-_uniq.4742" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.4741" data-verso-hover="2871">σ</span></pre><div class="docs">
                        <p>
                          Retrieves the current value of the monad's mutable state.</p>
                        </div>
                      </section>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="2867">set</span> : <span class="var token" data-binding="var-_uniq.4741" data-verso-hover="2871">σ</span> → <span class="var token" data-binding="var-_uniq.4742" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></pre><div class="docs">
                        <p>
                          Replaces the current value of the mutable state with a new one.</p>
                        </div>
                      </section>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadStateOf.modifyGet" data-verso-hover="2868">modifyGet</span> : {<span class="var token" data-binding="var-_uniq.4746" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} → (<span class="var token" data-binding="var-_uniq.4741" data-verso-hover="2871">σ</span> → <span class="var token" data-binding="var-_uniq.4746" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.4741" data-verso-hover="2871">σ</span>) → <span class="var token" data-binding="var-_uniq.4742" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.4746" data-verso-hover="55">α</span></pre><div class="docs">
                        <p>
                          Applies a function to the current state that both computes a new state and a value. The new state
replaces the current state, and the value is returned.</p>
                        <p>
                          It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Syntax/#Lean___Parser___Term___do"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.do-0">do</span></a> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.doLet-3">let</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">a</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">get</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">set</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">pure</span> <span class="unknown token" data-binding="">a</span></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2836">modifyGet</span></code> may
lead to higher performance because it doesn't add a new reference to the state value. Additional
references can inhibit in-place updates of data.</p>
                        </div>
                      </section>
                    </div>
                  </div>
                <div class="namedocs" id="getThe">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=getThe" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">getThe.{u, v} (<span class="var token" data-binding="var-_uniq.5549" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.5551" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a> <span class="var token" data-binding="var-_uniq.5549" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.5551" data-verso-hover="97">m</span>] :
  <span class="var token" data-binding="var-_uniq.5551" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.5549" data-verso-hover="55">σ</span></div><div class="narrow-only">getThe.{u, v} (<span class="var token" data-binding="var-_uniq.5549" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  {<span class="var token" data-binding="var-_uniq.5551" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a> <span class="var token" data-binding="var-_uniq.5549" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.5551" data-verso-hover="97">m</span>] : <span class="var token" data-binding="var-_uniq.5551" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.5549" data-verso-hover="55">σ</span></div></pre><div class="text">
                    <p>
                      Gets the current state that has the explicitly-provided type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.5546" data-verso-hover="55">σ</span></code>. When the current monad has
multiple state types available, this function selects one of them.</p>
                    </div>
                  </div>
                <div class="namedocs" id="modifyThe">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=modifyThe" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">modifyThe.{u, v} (<span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.6545" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a> <span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.6545" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.6548" data-verso-hover="2870">f</span> : <span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.6545" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div><div class="narrow-only">modifyThe.{u, v} (<span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  {<span class="var token" data-binding="var-_uniq.6545" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a> <span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.6545" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.6548" data-verso-hover="2870">f</span> : <span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.6543" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.6545" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div></pre><div class="text">
                    <p>
                      Mutates the current state that has the explicitly-provided type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.5553" data-verso-hover="55">σ</span></code>, replacing its value with the
result of applying <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.5556" data-verso-hover="2870">f</span></code> to it. When the current monad has multiple state types available, this
function selects one of them.</p>
                    <p>
                      It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span> <span class="unknown token" data-binding="">set</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">get</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modify"><span class="const token" data-binding="const-modify" data-verso-hover="2711">modify</span></a></code> may lead to higher performance
because it doesn't add a new reference to the state value. Additional references can inhibit
in-place updates of data.</p>
                    </div>
                  </div>
                <div class="namedocs" id="modifyGetThe">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=modifyGetThe" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">modifyGetThe.{u, v} {<span class="var token" data-binding="var-_uniq.8329" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.8332" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a> <span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8332" data-verso-hover="97">m</span>] (<span class="var token" data-binding="var-_uniq.8335" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.8329" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.8332" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8329" data-verso-hover="55">α</span></div><div class="narrow-only">modifyGetThe.{u, v} {<span class="var token" data-binding="var-_uniq.8329" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.8332" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf" data-verso-hover="2830">MonadStateOf</span></a> <span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8332" data-verso-hover="97">m</span>] (<span class="var token" data-binding="var-_uniq.8335" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.8329" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.8330" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.8332" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8329" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Applies a function to the current state that has the explicitly-provided type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.6550" data-verso-hover="55">σ</span></code>. The function both
computes a new state and a value. The new state replaces the current state, and the value is
returned.</p>
                    <p>
                      It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span> <span class="keyword token" data-binding="kw-occ-null-0">let</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">a</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">getThe</span> <span class="unknown token" data-binding="">σ</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">set</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">pure</span> <span class="unknown token" data-binding="">a</span></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#modifyGetThe"><span class="const token" data-binding="const-modifyGetThe" data-verso-hover="2874">modifyGetThe</span></a></code>
may lead to higher performance because it doesn't add a new reference to the state value. Additional
references can inhibit in-place updates of data.</p>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--Tuple-Based-State-Monads">
                  14.5.4.2. Tuple-Based State Monads</h3>
                <p>
                  The tuple-based state monads represent a computation with states that have type <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.8339" data-verso-hover="55">σ</span></code> yielding values of type <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.8341" data-verso-hover="55">α</span></code> as functions that take a starting state and yield a value paired with a final state, e.g. <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.8347" data-verso-hover="55">σ</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.8345" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">×</span> <span class="var token" data-binding="var-_uniq.8347" data-verso-hover="55">σ</span></code>.
The <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a></code> operations thread the state correctly through the computation.</p>
                <div class="namedocs" id="StateM">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateM" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateM.{u} (<span class="var token" data-binding="var-_uniq.8365" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.8366" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div><div class="narrow-only">StateM.{u} (<span class="var token" data-binding="var-_uniq.8365" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.8366" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div></pre><div class="text">
                    <p>
                      A tuple-based state monad.</p>
                    <p>
                      Actions in <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <span class="var token" data-binding="var-_uniq.8361" data-verso-hover="55">σ</span></code> are functions that take an initial state and return a value paired with a
final state.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.{u, v} (<span class="var token" data-binding="var-_uniq.8374" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) (<span class="var token" data-binding="var-_uniq.8376" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.8377" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max u v)</span></div><div class="narrow-only">StateT.{u, v} (<span class="var token" data-binding="var-_uniq.8374" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  (<span class="var token" data-binding="var-_uniq.8376" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.8377" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max u v)</span></div></pre><div class="text">
                    <p>
                      Adds a mutable state of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.8367" data-verso-hover="55">σ</span></code> to a monad.</p>
                    <p>
                      Actions in the resulting monad are functions that take an initial state and return, in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.8371" data-verso-hover="97">m</span></code>, a tuple
of a value and a state.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___run">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.run.{u, v} {<span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.8386" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.8387" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.8388" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8386" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8387" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.8389" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.8386" data-verso-hover="97">m</span> <a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">(</span></a><span class="var token" data-binding="var-_uniq.8387" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">)</span></a></div><div class="narrow-only">StateT.run.{u, v} {<span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.8386" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.8387" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.8388" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8386" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8387" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.8389" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.8386" data-verso-hover="97">m</span> <a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">(</span></a><span class="var token" data-binding="var-_uniq.8387" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.8384" data-verso-hover="55">σ</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">)</span></a></div></pre><div class="text">
                    <p>
                      Executes an action from a monad with added state in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.8379" data-verso-hover="97">m</span></code>. Given an initial
state, it returns a value paired with the final state.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___get">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.get" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.get.{u, v} {<span class="var token" data-binding="var-_uniq.8398" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.8400" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.8400" data-verso-hover="97">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8398" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8400" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8398" data-verso-hover="55">σ</span></div><div class="narrow-only">StateT.get.{u, v} {<span class="var token" data-binding="var-_uniq.8398" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.8400" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.8400" data-verso-hover="97">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8398" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8400" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8398" data-verso-hover="55">σ</span></div></pre><div class="text">
                    <p>
                      Retrieves the current value of the monad's mutable state.</p>
                    <p>
                      This increments the reference count of the state, which may inhibit in-place updates.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___set">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.set" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.set.{u, v} {<span class="var token" data-binding="var-_uniq.8407" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.8409" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.8409" data-verso-hover="97">m</span>] :
  <span class="var token" data-binding="var-_uniq.8407" data-verso-hover="55">σ</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8407" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8409" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div><div class="narrow-only">StateT.set.{u, v} {<span class="var token" data-binding="var-_uniq.8407" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.8409" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.8409" data-verso-hover="97">m</span>] :
  <span class="var token" data-binding="var-_uniq.8407" data-verso-hover="55">σ</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8407" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8409" data-verso-hover="97">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div></pre><div class="text">
                    <p>
                      Replaces the mutable state with a new value.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___orElse">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.orElse" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.orElse.{u, v} {<span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.8426" data-verso-hover="2875">x₁</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.8428" data-verso-hover="2877">x₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span></div><div class="narrow-only">StateT.orElse.{u, v} {<span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.8426" data-verso-hover="2875">x₁</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.8428" data-verso-hover="2877">x₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8421" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8423" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8425" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Recovers from errors. The state is rolled back on error recovery. Typically used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;|&gt;</span></code>
operator.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___failure">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.failure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.failure.{u, v} {<span class="var token" data-binding="var-_uniq.8435" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.8437" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.8437" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8439" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8435" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8437" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8439" data-verso-hover="55">α</span></div><div class="narrow-only">StateT.failure.{u, v} {<span class="var token" data-binding="var-_uniq.8435" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.8437" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.8437" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8439" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8435" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8437" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8439" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Fails with a recoverable error. The state is rolled back on error recovery.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___run___">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.run'" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.run'.{u, v} {<span class="var token" data-binding="var-_uniq.8447" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Functor___mk"><span class="const token" data-binding="const-Functor" data-verso-hover="2569">Functor</span></a> <span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8451" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.8452" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8447" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8451" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.8453" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.8447" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8451" data-verso-hover="55">α</span></div><div class="narrow-only">StateT.run'.{u, v} {<span class="var token" data-binding="var-_uniq.8447" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Functor___mk"><span class="const token" data-binding="const-Functor" data-verso-hover="2569">Functor</span></a> <span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8451" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.8452" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8447" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8451" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.8453" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.8447" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.8449" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8451" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Executes an action from a monad with added state in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.8441" data-verso-hover="97">m</span></code>. Given an initial
state, it returns a value, discarding the final state.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___bind">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.bind" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8467" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.8468" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.8469" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8467" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.8471" data-verso-hover="2878">f</span> : <span class="var token" data-binding="var-_uniq.8467" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8468" data-verso-hover="55">β</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8468" data-verso-hover="55">β</span></div><div class="narrow-only">StateT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.8467" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.8468" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.8469" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8467" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.8471" data-verso-hover="2878">f</span> : <span class="var token" data-binding="var-_uniq.8467" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8468" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.8463" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.8465" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.8468" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Sequences two actions. Typically used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&gt;&gt;=</span></code> operator.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___modifyGet">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.modifyGet" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.modifyGet.{u, v} {<span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13121" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13121" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13123" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13125" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.13123" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13121" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13123" data-verso-hover="55">α</span></div><div class="narrow-only">StateT.modifyGet.{u, v} {<span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13121" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13121" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13123" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13125" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.13123" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13119" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13121" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13123" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Applies a function to the current state that both computes a new state and a value. The new state
replaces the current state, and the value is returned.</p>
                    <p>
                      It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span> <span class="keyword token" data-binding="kw-occ-null-0">let</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">a</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">StateT.get</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">StateT.set</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">pure</span> <span class="unknown token" data-binding="">a</span></code>. However, using
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT___modifyGet"><span class="const token" data-binding="const-StateT.modifyGet" data-verso-hover="2879">StateT.modifyGet</span></a></code> may lead to better performance because it doesn't add a new reference to the
state value, and additional references can inhibit in-place updates of data.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___lift">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.lift" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.13142" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13146" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13147" data-verso-hover="241">t</span> : <span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13146" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13142" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13146" data-verso-hover="55">α</span></div><div class="narrow-only">StateT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.13142" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13146" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13147" data-verso-hover="241">t</span> : <span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13146" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13142" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13144" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13146" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Runs an action from the underlying monad in the monad with state. The state is not modified.</p>
                    <p>
                      This function is typically implicitly accessed via a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a></code> instance as part of <a href="https://lean-lang.org/doc/reference/4.19.0-rc3/find/?domain=Verso.Genre.Manual.section&name=monad-lifting">automatic
lifting</a>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___map">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.map" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.map.{u, v} {<span class="var token" data-binding="var-_uniq.13156" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13160" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13161" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13163" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.13160" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.13161" data-verso-hover="55">β</span>) (<span class="var token" data-binding="var-_uniq.13164" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13156" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13160" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13156" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13161" data-verso-hover="55">β</span></div><div class="narrow-only">StateT.map.{u, v} {<span class="var token" data-binding="var-_uniq.13156" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13160" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13161" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13163" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.13160" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.13161" data-verso-hover="55">β</span>)
  (<span class="var token" data-binding="var-_uniq.13164" data-verso-hover="2875">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13156" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13160" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13156" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13158" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13161" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Modifies the value returned by a computation. Typically used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;$&gt;</span></code> operator.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateT___pure">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateT.pure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.13177" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13179" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13179" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13181" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13182" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.13181" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13177" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13179" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13181" data-verso-hover="55">α</span></div><div class="narrow-only">StateT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.13177" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13179" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13179" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.13181" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.13182" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.13181" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.13177" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13179" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13181" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Returns the given value without modifying the state. Typically used via <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">Pure.pure</span></a></code>.</p>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--State-Monads-in-Continuation-Passing-Style">
                  14.5.4.3. State Monads in Continuation Passing Style</h3>
                <p>
                  Continuation-passing-style state monads represent stateful computations as functions that, for any type whatsoever, take an initial state and a continuation (modeled as a function) that accepts a value and an updated state.
An example of such a type is <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13188" data-verso-hover="55">δ</span> <span class="unknown token" data-binding="">:</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.type-2134" data-verso-hover="50">Type</span> <span class="unknown token" data-binding="">u</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.13186" data-verso-hover="55">σ</span> <span class="unknown token" data-binding="">→</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.13184" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.13186" data-verso-hover="55">σ</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.13188" data-verso-hover="55">δ</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.13188" data-verso-hover="55">δ</span></code>, though <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a></code> is a transformer that can be applied to any monad.
State monads in continuation passing style have different performance characteristics than tuple-based state monads; for some applications, it may be worth benchmarking them.</p>
                <div class="namedocs" id="StateCpsT">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateCpsT" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateCpsT.{u, v} (<span class="var token" data-binding="var-_uniq.13215" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) (<span class="var token" data-binding="var-_uniq.13217" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.13218" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div><div class="narrow-only">StateCpsT.{u, v} (<span class="var token" data-binding="var-_uniq.13215" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  (<span class="var token" data-binding="var-_uniq.13217" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.13218" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div></pre><div class="text">
                    <p>
                      An alternative implementation of a state monad transformer that internally uses continuation passing
style instead of tuples.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateCpsT___lift">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateCpsT.lift" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateCpsT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.13239" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13240" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.13244" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13239" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13240" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13239" data-verso-hover="55">α</span></div><div class="narrow-only">StateCpsT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.13239" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13240" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.13244" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13239" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13240" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13242" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13239" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Runs an action from the underlying monad in the monad with state. The state is not modified.</p>
                    <p>
                      This function is typically implicitly accessed via a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a></code> instance as part of <a href="https://lean-lang.org/doc/reference/4.19.0-rc3/find/?domain=Verso.Genre.Manual.section&name=monad-lifting">automatic
lifting</a>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateCpsT___runK">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateCpsT.runK" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateCpsT.runK.{u, v} {<span class="var token" data-binding="var-_uniq.13252" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.13256" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.13257" data-verso-hover="2880">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13252" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.13258" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span>) (<span class="var token" data-binding="var-_uniq.13262" data-verso-hover="2881">k</span> : <span class="var token" data-binding="var-_uniq.13252" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13256" data-verso-hover="55">β</span>) : <span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13256" data-verso-hover="55">β</span></div><div class="narrow-only">StateCpsT.runK.{u, v} {<span class="var token" data-binding="var-_uniq.13252" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.13256" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.13257" data-verso-hover="2880">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13252" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.13258" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span>)
  (<span class="var token" data-binding="var-_uniq.13262" data-verso-hover="2881">k</span> : <span class="var token" data-binding="var-_uniq.13252" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.13253" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13256" data-verso-hover="55">β</span>) : <span class="var token" data-binding="var-_uniq.13255" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13256" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Runs a stateful computation that's represented using continuation passing style by providing it with
an initial state and a continuation.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateCpsT___run___">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateCpsT.run'" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateCpsT.run'.{u, v} {<span class="var token" data-binding="var-_uniq.13270" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13271" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.13275" data-verso-hover="2880">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13271" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13270" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.13276" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13271" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13270" data-verso-hover="55">α</span></div><div class="narrow-only">StateCpsT.run'.{u, v} {<span class="var token" data-binding="var-_uniq.13270" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13271" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.13275" data-verso-hover="2880">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13271" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13270" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.13276" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13271" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.13273" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13270" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Executes an action from a monad with added state in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13265" data-verso-hover="97">m</span></code>. Given an initial
state, it returns a value, discarding the final state.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateCpsT___run">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateCpsT.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateCpsT.run.{u, v} {<span class="var token" data-binding="var-_uniq.13290" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.13295" data-verso-hover="2880">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13290" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.13296" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span>) : <span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span> <a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">(</span></a><span class="var token" data-binding="var-_uniq.13290" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">)</span></a></div><div class="narrow-only">StateCpsT.run.{u, v} {<span class="var token" data-binding="var-_uniq.13290" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span>]
  (<span class="var token" data-binding="var-_uniq.13295" data-verso-hover="2880">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateCpsT"><span class="const token" data-binding="const-StateCpsT" data-verso-hover="2857">StateCpsT</span></a> <span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.13290" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.13296" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span>) :
  <span class="var token" data-binding="var-_uniq.13293" data-verso-hover="97">m</span> <a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">(</span></a><span class="var token" data-binding="var-_uniq.13290" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13291" data-verso-hover="55">σ</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">)</span></a></div></pre><div class="text">
                    <p>
                      Executes an action from a monad with added state in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13279" data-verso-hover="97">m</span></code>. Given an initial
state, it returns a value paired with the final state.</p>
                    <p>
                      While the state is internally represented in continuation passing style, the resulting value is the
same as for a non-CPS state monad.</p>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--State--State-Monads-from-Mutable-References">
                  14.5.4.4. State Monads from Mutable References</h3>
                <p>
                  The monad <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Lean___Parser___Term___stateRefT"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.stateRefT-2866" data-verso-hover="2882">StateRefT</span></a> <span class="var token" data-binding="var-_uniq.13306" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13304" data-verso-hover="78">m</span></code> is a specialized state monad transformer that can be used when <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.13337" data-verso-hover="78">m</span></code> is a monad to which <code class="hl lean inline" data-lean-context="examples"><a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a></code> computations can be lifted.
It implements the operations of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadState___mk"><span class="const token" data-binding="const-MonadState" data-verso-hover="2820">MonadState</span></a></code> using an <code class="hl lean inline" data-lean-context="examples"><a href="IO/Mutable-References/#ST___Ref___mk"><span class="const token" data-binding="const-ST.Ref" data-verso-hover="2863">ST.Ref</span></a></code>, rather than pure functions.
This ensures that mutation is actually used at run time.</p>
                <p>
                  <code class="hl lean inline" data-lean-context="examples"><a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><a href="IO/Mutable-References/#EST"><span class="const token" data-binding="const-EST" data-verso-hover="2884">EST</span></a></code> require a phantom type parameter that's used together with <code class="hl lean inline" data-lean-context="examples"><a href="IO/Mutable-References/#runST"><span class="const token" data-binding="const-runST" data-verso-hover="2885">runST</span></a></code>'s polymorphic function argument to encapsulate mutability.
Rather than require this as a parameter to the transformer, an auxiliary type class <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#STWorld___mk"><span class="const token" data-binding="const-STWorld" data-verso-hover="2886">STWorld</span></a></code> is used to propagate it directly from <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.13480" data-verso-hover="78">m</span></code>.</p>
                <p>
                  The transformer itself is defined as a <a href="Notations-and-Macros/Defining-New-Syntax/#syntax-ext">syntax extension</a> and an <a href="Notations-and-Macros/Elaborators/#elaborators">elaborator</a>, rather than an ordinary function.
This is because <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#STWorld___mk"><span class="const token" data-binding="const-STWorld" data-verso-hover="2886">STWorld</span></a></code> has no methods: it exists only to propagate information from the inner monad to the transformed monad.
Nonetheless, its instances are terms; keeping them around could lead to unnecessarily large types.</p>
                <div class="namedocs" id="STWorld___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=STWorld" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">STWorld (<span class="var token" data-binding="var-_uniq.13525" data-verso-hover="1670">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) (<span class="var token" data-binding="var-_uniq.13527" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type</span></div><div class="narrow-only">STWorld (<span class="var token" data-binding="var-_uniq.13525" data-verso-hover="1670">σ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">Type</span>)
  (<span class="var token" data-binding="var-_uniq.13527" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type</span></div></pre><div class="text">
                    <p>
                      An auxiliary class used to infer the “state” of <code class="hl lean inline" data-lean-context="docstring-examples"><a href="IO/Mutable-References/#EST"><span class="const token" data-binding="const-EST" data-verso-hover="2884">EST</span></a></code> and <code class="hl lean inline" data-lean-context="docstring-examples"><a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a></code> monads.</p>
                    <h1>
                      Instance Constructor</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#STWorld___mk"><span class="const token" data-binding="const-STWorld.mk" data-verso-hover="2887">STWorld.mk</span></a></pre><div class="docs"></div>
                      </section>
                    </div>
                  </div>
                <div class="namedocs" id="term-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next-next">
                  <span class="label">syntax</span><span class="title"><code>StateRefT</code></span><div class="text">
                    <p>
                      The syntax for <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Lean___Parser___Term___stateRefT"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.stateRefT-3953" data-verso-hover="2882">StateRefT</span></a> <span class="var token" data-binding="var-_uniq.13537" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13535" data-verso-hover="78">m</span></code> accepts two arguments:</p>
                    <pre class="grammar hl lean" data-lean-context="--grammar" id="Lean___Parser___Term___stateRefT"><span class="nonterminal" data-kind="term">term</span> <span class="bnf">::=</span> ...
    <span class="bnf">|</span> <span class="from-nonterminal documented" data-kind="Lean.Parser.Term.stateRefT"><code class="hover-info"><code class="docstring">A state monad that uses an actual mutable reference cell (i.e. an `ST.Ref`).

This is syntax, rather than a function, to make it easier to use. Its elaborator synthesizes an
appropriate parameter for the underlying monad's `ST` effects, then passes it to `StateRefT'`.
</code></code><span class="keyword">StateRefT</span> <span class="nonterminal" data-kind="term.pseudo">term</span> <span class="bnf">(</span><span class="nonterminal" data-kind="Lean.Parser.Term.macroDollarArg">macroDollarArg</span>
       <span class="bnf">|</span> <span class="nonterminal" data-kind="term.pseudo">term</span><span class="bnf">)</span></span></pre><p>
                      Its elaborator synthesizes an instance of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#STWorld___mk"><span class="const token" data-binding="const-STWorld" data-verso-hover="2886">STWorld</span></a> <span class="var token" data-binding="var-_uniq.13572" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13568" data-verso-hover="78">m</span></code> to ensure that <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.13584" data-verso-hover="78">m</span></code> supports mutable references.
Having discovered the value of <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.13604" data-verso-hover="162">ω</span></code>, it then produces the term <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13619" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13617" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13615" data-verso-hover="78">m</span></code>, discarding the synthesized instance.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateRefT___">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateRefT'" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateRefT' (<span class="var token" data-binding="var-_uniq.13823" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13824" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) (<span class="var token" data-binding="var-_uniq.13826" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) (<span class="var token" data-binding="var-_uniq.13827" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type</span></div><div class="narrow-only">StateRefT' (<span class="var token" data-binding="var-_uniq.13823" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13824" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) (<span class="var token" data-binding="var-_uniq.13826" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>)
  (<span class="var token" data-binding="var-_uniq.13827" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type</span></div></pre><div class="text">
                    <p>
                      A state monad that uses an actual mutable reference cell (i.e. an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="IO/Mutable-References/#ST___Ref___mk"><span class="const token" data-binding="const-ST.Ref" data-verso-hover="2863">ST.Ref</span></a> <span class="var token" data-binding="var-_uniq.13625" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13626" data-verso-hover="162">σ</span></code>).</p>
                    <p>
                      The macro <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Lean___Parser___Term___stateRefT"><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.stateRefT-0" data-verso-hover="2882">StateRefT</span></a> <span class="unknown token" data-binding="">σ</span> <span class="unknown token" data-binding="">m</span> <span class="unknown token" data-binding="">α</span></code> infers <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13629" data-verso-hover="162">ω</span></code> from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13631" data-verso-hover="78">m</span></code>. It should normally be used instead.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateRefT______get">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateRefT'.get" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateRefT'.get {<span class="var token" data-binding="var-_uniq.13838" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13839" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13841" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13838" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13841" data-verso-hover="78">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13838" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13839" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13841" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13839" data-verso-hover="162">σ</span></div><div class="narrow-only">StateRefT'.get {<span class="var token" data-binding="var-_uniq.13838" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13839" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  {<span class="var token" data-binding="var-_uniq.13841" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13838" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13841" data-verso-hover="78">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13838" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13839" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13841" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13839" data-verso-hover="162">σ</span></div></pre><div class="text">
                    <p>
                      Retrieves the current value of the monad's mutable state.</p>
                    <p>
                      This increments the reference count of the state, which may inhibit in-place updates.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateRefT______set">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateRefT'.set" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateRefT'.set {<span class="var token" data-binding="var-_uniq.13850" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13851" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13853" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13850" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13853" data-verso-hover="78">m</span>]
  (<span class="var token" data-binding="var-_uniq.13856" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13851" data-verso-hover="162">σ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13850" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13851" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13853" data-verso-hover="78">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div><div class="narrow-only">StateRefT'.set {<span class="var token" data-binding="var-_uniq.13850" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13851" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  {<span class="var token" data-binding="var-_uniq.13853" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13850" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13853" data-verso-hover="78">m</span>]
  (<span class="var token" data-binding="var-_uniq.13856" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13851" data-verso-hover="162">σ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13850" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13851" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13853" data-verso-hover="78">m</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div></pre><div class="text">
                    <p>
                      Replaces the mutable state with a new value.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateRefT______modifyGet">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateRefT'.modifyGet" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateRefT'.modifyGet {<span class="var token" data-binding="var-_uniq.13889" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13892" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13893" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13889" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13892" data-verso-hover="78">m</span>] (<span class="var token" data-binding="var-_uniq.13897" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span> → <span class="var token" data-binding="var-_uniq.13893" data-verso-hover="162">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13889" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13892" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13893" data-verso-hover="162">α</span></div><div class="narrow-only">StateRefT'.modifyGet {<span class="var token" data-binding="var-_uniq.13889" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  {<span class="var token" data-binding="var-_uniq.13892" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13893" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13889" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13892" data-verso-hover="78">m</span>] (<span class="var token" data-binding="var-_uniq.13897" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span> → <span class="var token" data-binding="var-_uniq.13893" data-verso-hover="162">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13889" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13890" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13892" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13893" data-verso-hover="162">α</span></div></pre><div class="text">
                    <p>
                      Applies a function to the current state that both computes a new state and a value. The new state
replaces the current state, and the value is returned.</p>
                    <p>
                      It is equivalent to a <code class="hl lean inline" data-lean-context="docstring-examples"><span class="const token" data-binding="const-MonadState.get" data-verso-hover="816">get</span></code> followed by a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadStateOf___mk"><span class="const token" data-binding="const-MonadStateOf.set" data-verso-hover="2786">set</span></a></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2836">modifyGet</span></code> may lead to higher
performance because it doesn't add a new reference to the state value. Additional references can
inhibit in-place updates of data.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateRefT______run">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateRefT'.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateRefT'.run {<span class="var token" data-binding="var-_uniq.13919" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span>]
  [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13919" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span>] {<span class="var token" data-binding="var-_uniq.13926" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} (<span class="var token" data-binding="var-_uniq.13927" data-verso-hover="2888">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13919" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13926" data-verso-hover="162">α</span>) (<span class="var token" data-binding="var-_uniq.13928" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span>) :
  <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span> <a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">(</span></a><span class="var token" data-binding="var-_uniq.13926" data-verso-hover="162">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">)</span></a></div><div class="narrow-only">StateRefT'.run {<span class="var token" data-binding="var-_uniq.13919" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  {<span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span>]
  [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13919" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span>] {<span class="var token" data-binding="var-_uniq.13926" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  (<span class="var token" data-binding="var-_uniq.13927" data-verso-hover="2888">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13919" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13926" data-verso-hover="162">α</span>) (<span class="var token" data-binding="var-_uniq.13928" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span>) :
  <span class="var token" data-binding="var-_uniq.13922" data-verso-hover="78">m</span> <a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">(</span></a><span class="var token" data-binding="var-_uniq.13926" data-verso-hover="162">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.13920" data-verso-hover="162">σ</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">)</span></a></div></pre><div class="text">
                    <p>
                      Executes an action from a monad with added state in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13900" data-verso-hover="78">m</span></code>. Given an initial
state, it returns a value paired with the final state.</p>
                    <p>
                      The monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13909" data-verso-hover="78">m</span></code> must support <code class="hl lean inline" data-lean-context="docstring-examples"><a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a></code> effects in order to create and mutate reference cells.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateRefT______run___">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateRefT'.run'" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateRefT'.run' {<span class="var token" data-binding="var-_uniq.13950" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13951" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span>]
  [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13950" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span>] {<span class="var token" data-binding="var-_uniq.13957" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} (<span class="var token" data-binding="var-_uniq.13958" data-verso-hover="2888">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13950" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13951" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13957" data-verso-hover="162">α</span>) (<span class="var token" data-binding="var-_uniq.13959" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13951" data-verso-hover="162">σ</span>) :
  <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13957" data-verso-hover="162">α</span></div><div class="narrow-only">StateRefT'.run' {<span class="var token" data-binding="var-_uniq.13950" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13951" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  {<span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span>]
  [<a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a> (<a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a> <span class="var token" data-binding="var-_uniq.13950" data-verso-hover="162">ω</span>) <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span>] {<span class="var token" data-binding="var-_uniq.13957" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  (<span class="var token" data-binding="var-_uniq.13958" data-verso-hover="2888">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13950" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13951" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13957" data-verso-hover="162">α</span>) (<span class="var token" data-binding="var-_uniq.13959" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.13951" data-verso-hover="162">σ</span>) : <span class="var token" data-binding="var-_uniq.13953" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13957" data-verso-hover="162">α</span></div></pre><div class="text">
                    <p>
                      Executes an action from a monad with added state in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13931" data-verso-hover="78">m</span></code>. Given an initial
state, it returns a value, discarding the final state.</p>
                    <p>
                      The monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.13940" data-verso-hover="78">m</span></code> must support <code class="hl lean inline" data-lean-context="docstring-examples"><a href="IO/Mutable-References/#ST"><span class="const token" data-binding="const-ST" data-verso-hover="2883">ST</span></a></code> effects in order to create and mutate reference cells.</p>
                    </div>
                  </div>
                <div class="namedocs" id="StateRefT______lift">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=StateRefT'.lift" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">StateRefT'.lift {<span class="var token" data-binding="var-_uniq.13976" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13977" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13979" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13980" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} (<span class="var token" data-binding="var-_uniq.13981" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.13979" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13980" data-verso-hover="162">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13976" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13977" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13979" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13980" data-verso-hover="162">α</span></div><div class="narrow-only">StateRefT'.lift {<span class="var token" data-binding="var-_uniq.13976" data-verso-hover="162">ω </span><span class="var token" data-binding="var-_uniq.13977" data-verso-hover="162">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  {<span class="var token" data-binding="var-_uniq.13979" data-verso-hover="78">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} {<span class="var token" data-binding="var-_uniq.13980" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} (<span class="var token" data-binding="var-_uniq.13981" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.13979" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13980" data-verso-hover="162">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateRefT___"><span class="const token" data-binding="const-StateRefT'" data-verso-hover="2858">StateRefT'</span></a> <span class="var token" data-binding="var-_uniq.13976" data-verso-hover="162">ω</span> <span class="var token" data-binding="var-_uniq.13977" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.13979" data-verso-hover="78">m</span> <span class="var token" data-binding="var-_uniq.13980" data-verso-hover="162">α</span></div></pre><div class="text">
                    <p>
                      Runs an action from the underlying monad in the monad with state. The state is not modified.</p>
                    <p>
                      This function is typically implicitly accessed via a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a></code> instance as part of <a href="https://lean-lang.org/doc/reference/4.19.0-rc3/find/?domain=Verso.Genre.Manual.section&name=monad-lifting">automatic
lifting</a>.</p>
                    </div>
                  </div>
                </section>
              </section>
            <section>
              <h2 id="reader-monad">
                14.5.5. Reader<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=reader-monad" title="Permalink">🔗</a></span></h2>
              <div class="namedocs" id="MonadReader___mk">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadReader" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadReader.{u, v} (<span class="var token" data-binding="var-_uniq.23" data-verso-hover="2864">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.25" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div><div class="narrow-only">MonadReader.{u, v} (<span class="var token" data-binding="var-_uniq.23" data-verso-hover="2864">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.25" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div></pre><div class="text">
                  <p>
                    Reader monads provide the ability to implicitly thread a value through a computation. The value can
be read, but not written. A <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader" data-verso-hover="2822">MonadWithReader</span></a> <span class="var token" data-binding="var-_uniq.1" data-verso-hover="2864">ρ</span></code> instance additionally allows the value to be locally
overridden for a sub-computation.</p>
                  <p>
                    In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="2864">ρ</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a></code>, which means that it is inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.7" data-verso-hover="97">m</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReaderOf___mk"><span class="const token" data-binding="const-MonadReaderOf" data-verso-hover="2831">MonadReaderOf</span></a> <span class="var token" data-binding="var-_uniq.6" data-verso-hover="2864">ρ</span></code>
provides the same operations, but allows <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.6" data-verso-hover="2864">ρ</span></code> to influence instance synthesis.</p>
                  <h1>
                    Instance Constructor</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><span class="const token" data-binding="const-MonadReader.mk" data-verso-hover="2889">MonadReader.mk</span></a>.{u, v}</pre><div class="docs"></div>
                    </section>
                  <h1>
                    Methods</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadReader.read" data-verso-hover="2890">read</span> : <span class="var token" data-binding="var-_uniq.17" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.16" data-verso-hover="2864">ρ</span></pre><div class="docs">
                      <p>
                        Retrieves the local value.</p>
                      <p>
                        Use <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#readThe"><span class="const token" data-binding="const-readThe" data-verso-hover="2834">readThe</span></a></code> to explicitly specify a type when more than one value is available.</p>
                      </div>
                    </section>
                  </div>
                </div>
              <div class="namedocs" id="MonadReaderOf___mk">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadReaderOf" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadReaderOf.{u, v} (<span class="var token" data-binding="var-_uniq.62" data-verso-hover="2871">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.64" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div><div class="narrow-only">MonadReaderOf.{u, v}
  (<span class="var token" data-binding="var-_uniq.62" data-verso-hover="2871">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.64" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div></pre><div class="text">
                  <p>
                    Reader monads provide the ability to implicitly thread a value through a computation. The value can
be read, but not written. A <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader" data-verso-hover="2822">MonadWithReader</span></a> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="2871">ρ</span></code> instance additionally allows the value to be locally
overridden for a sub-computation.</p>
                  <p>
                    In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.45" data-verso-hover="2871">ρ</span></code> is a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a></code>, which means that it can influence the choice of instance.
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><span class="const token" data-binding="const-MonadReader" data-verso-hover="2821">MonadReader</span></a> <span class="var token" data-binding="var-_uniq.45" data-verso-hover="2871">ρ</span></code> provides the same operations, but requires that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.45" data-verso-hover="2871">ρ</span></code> be inferrable from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.46" data-verso-hover="97">m</span></code>.</p>
                  <h1>
                    Instance Constructor</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReaderOf___mk"><span class="const token" data-binding="const-MonadReaderOf.mk" data-verso-hover="2891">MonadReaderOf.mk</span></a>.{u, v}</pre><div class="docs"></div>
                    </section>
                  <h1>
                    Methods</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadReaderOf.read" data-verso-hover="2892">read</span> : <span class="var token" data-binding="var-_uniq.56" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="2871">ρ</span></pre><div class="docs">
                      <p>
                        Retrieves the local value.</p>
                      </div>
                    </section>
                  </div>
                </div>
              <div class="namedocs" id="readThe">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=readThe" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">readThe.{u, v} (<span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.83" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReaderOf___mk"><span class="const token" data-binding="const-MonadReaderOf" data-verso-hover="2831">MonadReaderOf</span></a> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.83" data-verso-hover="97">m</span>] :
  <span class="var token" data-binding="var-_uniq.83" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">ρ</span></div><div class="narrow-only">readThe.{u, v} (<span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  {<span class="var token" data-binding="var-_uniq.83" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReaderOf___mk"><span class="const token" data-binding="const-MonadReaderOf" data-verso-hover="2831">MonadReaderOf</span></a> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.83" data-verso-hover="97">m</span>] : <span class="var token" data-binding="var-_uniq.83" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">ρ</span></div></pre><div class="text">
                  <p>
                    Retrieves the local value whose type is <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.70" data-verso-hover="55">ρ</span></code>.  This is useful when a monad supports reading more that
one type of value.</p>
                  <p>
                    Use <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><span class="const token" data-binding="const-MonadReader.read" data-verso-hover="2715">read</span></a></code> for a version that expects the type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.73" data-verso-hover="55">ρ</span></code> to be inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.74" data-verso-hover="97">m</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="MonadWithReader___mk">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadWithReader.mk" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadWithReader.{u, v} (<span class="var token" data-binding="var-_uniq.118" data-verso-hover="2864">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.120" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div><div class="narrow-only">MonadWithReader.{u, v}
  (<span class="var token" data-binding="var-_uniq.118" data-verso-hover="2864">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.120" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div></pre><div class="text">
                  <p>
                    A reader monad that additionally allows the value to be locally overridden.</p>
                  <p>
                    In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.87" data-verso-hover="2864">ρ</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a></code>, which means that it is inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.88" data-verso-hover="97">m</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReaderOf___mk"><span class="const token" data-binding="const-MonadWithReaderOf" data-verso-hover="2839">MonadWithReaderOf</span></a> <span class="var token" data-binding="var-_uniq.87" data-verso-hover="2864">ρ</span></code>
provides the same operations, but allows <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.87" data-verso-hover="2864">ρ</span></code> to influence instance synthesis.</p>
                  <h1>
                    Instance Constructor</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader.mk" data-verso-hover="2893">MonadWithReader.mk</span></a>.{u, v}</pre><div class="docs"></div>
                    </section>
                  <h1>
                    Methods</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadWithReader.withReader" data-verso-hover="2894">withReader</span> : {<span class="var token" data-binding="var-_uniq.101" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} → (<span class="var token" data-binding="var-_uniq.97" data-verso-hover="2864">ρ</span> → <span class="var token" data-binding="var-_uniq.97" data-verso-hover="2864">ρ</span>) → <span class="var token" data-binding="var-_uniq.98" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.101" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.98" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.101" data-verso-hover="55">α</span></pre><div class="docs">
                      <p>
                        Locally modifies the reader monad's value while running an action.</p>
                      <p>
                        During the inner action <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">x</span></code>, reading the value returns <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span></code> applied to the original value. After
control returns from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">x</span></code>, the reader monad's value is restored.</p>
                      </div>
                    </section>
                  </div>
                </div>
              <div class="namedocs" id="MonadWithReaderOf___mk">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadWithReaderOf" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadWithReaderOf.{u, v} (<span class="var token" data-binding="var-_uniq.191" data-verso-hover="2871">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.193" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div><div class="narrow-only">MonadWithReaderOf.{u, v}
  (<span class="var token" data-binding="var-_uniq.191" data-verso-hover="2871">ρ</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.193" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div></pre><div class="text">
                  <p>
                    A reader monad that additionally allows the value to be locally overridden.</p>
                  <p>
                    In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.160" data-verso-hover="2871">ρ</span></code> is a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a></code>, which means that it can influence the choice of instance.
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader" data-verso-hover="2822">MonadWithReader</span></a> <span class="var token" data-binding="var-_uniq.160" data-verso-hover="2871">ρ</span></code> provides the same operations, but requires that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.160" data-verso-hover="2871">ρ</span></code> be inferrable from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.161" data-verso-hover="97">m</span></code>.</p>
                  <h1>
                    Instance Constructor</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReaderOf___mk"><span class="const token" data-binding="const-MonadWithReaderOf.mk" data-verso-hover="2895">MonadWithReaderOf.mk</span></a>.{u, v}</pre><div class="docs"></div>
                    </section>
                  <h1>
                    Methods</h1>
                  <section class="subdocs">
                    <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadWithReaderOf.withReader" data-verso-hover="2894">withReader</span> : {<span class="var token" data-binding="var-_uniq.174" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} → (<span class="var token" data-binding="var-_uniq.170" data-verso-hover="2871">ρ</span> → <span class="var token" data-binding="var-_uniq.170" data-verso-hover="2871">ρ</span>) → <span class="var token" data-binding="var-_uniq.171" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.174" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.171" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.174" data-verso-hover="55">α</span></pre><div class="docs">
                      <p>
                        Locally modifies the reader monad's value while running an action.</p>
                      <p>
                        During the inner action <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">x</span></code>, reading the value returns <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span></code> applied to the original value. After
control returns from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">x</span></code>, the reader monad's value is restored.</p>
                      </div>
                    </section>
                  </div>
                </div>
              <div class="namedocs" id="withTheReader">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=withTheReader" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">withTheReader.{u, v} (<span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReaderOf___mk"><span class="const token" data-binding="const-MonadWithReaderOf" data-verso-hover="2839">MonadWithReaderOf</span></a> <span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.267" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.269" data-verso-hover="2896">f</span> : <span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span> → <span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span>) (<span class="var token" data-binding="var-_uniq.270" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.267" data-verso-hover="55">α</span>) : <span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.267" data-verso-hover="55">α</span></div><div class="narrow-only">withTheReader.{u, v} (<span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  {<span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReaderOf___mk"><span class="const token" data-binding="const-MonadWithReaderOf" data-verso-hover="2839">MonadWithReaderOf</span></a> <span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.267" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.269" data-verso-hover="2896">f</span> : <span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span> → <span class="var token" data-binding="var-_uniq.263" data-verso-hover="55">ρ</span>) (<span class="var token" data-binding="var-_uniq.270" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.267" data-verso-hover="55">α</span>) : <span class="var token" data-binding="var-_uniq.265" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.267" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Locally modifies the reader monad's value while running an action, with the reader monad's local
value type specified explicitly. This is useful when a monad supports reading more than one type of
value.</p>
                  <p>
                    During the inner action <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.242" data-verso-hover="241">x</span></code>, reading the value returns <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.241" data-verso-hover="2896">f</span></code> applied to the original value. After
control returns from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.242" data-verso-hover="241">x</span></code>, the reader monad's value is restored.</p>
                  <p>
                    Use <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader.withReader" data-verso-hover="2837">withReader</span></a></code> for a version that expects the local value's type to be inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.245" data-verso-hover="97">m</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.{u, v} (<span class="var token" data-binding="var-_uniq.290" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) (<span class="var token" data-binding="var-_uniq.292" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.293" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max u v)</span></div><div class="narrow-only">ReaderT.{u, v} (<span class="var token" data-binding="var-_uniq.290" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  (<span class="var token" data-binding="var-_uniq.292" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.293" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max u v)</span></div></pre><div class="text">
                  <p>
                    Adds the ability to access a read-only value of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.271" data-verso-hover="55">ρ</span></code> to a monad. The value can be locally
overridden by <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader.withReader" data-verso-hover="2837">withReader</span></a></code>, but it cannot be mutated.</p>
                  <p>
                    Actions in the resulting monad are functions that take the local value as a parameter, returning
ordinary actions in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.287" data-verso-hover="97">m</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderM" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderM.{u} (<span class="var token" data-binding="var-_uniq.308" data-verso-hover="55">ρ </span><span class="var token" data-binding="var-_uniq.309" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div><div class="narrow-only">ReaderM.{u} (<span class="var token" data-binding="var-_uniq.308" data-verso-hover="55">ρ </span><span class="var token" data-binding="var-_uniq.309" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div></pre><div class="text">
                  <p>
                    A monad with access to a read-only value of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.294" data-verso-hover="55">ρ</span></code>. The value can be locally overridden by
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadWithReader___mk"><span class="const token" data-binding="const-MonadWithReader.withReader" data-verso-hover="2837">withReader</span></a></code>, but it cannot be mutated.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT___run">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.run.{u, v} {<span class="var token" data-binding="var-_uniq.316" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.318" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.319" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.320" data-verso-hover="2897">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.316" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.318" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.319" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.321" data-verso-hover="2798">r</span> : <span class="var token" data-binding="var-_uniq.316" data-verso-hover="55">ρ</span>) : <span class="var token" data-binding="var-_uniq.318" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.319" data-verso-hover="55">α</span></div><div class="narrow-only">ReaderT.run.{u, v} {<span class="var token" data-binding="var-_uniq.316" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.318" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.319" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.320" data-verso-hover="2897">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.316" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.318" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.319" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.321" data-verso-hover="2798">r</span> : <span class="var token" data-binding="var-_uniq.316" data-verso-hover="55">ρ</span>) : <span class="var token" data-binding="var-_uniq.318" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.319" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Executes an action from a monad with a read-only value in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.311" data-verso-hover="97">m</span></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT___read">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT.read" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.read.{u, v} {<span class="var token" data-binding="var-_uniq.334" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.336" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.336" data-verso-hover="97">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.334" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.336" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.334" data-verso-hover="55">ρ</span></div><div class="narrow-only">ReaderT.read.{u, v} {<span class="var token" data-binding="var-_uniq.334" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.336" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.336" data-verso-hover="97">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.334" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.336" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.334" data-verso-hover="55">ρ</span></div></pre><div class="text">
                  <p>
                    Retrieves the reader monad's local value. Typically accessed via <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadReader___mk"><span class="const token" data-binding="const-MonadReader.read" data-verso-hover="2715">read</span></a></code>, or via <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#readThe"><span class="const token" data-binding="const-readThe" data-verso-hover="2834">readThe</span></a></code> when more
than one local value is available.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT___adapt">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT.adapt" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.adapt.{u, v} {<span class="var token" data-binding="var-_uniq.347" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.349" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.350" data-verso-hover="55">ρ' </span><span class="var token" data-binding="var-_uniq.351" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.353" data-verso-hover="2898">f</span> : <span class="var token" data-binding="var-_uniq.350" data-verso-hover="55">ρ'</span> → <span class="var token" data-binding="var-_uniq.347" data-verso-hover="55">ρ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.347" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.349" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.351" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.350" data-verso-hover="55">ρ'</span> <span class="var token" data-binding="var-_uniq.349" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.351" data-verso-hover="55">α</span></div><div class="narrow-only">ReaderT.adapt.{u, v} {<span class="var token" data-binding="var-_uniq.347" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.349" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.350" data-verso-hover="55">ρ' </span><span class="var token" data-binding="var-_uniq.351" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.353" data-verso-hover="2898">f</span> : <span class="var token" data-binding="var-_uniq.350" data-verso-hover="55">ρ'</span> → <span class="var token" data-binding="var-_uniq.347" data-verso-hover="55">ρ</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.347" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.349" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.351" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.350" data-verso-hover="55">ρ'</span> <span class="var token" data-binding="var-_uniq.349" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.351" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Modifies a reader monad's local value with <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.342" data-verso-hover="2898">f</span></code>. The resulting computation applies <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.342" data-verso-hover="2898">f</span></code> to the
incoming local value and passes the result to the inner computation.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT___pure">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT.pure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.368" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.370" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.370" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.372" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.373" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.372" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.368" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.370" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.372" data-verso-hover="55">α</span></div><div class="narrow-only">ReaderT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.368" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.370" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.370" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.372" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.373" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.372" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.368" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.370" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.372" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Returns the provided value <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.360" data-verso-hover="46">a</span></code>, ignoring the reader monad's local value. Typically used via
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">Pure.pure</span></a></code>.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT___bind">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT.bind" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.387" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.388" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.389" data-verso-hover="2897">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.387" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.391" data-verso-hover="2899">f</span> : <span class="var token" data-binding="var-_uniq.387" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.388" data-verso-hover="55">β</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.388" data-verso-hover="55">β</span></div><div class="narrow-only">ReaderT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.387" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.388" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.389" data-verso-hover="2897">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.387" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.391" data-verso-hover="2899">f</span> : <span class="var token" data-binding="var-_uniq.387" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.388" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.383" data-verso-hover="55">ρ</span> <span class="var token" data-binding="var-_uniq.385" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.388" data-verso-hover="55">β</span></div></pre><div class="text">
                  <p>
                    Sequences two reader monad computations. Both are provided with the local value, and the second is
passed the value of the first. Typically used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&gt;&gt;=</span></code> operator.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT___orElse">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT.orElse" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.orElse.{u_1, u_2} {<span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>} {<span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ </span><span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span>] (<span class="var token" data-binding="var-_uniq.406" data-verso-hover="2897">x₁</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span>) (<span class="var token" data-binding="var-_uniq.408" data-verso-hover="2900">x₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span></div><div class="narrow-only">ReaderT.orElse.{u_1, u_2}
  {<span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  {<span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ </span><span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span>]
  (<span class="var token" data-binding="var-_uniq.406" data-verso-hover="2897">x₁</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span>)
  (<span class="var token" data-binding="var-_uniq.408" data-verso-hover="2900">x₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.403" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.402" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.404" data-verso-hover="44">α</span></div></pre><div class="text">
                  <p>
                    Recovers from errors. The same local value is provided to both branches. Typically used via the
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;|&gt;</span></code> operator.</p>
                  </div>
                </div>
              <div class="namedocs" id="ReaderT___failure">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ReaderT.failure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ReaderT.failure.{u_1, u_2} {<span class="var token" data-binding="var-_uniq.416" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>} {<span class="var token" data-binding="var-_uniq.417" data-verso-hover="44">ρ </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.416" data-verso-hover="2806">m</span>] : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.417" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.416" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.418" data-verso-hover="44">α</span></div><div class="narrow-only">ReaderT.failure.{u_1, u_2}
  {<span class="var token" data-binding="var-_uniq.416" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  {<span class="var token" data-binding="var-_uniq.417" data-verso-hover="44">ρ </span><span class="var token" data-binding="var-_uniq.418" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} [<a href="Functors___-Monads-and--do--Notation/#Alternative___mk"><span class="const token" data-binding="const-Alternative" data-verso-hover="2575">Alternative</span></a> <span class="var token" data-binding="var-_uniq.416" data-verso-hover="2806">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ReaderT"><span class="const token" data-binding="const-ReaderT" data-verso-hover="2713">ReaderT</span></a> <span class="var token" data-binding="var-_uniq.417" data-verso-hover="44">ρ</span> <span class="var token" data-binding="var-_uniq.416" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.418" data-verso-hover="44">α</span></div></pre><div class="text">
                  <p>
                    Fails with a recoverable error.</p>
                  </div>
                </div>
              </section>
            <section>
              <h2 id="option-monad">
                14.5.6. Option<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=option-monad" title="Permalink">🔗</a></span></h2>
              <p>
                Ordinarily, <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a></code> is thought of as data, similarly to a nullable type.
It can also be considered as a monad, and thus a way of performing computations.
The <code class="hl lean inline" data-lean-context="examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a></code> monad and its transformer <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a></code> can be understood as describing computations that may terminate early, discarding the results.
Callers can check for early termination and invoke a fallback if desired using <code class="hl lean inline" data-lean-context="examples"><span class="const token" data-binding="const-OrElse.orElse" data-verso-hover="2753">OrElse.orElse</span></code> or by treating it as a <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a></code>.</p>
              <div class="namedocs" id="OptionT">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.{u, v} (<span class="var token" data-binding="var-_uniq.24" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.25" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div><div class="narrow-only">OptionT.{u, v} (<span class="var token" data-binding="var-_uniq.24" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>)
  (<span class="var token" data-binding="var-_uniq.25" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div></pre><div class="text">
                  <p>
                    Adds the ability to fail to a monad. Unlike ordinary exceptions, there is no way to signal why a
failure occurred.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___run">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.run.{u, v} {<span class="var token" data-binding="var-_uniq.32" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.33" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.34" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.32" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.33" data-verso-hover="55">α</span>) : <span class="var token" data-binding="var-_uniq.32" data-verso-hover="97">m</span> (<a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.33" data-verso-hover="55">α</span>)</div><div class="narrow-only">OptionT.run.{u, v} {<span class="var token" data-binding="var-_uniq.32" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  {<span class="var token" data-binding="var-_uniq.33" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.34" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.32" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.33" data-verso-hover="55">α</span>) :
  <span class="var token" data-binding="var-_uniq.32" data-verso-hover="97">m</span> (<a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.33" data-verso-hover="55">α</span>)</div></pre><div class="text">
                  <p>
                    Executes an action that might fail in the underlying monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.26" data-verso-hover="97">m</span></code>, returning <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.none" data-verso-hover="48">none</span></a></code> in case of failure.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___lift">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.lift" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.50" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.51" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.50" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.50" data-verso-hover="55">α</span></div><div class="narrow-only">OptionT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.50" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.51" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.50" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.48" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.50" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Converts a computation from the underlying monad into one that could fail, even though it does not.</p>
                  <p>
                    This function is typically implicitly accessed via a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Lifting-Monads/#MonadLiftT___mk"><span class="const token" data-binding="const-MonadLiftT" data-verso-hover="79">MonadLiftT</span></a></code> instance as part of <a href="https://lean-lang.org/doc/reference/4.19.0-rc3/find/?domain=Verso.Genre.Manual.section&name=monad-lifting">automatic
lifting</a>.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___mk">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.mk" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.mk.{u, v} {<span class="var token" data-binding="var-_uniq.58" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.60" data-verso-hover="2902">x</span> : <span class="var token" data-binding="var-_uniq.58" data-verso-hover="97">m</span> (<a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">α</span>)) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.58" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">α</span></div><div class="narrow-only">OptionT.mk.{u, v} {<span class="var token" data-binding="var-_uniq.58" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  {<span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.60" data-verso-hover="2902">x</span> : <span class="var token" data-binding="var-_uniq.58" data-verso-hover="97">m</span> (<a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">α</span>)) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.58" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Converts an action that returns an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a></code> into one that might fail, with <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.none" data-verso-hover="48">none</span></a></code> indicating
failure.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___pure">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.pure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.66" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.66" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.68" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.69" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.68" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.66" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.68" data-verso-hover="55">α</span></div><div class="narrow-only">OptionT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.66" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.66" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.68" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.69" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.68" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.66" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.68" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Succeeds with the provided value.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___bind">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.bind" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.80" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.82" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.80" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.84" data-verso-hover="2903">f</span> : <span class="var token" data-binding="var-_uniq.80" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">β</span></div><div class="narrow-only">OptionT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.80" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.82" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.80" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.84" data-verso-hover="2903">f</span> : <span class="var token" data-binding="var-_uniq.80" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">β</span></div></pre><div class="text">
                  <p>
                    Sequences two potentially-failing actions. The second action is run only if the first succeeds.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___fail">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.fail" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.fail.{u, v} {<span class="var token" data-binding="var-_uniq.90" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.90" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.92" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.90" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.92" data-verso-hover="55">α</span></div><div class="narrow-only">OptionT.fail.{u, v} {<span class="var token" data-binding="var-_uniq.90" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.90" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.92" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.90" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.92" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    A recoverable failure.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___orElse">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.orElse" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.orElse.{u, v} {<span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.103" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.105" data-verso-hover="2904">y</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span></div><div class="narrow-only">OptionT.orElse.{u, v}
  {<span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.103" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.105" data-verso-hover="2904">y</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.102" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Recovers from failures. Typically used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;|&gt;</span></code> operator.</p>
                  </div>
                </div>
              <div class="namedocs" id="OptionT___tryCatch">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=OptionT.tryCatch" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">OptionT.tryCatch.{u, v} {<span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span>] {<span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.117" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.119" data-verso-hover="2904">handle</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span></div><div class="narrow-only">OptionT.tryCatch.{u, v}
  {<span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.117" data-verso-hover="2901">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.119" data-verso-hover="2904">handle</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#OptionT"><span class="const token" data-binding="const-OptionT" data-verso-hover="2653">OptionT</span></a> <span class="var token" data-binding="var-_uniq.114" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.116" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Handles failures by treating them as exceptions of type <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a></code>.</p>
                  </div>
                </div>
              </section>
            <section>
              <h2 id="exception-monads">
                14.5.7. Exceptions<span class="permalink-widget inline"><a href="find/?domain=Verso.Genre.Manual.section&name=exception-monads" title="Permalink">🔗</a></span></h2>
              <p>
                Exception monads describe computations that terminate early (fail).
Failing computations provide their caller with an <em>exception</em> value that describes <em>why</em> they failed.
In other words, computations either return a value or an exception.
The inductive type <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a></code> captures this pattern, and is itself a monad.</p>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Exceptions">
                  14.5.7.1. Exceptions</h3>
                <div class="namedocs" id="Except___error">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.ok" title="Permalink">🔗</a></span><span class="label">inductive type</span><pre class="signature hl lean block"><div class="wide-only">Except.{u, v} (<span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) (<span class="var token" data-binding="var-_uniq.60" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type (max u v)</span></div><div class="narrow-only">Except.{u, v} (<span class="var token" data-binding="var-_uniq.59" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) (<span class="var token" data-binding="var-_uniq.60" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max u v)</span></div></pre><div class="text">
                    <p>
                      <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.3" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.4" data-verso-hover="243">α</span></code> is a type which represents either an error of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.3" data-verso-hover="55">ε</span></code> or a successful result with a
value of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.4" data-verso-hover="243">α</span></code>.</p>
                    <p>
                      <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">Except</span> <span class="unknown token" data-binding="">ε</span> <span class="unknown token" data-binding="">:</span> <span class="keyword token" data-binding="kw-occ-null-0">Type</span> <span class="unknown token" data-binding="">u</span> <span class="unknown token" data-binding="">→</span> <span class="keyword token" data-binding="kw-occ-null-0">Type</span> <span class="unknown token" data-binding="">v</span></code> is a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a></code> that represents computations that may throw exceptions:
the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a></code> operation is <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except.ok" data-verso-hover="1502">Except.ok</span></a></code> and the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/#Bind___mk"><span class="const token" data-binding="const-Bind.bind" data-verso-hover="1149">bind</span></a></code> operation returns the first encountered
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except.error" data-verso-hover="1500">Except.error</span></a></code>.</p>
                    <h1>
                      Constructors</h1>
                    <div class="constructor">
                      <pre class="name-and-type hl lean">error.{u, v} {<span class="var token" data-binding="var-_uniq.49" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.50" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} : <span class="var token" data-binding="var-_uniq.49" data-verso-hover="55">ε</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.49" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.50" data-verso-hover="243">α</span></pre><div class="docs">
                        <p>
                          A failure value of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.63" data-verso-hover="55">ε</span></code></p>
                        </div>
                      </div>
                    <div class="constructor">
                      <pre class="name-and-type hl lean">ok.{u, v} {<span class="var token" data-binding="var-_uniq.53" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.54" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} : <span class="var token" data-binding="var-_uniq.54" data-verso-hover="243">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.53" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.54" data-verso-hover="243">α</span></pre><div class="docs">
                        <p>
                          A success value of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.69" data-verso-hover="243">α</span></code></p>
                        </div>
                      </div>
                    </div>
                  </div>
                <div class="namedocs" id="Except___pure">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.pure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.pure.{u, u_1} {<span class="var token" data-binding="var-_uniq.77" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.78" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.79" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.78" data-verso-hover="44">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.77" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="44">α</span></div><div class="narrow-only">Except.pure.{u, u_1} {<span class="var token" data-binding="var-_uniq.77" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.78" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.79" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.78" data-verso-hover="44">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.77" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.78" data-verso-hover="44">α</span></div></pre><div class="text">
                    <p>
                      A successful computation in the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.71" data-verso-hover="55">ε</span></code> monad: <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.73" data-verso-hover="46">a</span></code> is returned, and no exception is thrown.</p>
                    </div>
                  </div>
                <div class="namedocs" id="Except___bind">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.bind" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.bind.{u, u_1, u_2} {<span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.99" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.100" data-verso-hover="187">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  (<span class="var token" data-binding="var-_uniq.101" data-verso-hover="2739">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.99" data-verso-hover="44">α</span>) (<span class="var token" data-binding="var-_uniq.103" data-verso-hover="2905">f</span> : <span class="var token" data-binding="var-_uniq.99" data-verso-hover="44">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="187">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="187">β</span></div><div class="narrow-only">Except.bind.{u, u_1, u_2} {<span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.99" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.100" data-verso-hover="187">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  (<span class="var token" data-binding="var-_uniq.101" data-verso-hover="2739">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.99" data-verso-hover="44">α</span>) (<span class="var token" data-binding="var-_uniq.103" data-verso-hover="2905">f</span> : <span class="var token" data-binding="var-_uniq.99" data-verso-hover="44">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="187">β</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.98" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.100" data-verso-hover="187">β</span></div></pre><div class="text">
                    <p>
                      Sequences two operations that may throw exceptions, allowing the second to depend on the value
returned by the first.</p>
                    <p>
                      If the first operation throws an exception, then it is the result of the computation. If the first
succeeds but the second throws an exception, then that exception is the result. If both succeed,
then the result is the result of the second computation.</p>
                    <p>
                      This is the implementation of the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&gt;&gt;=</span></code> operator for <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.90" data-verso-hover="55">ε</span></code>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="Except___map">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.map" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.map.{u, u_1, u_2} {<span class="var token" data-binding="var-_uniq.736" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.737" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.738" data-verso-hover="187">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  (<span class="var token" data-binding="var-_uniq.740" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.737" data-verso-hover="44">α</span> → <span class="var token" data-binding="var-_uniq.738" data-verso-hover="187">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.736" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.737" data-verso-hover="44">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.736" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.738" data-verso-hover="187">β</span></div><div class="narrow-only">Except.map.{u, u_1, u_2} {<span class="var token" data-binding="var-_uniq.736" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.737" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.738" data-verso-hover="187">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  (<span class="var token" data-binding="var-_uniq.740" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.737" data-verso-hover="44">α</span> → <span class="var token" data-binding="var-_uniq.738" data-verso-hover="187">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.736" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.737" data-verso-hover="44">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.736" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.738" data-verso-hover="187">β</span></div></pre><div class="text">
                    <p>
                      Transforms a successful result with a function, doing nothing when an exception is thrown.</p>
                    <p>
                      Examples:</p>
                    <ul>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="7">2</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___map"><span class="const token" data-binding="const-Except.map" data-verso-hover="2746">map</span></a> <span class="const token" data-binding="const-ToString.toString" data-verso-hover="620">toString</span> <span class="unknown token" data-binding="">=</span> <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="310">2</span></code></p>
                        </li>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2906">"Error"</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___map"><span class="const token" data-binding="const-Except.map" data-verso-hover="2746">map</span></a> <span class="const token" data-binding="const-ToString.toString" data-verso-hover="620">toString</span> <span class="unknown token" data-binding="">=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2906">"Error"</span></code></p>
                        </li>
                      </ul>
                    </div>
                  </div>
                <div class="namedocs" id="Except___mapError">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.mapError" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.mapError.{u, u_1, u_2} {<span class="var token" data-binding="var-_uniq.989" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.990" data-verso-hover="44">ε'</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>}
  {<span class="var token" data-binding="var-_uniq.991" data-verso-hover="187">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>} (<span class="var token" data-binding="var-_uniq.993" data-verso-hover="2907">f</span> : <span class="var token" data-binding="var-_uniq.989" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.990" data-verso-hover="44">ε'</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.989" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.991" data-verso-hover="187">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.990" data-verso-hover="44">ε'</span> <span class="var token" data-binding="var-_uniq.991" data-verso-hover="187">α</span></div><div class="narrow-only">Except.mapError.{u, u_1, u_2} {<span class="var token" data-binding="var-_uniq.989" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.990" data-verso-hover="44">ε'</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.991" data-verso-hover="187">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  (<span class="var token" data-binding="var-_uniq.993" data-verso-hover="2907">f</span> : <span class="var token" data-binding="var-_uniq.989" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.990" data-verso-hover="44">ε'</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.989" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.991" data-verso-hover="187">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.990" data-verso-hover="44">ε'</span> <span class="var token" data-binding="var-_uniq.991" data-verso-hover="187">α</span></div></pre><div class="text">
                    <p>
                      Transforms exceptions with a function, doing nothing on successful results.</p>
                    <p>
                      Examples:</p>
                    <ul>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="7">2</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___mapError"><span class="const token" data-binding="const-Except.mapError" data-verso-hover="2908">mapError</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">·</span><span class="unknown token" data-binding="">.</span><a href="Basic-Types/Strings/#String___length"><span class="const token" data-binding="const-String.length" data-verso-hover="1752">length</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=</span> <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="7">2</span></code></p>
                        </li>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2906">"Error"</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___mapError"><span class="const token" data-binding="const-Except.mapError" data-verso-hover="2908">mapError</span></a> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">·</span><span class="unknown token" data-binding="">.</span><a href="Basic-Types/Strings/#String___length"><span class="const token" data-binding="const-String.length" data-verso-hover="1752">length</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="typed token" data-binding="" data-verso-hover="7">5</span></code></p>
                        </li>
                      </ul>
                    </div>
                  </div>
                <div class="namedocs" id="Except___tryCatch">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.tryCatch" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.tryCatch.{u, u_1} {<span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.1329" data-verso-hover="2739">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span>)
  (<span class="var token" data-binding="var-_uniq.1331" data-verso-hover="2740">handle</span> : <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span></div><div class="narrow-only">Except.tryCatch.{u, u_1} {<span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.1329" data-verso-hover="2739">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span>)
  (<span class="var token" data-binding="var-_uniq.1331" data-verso-hover="2740">handle</span> : <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1327" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1328" data-verso-hover="44">α</span></div></pre><div class="text">
                    <p>
                      Handles exceptions thrown in the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.996" data-verso-hover="55">ε</span></code> monad.</p>
                    <p>
                      If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1005" data-verso-hover="2739">ma</span></code> is successful, its result is returned. If it throws an exception, then <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1006" data-verso-hover="2740">handle</span></code> is invoked
on the exception's value.</p>
                    <p>
                      Examples:</p>
                    <ul>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="7">2</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___tryCatch"><span class="const token" data-binding="const-Except.tryCatch" data-verso-hover="2738">tryCatch</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="unknown token" data-binding="">·</span><span class="unknown token" data-binding="">.</span><a href="Basic-Types/Strings/#String___length"><span class="const token" data-binding="const-String.length" data-verso-hover="1752">length</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=</span> <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="7">2</span></code></p>
                        </li>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2906">"Error"</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___tryCatch"><span class="const token" data-binding="const-Except.tryCatch" data-verso-hover="2738">tryCatch</span></a> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="unknown token" data-binding="">·</span><span class="unknown token" data-binding="">.</span><a href="Basic-Types/Strings/#String___length"><span class="const token" data-binding="const-String.length" data-verso-hover="1752">length</span></a><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=</span> <a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="7">5</span></code></p>
                        </li>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2906">"Error"</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___tryCatch"><span class="const token" data-binding="const-Except.tryCatch" data-verso-hover="2738">tryCatch</span></a> <span class="unknown token" data-binding="">(</span><span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.fun-46">fun</span> <span class="var token" data-binding="var-_uniq.1249" data-verso-hover="310">x</span> <span class="unknown token" data-binding="">=&gt;</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="unknown token" data-binding="">(</span><span class="literal string token" data-binding="" data-verso-hover="2909">"E: "</span> <span class="unknown token" data-binding="">++</span> <span class="var token" data-binding="var-_uniq.1249" data-verso-hover="310">x</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">=</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2910">"E: Error"</span></code></p>
                        </li>
                      </ul>
                    </div>
                  </div>
                <div class="namedocs" id="Except___orElseLazy">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.orElseLazy" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.orElseLazy.{u, u_1} {<span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.1350" data-verso-hover="2739">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span>)
  (<span class="var token" data-binding="var-_uniq.1352" data-verso-hover="2911">y</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span></div><div class="narrow-only">Except.orElseLazy.{u, u_1} {<span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} (<span class="var token" data-binding="var-_uniq.1350" data-verso-hover="2739">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span>)
  (<span class="var token" data-binding="var-_uniq.1352" data-verso-hover="2911">y</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1348" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1349" data-verso-hover="44">α</span></div></pre><div class="text">
                    <p>
                      Recovers from exceptions thrown in the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1332" data-verso-hover="55">ε</span></code> monad. Typically used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;|&gt;</span></code> operator.</p>
                    <p>
                      <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___tryCatch"><span class="const token" data-binding="const-Except.tryCatch" data-verso-hover="2738">Except.tryCatch</span></a></code> is a related operator that allows the recovery procedure to depend on <em>which</em>
exception was thrown.</p>
                    </div>
                  </div>
                <div class="namedocs" id="Except___isOk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.isOk" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.isOk.{u, u_1} {<span class="var token" data-binding="var-_uniq.1360" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1361" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1360" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1361" data-verso-hover="44">α</span> → <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a></div><div class="narrow-only">Except.isOk.{u, u_1} {<span class="var token" data-binding="var-_uniq.1360" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1361" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1360" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1361" data-verso-hover="44">α</span> → <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a></div></pre><div class="text">
                    <p>
                      Returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a></code> if the value is <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except.ok" data-verso-hover="1502">Except.ok</span></a></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.false" data-verso-hover="40">false</span></a></code> otherwise.</p>
                    </div>
                  </div>
                <div class="namedocs" id="Except___toOption">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.toOption" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.toOption.{u, u_1} {<span class="var token" data-binding="var-_uniq.1511" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1512" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1511" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1512" data-verso-hover="44">α</span> → <a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.1512" data-verso-hover="44">α</span></div><div class="narrow-only">Except.toOption.{u, u_1} {<span class="var token" data-binding="var-_uniq.1511" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1512" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1511" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1512" data-verso-hover="44">α</span> → <a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.1512" data-verso-hover="44">α</span></div></pre><div class="text">
                    <p>
                      Returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.none" data-verso-hover="48">none</span></a></code> if an exception was thrown, or <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.some" data-verso-hover="47">some</span></a></code> around the value on success.</p>
                    <p>
                      Examples:</p>
                    <ul>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/#Pure___mk"><span class="const token" data-binding="const-Pure.pure" data-verso-hover="1012">pure</span></a> <span class="typed token" data-binding="" data-verso-hover="7">10</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___toOption"><span class="const token" data-binding="const-Except.toOption" data-verso-hover="2912">toOption</span></a> <span class="unknown token" data-binding="">=</span> <a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.some" data-verso-hover="47">some</span></a> <span class="typed token" data-binding="" data-verso-hover="7">10</span></code></p>
                        </li>
                      <li>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a> <span class="literal string token" data-binding="" data-verso-hover="2913">"Failure"</span> <span class="unknown token" data-binding="">:</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <a href="Basic-Types/Strings/#String___mk"><span class="const token" data-binding="const-String" data-verso-hover="147">String</span></a> <a href="Basic-Types/Natural-Numbers/#Nat___zero"><span class="const token" data-binding="const-Nat" data-verso-hover="22">Nat</span></a><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">.</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___toOption"><span class="const token" data-binding="const-Except.toOption" data-verso-hover="2912">toOption</span></a> <span class="unknown token" data-binding="">=</span> <a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.none" data-verso-hover="48">none</span></a></code></p>
                        </li>
                      </ul>
                    </div>
                  </div>
                <div class="namedocs" id="Except___toBool">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=Except.toBool" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">Except.toBool.{u, u_1} {<span class="var token" data-binding="var-_uniq.1522" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1523" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1522" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1523" data-verso-hover="44">α</span> → <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a></div><div class="narrow-only">Except.toBool.{u, u_1} {<span class="var token" data-binding="var-_uniq.1522" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1523" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1522" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1523" data-verso-hover="44">α</span> → <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a></div></pre><div class="text">
                    <p>
                      Returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a></code> if the value is <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except.ok" data-verso-hover="1502">Except.ok</span></a></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.false" data-verso-hover="40">false</span></a></code> otherwise.</p>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Type-Class">
                  14.5.7.2. Type Class</h3>
                <div class="namedocs" id="MonadExcept___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadExcept" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadExcept.{u, v, w} (<span class="var token" data-binding="var-_uniq.1575" data-verso-hover="2864">ε</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.1577" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (max u (v + 1)) w)</span></div><div class="narrow-only">MonadExcept.{u, v, w}
  (<span class="var token" data-binding="var-_uniq.1575" data-verso-hover="2864">ε</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.1577" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (max u (v + 1)) w)</span></div></pre><div class="text">
                    <p>
                      Exception monads provide the ability to throw errors and handle errors.</p>
                    <p>
                      In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1528" data-verso-hover="2864">ε</span></code> is an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a></code>, which means that it is inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1529" data-verso-hover="2914">m</span></code>. <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a> <span class="var token" data-binding="var-_uniq.1528" data-verso-hover="2864">ε</span></code>
provides the same operations, but allows <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1528" data-verso-hover="2864">ε</span></code> to influence instance synthesis.</p>
                    <p>
                      <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.tryCatch" data-verso-hover="2747">MonadExcept.tryCatch</span></a></code> is used to desugar <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">try</span> <span class="unknown token" data-binding="">...</span> <span class="keyword token" data-binding="kw-occ-null-0">catch</span> <span class="unknown token" data-binding="">...</span></code> steps inside <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-blocks when the
handlers do not have exception type annotations.</p>
                    <h1>
                      Instance Constructor</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.mk" data-verso-hover="2915">MonadExcept.mk</span></a>.{u, v, w}</pre><div class="docs"></div>
                      </section>
                    <h1>
                      Methods</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="2916">throw</span> : {<span class="var token" data-binding="var-_uniq.1553" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} → <span class="var token" data-binding="var-_uniq.1549" data-verso-hover="2864">ε</span> → <span class="var token" data-binding="var-_uniq.1550" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1553" data-verso-hover="243">α</span></pre><div class="docs">
                        <p>
                          Throws an exception of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1580" data-verso-hover="2864">ε</span></code> to the nearest enclosing handler.</p>
                        </div>
                      </section>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadExcept.tryCatch" data-verso-hover="2917">tryCatch</span> : {<span class="var token" data-binding="var-_uniq.1556" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} → <span class="var token" data-binding="var-_uniq.1550" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1556" data-verso-hover="243">α</span> → (<span class="var token" data-binding="var-_uniq.1549" data-verso-hover="2864">ε</span> → <span class="var token" data-binding="var-_uniq.1550" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1556" data-verso-hover="243">α</span>) → <span class="var token" data-binding="var-_uniq.1550" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1556" data-verso-hover="243">α</span></pre><div class="docs">
                        <p>
                          Catches errors thrown in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">body</span></code>, passing them to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">handler</span></code>. Errors in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">handler</span></code> are not caught.</p>
                        </div>
                      </section>
                    </div>
                  </div>
                <div class="namedocs" id="MonadExcept___ofExcept">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadExcept.ofExcept" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">MonadExcept.ofExcept.{u_1, u_2, u_3} {<span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  {<span class="var token" data-binding="var-_uniq.1629" data-verso-hover="2807">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_3</span>} {<span class="var token" data-binding="var-_uniq.1630" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span>] [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <span class="var token" data-binding="var-_uniq.1629" data-verso-hover="2807">ε</span> <span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span>] :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1629" data-verso-hover="2807">ε</span> <span class="var token" data-binding="var-_uniq.1630" data-verso-hover="44">α</span> → <span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.1630" data-verso-hover="44">α</span></div><div class="narrow-only">MonadExcept.ofExcept.{u_1, u_2, u_3}
  {<span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>} {<span class="var token" data-binding="var-_uniq.1629" data-verso-hover="2807">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_3</span>}
  {<span class="var token" data-binding="var-_uniq.1630" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span>]
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <span class="var token" data-binding="var-_uniq.1629" data-verso-hover="2807">ε</span> <span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span>] : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1629" data-verso-hover="2807">ε</span> <span class="var token" data-binding="var-_uniq.1630" data-verso-hover="44">α</span> → <span class="var token" data-binding="var-_uniq.1628" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.1630" data-verso-hover="44">α</span></div></pre><div class="text">
                    <p>
                      Re-interprets an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.1618" data-verso-hover="2807">ε</span></code> action in an exception monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1617" data-verso-hover="2806">m</span></code>, succeeding if it succeeds and throwing
an exception if it throws an exception.</p>
                    </div>
                  </div>
                <div class="namedocs" id="MonadExcept___orElse">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadExcept.orElse" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">MonadExcept.orElse.{u, v, w} {<span class="var token" data-binding="var-_uniq.1647" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <span class="var token" data-binding="var-_uniq.1647" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span>] {<span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} (<span class="var token" data-binding="var-_uniq.1652" data-verso-hover="241">t₁</span> : <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span>) (<span class="var token" data-binding="var-_uniq.1654" data-verso-hover="2918">t₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span>) : <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span></div><div class="narrow-only">MonadExcept.orElse.{u, v, w} {<span class="var token" data-binding="var-_uniq.1647" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <span class="var token" data-binding="var-_uniq.1647" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span>]
  {<span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} (<span class="var token" data-binding="var-_uniq.1652" data-verso-hover="241">t₁</span> : <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span>)
  (<span class="var token" data-binding="var-_uniq.1654" data-verso-hover="2918">t₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span>) : <span class="var token" data-binding="var-_uniq.1649" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1651" data-verso-hover="243">α</span></div></pre><div class="text">
                    <p>
                      Unconditional error recovery that ignores which exception was thrown. Usually used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;|&gt;</span></code>
operator.</p>
                    <p>
                      If both computations throw exceptions, then the result is the second exception.</p>
                    </div>
                  </div>
                <div class="namedocs" id="MonadExcept___orelse___">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadExcept.orelse'" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">MonadExcept.orelse'.{u, v, w} {<span class="var token" data-binding="var-_uniq.1669" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <span class="var token" data-binding="var-_uniq.1669" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span>] {<span class="var token" data-binding="var-_uniq.1673" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} (<span class="var token" data-binding="var-_uniq.1674" data-verso-hover="241">t₁ </span><span class="var token" data-binding="var-_uniq.1675" data-verso-hover="241">t₂</span> : <span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1673" data-verso-hover="243">α</span>)
  (<span class="var token" data-binding="var-_uniq.1676" data-verso-hover="2919">useFirstEx</span> : <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a> := <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a>) : <span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1673" data-verso-hover="243">α</span></div><div class="narrow-only">MonadExcept.orelse'.{u, v, w} {<span class="var token" data-binding="var-_uniq.1669" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <span class="var token" data-binding="var-_uniq.1669" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span>]
  {<span class="var token" data-binding="var-_uniq.1673" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} (<span class="var token" data-binding="var-_uniq.1674" data-verso-hover="241">t₁ </span><span class="var token" data-binding="var-_uniq.1675" data-verso-hover="241">t₂</span> : <span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1673" data-verso-hover="243">α</span>)
  (<span class="var token" data-binding="var-_uniq.1676" data-verso-hover="2919">useFirstEx</span> : <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a> := <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a>) : <span class="var token" data-binding="var-_uniq.1671" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1673" data-verso-hover="243">α</span></div></pre><div class="text">
                    <p>
                      An alternative unconditional error recovery operator that allows callers to specify which exception
to throw in cases where both operations throw exceptions.</p>
                    <p>
                      By default, the first is thrown, because the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;|&gt;</span></code> operator throws the second.</p>
                    </div>
                  </div>
                <div class="namedocs" id="MonadExceptOf___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadExceptOf.tryCatch" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadExceptOf.{u, v, w} (<span class="var token" data-binding="var-_uniq.1726" data-verso-hover="2871">ε</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.1728" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type (max (max u (v + 1)) w)</span></div><div class="narrow-only">MonadExceptOf.{u, v, w}
  (<span class="var token" data-binding="var-_uniq.1726" data-verso-hover="2871">ε</span> : <a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>)
  (<span class="var token" data-binding="var-_uniq.1728" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (max u (v + 1)) w)</span></div></pre><div class="text">
                    <p>
                      Exception monads provide the ability to throw errors and handle errors.</p>
                    <p>
                      In this class, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1679" data-verso-hover="2871">ε</span></code> is a <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Type-Classes/Instance-Synthesis/#semiOutParam"><span class="const token" data-binding="const-semiOutParam" data-verso-hover="92">semiOutParam</span></a></code>, which means that it can influence the choice of instance.
<code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept" data-verso-hover="2823">MonadExcept</span></a> <span class="var token" data-binding="var-_uniq.1679" data-verso-hover="2871">ε</span></code> provides the same operations, but requires that <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1679" data-verso-hover="2871">ε</span></code> be inferrable from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1680" data-verso-hover="2914">m</span></code>.</p>
                    <p>
                      <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#tryCatchThe"><span class="const token" data-binding="const-tryCatchThe" data-verso-hover="2835">tryCatchThe</span></a></code>, which takes an explicit exception type, is used to desugar <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">try</span> <span class="unknown token" data-binding="">...</span> <span class="keyword token" data-binding="kw-occ-null-0">catch</span> <span class="unknown token" data-binding="">...</span></code> steps
inside <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-blocks when the handlers have type annotations.</p>
                    <h1>
                      Instance Constructor</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf.mk" data-verso-hover="2920">MonadExceptOf.mk</span></a>.{u, v, w}</pre><div class="docs"></div>
                      </section>
                    <h1>
                      Methods</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadExceptOf.throw" data-verso-hover="2921">throw</span> : {<span class="var token" data-binding="var-_uniq.1704" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} → <span class="var token" data-binding="var-_uniq.1700" data-verso-hover="2871">ε</span> → <span class="var token" data-binding="var-_uniq.1701" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1704" data-verso-hover="243">α</span></pre><div class="docs">
                        <p>
                          Throws an exception of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1731" data-verso-hover="2871">ε</span></code> to the nearest enclosing <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">catch</span></code>.</p>
                        </div>
                      </section>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadExceptOf.tryCatch" data-verso-hover="2917">tryCatch</span> : {<span class="var token" data-binding="var-_uniq.1707" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} → <span class="var token" data-binding="var-_uniq.1701" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1707" data-verso-hover="243">α</span> → (<span class="var token" data-binding="var-_uniq.1700" data-verso-hover="2871">ε</span> → <span class="var token" data-binding="var-_uniq.1701" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1707" data-verso-hover="243">α</span>) → <span class="var token" data-binding="var-_uniq.1701" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1707" data-verso-hover="243">α</span></pre><div class="docs">
                        <p>
                          Catches errors thrown in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">body</span></code>, passing them to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">handler</span></code>. Errors in <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">handler</span></code> are not caught.</p>
                        </div>
                      </section>
                    </div>
                  </div>
                <div class="namedocs" id="throwThe">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=throwThe" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">throwThe.{u, v, w} (<span class="var token" data-binding="var-_uniq.1786" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.1788" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a> <span class="var token" data-binding="var-_uniq.1786" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1788" data-verso-hover="2914">m</span>] {<span class="var token" data-binding="var-_uniq.1790" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} (<span class="var token" data-binding="var-_uniq.1791" data-verso-hover="2922">e</span> : <span class="var token" data-binding="var-_uniq.1786" data-verso-hover="55">ε</span>) : <span class="var token" data-binding="var-_uniq.1788" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1790" data-verso-hover="243">α</span></div><div class="narrow-only">throwThe.{u, v, w} (<span class="var token" data-binding="var-_uniq.1786" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  {<span class="var token" data-binding="var-_uniq.1788" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a> <span class="var token" data-binding="var-_uniq.1786" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1788" data-verso-hover="2914">m</span>] {<span class="var token" data-binding="var-_uniq.1790" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  (<span class="var token" data-binding="var-_uniq.1791" data-verso-hover="2922">e</span> : <span class="var token" data-binding="var-_uniq.1786" data-verso-hover="55">ε</span>) : <span class="var token" data-binding="var-_uniq.1788" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1790" data-verso-hover="243">α</span></div></pre><div class="text">
                    <p>
                      Throws an exception, with the exception type specified explicitly. This is useful when a monad
supports throwing more than one type of exception.</p>
                    <p>
                      Use <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.throw" data-verso-hover="1443">throw</span></a></code> for a version that expects the exception type to be inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1774" data-verso-hover="2914">m</span></code>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="tryCatchThe">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=tryCatchThe" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">tryCatchThe.{u, v, w} (<span class="var token" data-binding="var-_uniq.1814" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) {<span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a> <span class="var token" data-binding="var-_uniq.1814" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span>] {<span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} (<span class="var token" data-binding="var-_uniq.1819" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span>) (<span class="var token" data-binding="var-_uniq.1821" data-verso-hover="2923">handle</span> : <span class="var token" data-binding="var-_uniq.1814" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span>) : <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span></div><div class="narrow-only">tryCatchThe.{u, v, w} (<span class="var token" data-binding="var-_uniq.1814" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  {<span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type w</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExceptOf___mk"><span class="const token" data-binding="const-MonadExceptOf" data-verso-hover="2832">MonadExceptOf</span></a> <span class="var token" data-binding="var-_uniq.1814" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span>] {<span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>}
  (<span class="var token" data-binding="var-_uniq.1819" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span>) (<span class="var token" data-binding="var-_uniq.1821" data-verso-hover="2923">handle</span> : <span class="var token" data-binding="var-_uniq.1814" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span>) : <span class="var token" data-binding="var-_uniq.1816" data-verso-hover="2914">m</span> <span class="var token" data-binding="var-_uniq.1818" data-verso-hover="243">α</span></div></pre><div class="text">
                    <p>
                      Catches errors, recovering using <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1797" data-verso-hover="2923">handle</span></code>. The exception type is specified explicitly. This is useful when a monad
supports throwing or handling more than one type of exception.</p>
                    <p>
                      Use <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadExcept___mk"><span class="const token" data-binding="const-MonadExcept.tryCatch" data-verso-hover="2747">tryCatch</span></a></code>, for a version that expects the exception type to be inferred from <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1800" data-verso-hover="2914">m</span></code>.</p>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--___Finally___-Computations">
                  14.5.7.3. “Finally” Computations</h3>
                <div class="namedocs" id="MonadFinally___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=MonadFinally.mk" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">MonadFinally.{u, v} (<span class="var token" data-binding="var-_uniq.1856" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div><div class="narrow-only">MonadFinally.{u, v}
  (<span class="var token" data-binding="var-_uniq.1856" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div></pre><div class="text">
                    <p>
                      Monads that provide the ability to ensure an action happens, regardless of exceptions or other
failures.</p>
                    <p>
                      <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadFinally___mk"><span class="const token" data-binding="const-MonadFinally.tryFinally'" data-verso-hover="2924">MonadFinally.tryFinally'</span></a></code> is used to desugar <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">try</span> <span class="unknown token" data-binding="">...</span> <span class="keyword token" data-binding="kw-occ-null-0">finally</span> <span class="unknown token" data-binding="">...</span></code> syntax.</p>
                    <h1>
                      Instance Constructor</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadFinally___mk"><span class="const token" data-binding="const-MonadFinally.mk" data-verso-hover="2925">MonadFinally.mk</span></a>.{u, v}</pre><div class="docs"></div>
                      </section>
                    <h1>
                      Methods</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-MonadFinally.tryFinally'" data-verso-hover="2926">tryFinally'</span> : {<span class="var token" data-binding="var-_uniq.1837" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.1839" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} → <span class="var token" data-binding="var-_uniq.1834" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.1837" data-verso-hover="55">α</span> → (<a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.1837" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.1834" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.1839" data-verso-hover="55">β</span>) → <span class="var token" data-binding="var-_uniq.1834" data-verso-hover="97">m</span> <a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">(</span></a><span class="var token" data-binding="var-_uniq.1837" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.1839" data-verso-hover="55">β</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189">)</span></a></pre><div class="docs">
                        <p>
                          Runs an action, ensuring that some other action always happens afterward.</p>
                        <p>
                          More specifically, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1862" data-verso-hover="2927">tryFinally'</span> <span class="var token" data-binding="var-_uniq.1872" data-verso-hover="2928">x</span> <span class="var token" data-binding="var-_uniq.1883" data-verso-hover="2929">f</span></code> runs <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1872" data-verso-hover="2928">x</span></code> and then the “finally” computation <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1883" data-verso-hover="2929">f</span></code>. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1872" data-verso-hover="2928">x</span></code>
succeeds with some value <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1906" data-verso-hover="46">a</span> <span class="unknown token" data-binding="">:</span> <span class="var token" data-binding="var-_uniq.1895" data-verso-hover="2930">α</span></code>, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">some</span> <span class="unknown token" data-binding="">a</span><span class="unknown token" data-binding="">)</span></code> is returned. If <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1872" data-verso-hover="2931">x</span></code> fails for <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1861" data-verso-hover="97">m</span></code>'s definition of
failure, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.1883" data-verso-hover="2932">f</span> <a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.none" data-verso-hover="48">none</span></a></code> is returned.</p>
                        <p>
                          <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#MonadFinally___mk"><span class="const token" data-binding="const-MonadFinally.tryFinally'" data-verso-hover="2924">tryFinally'</span></a></code> can be thought of as performing the same role as a <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">finally</span></code> block in an imperative
programming language.</p>
                        </div>
                      </section>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Transformer">
                  14.5.7.4. Transformer</h3>
                <div class="namedocs" id="ExceptT">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.{u, v} (<span class="var token" data-binding="var-_uniq.2069" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) (<span class="var token" data-binding="var-_uniq.2071" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.2072" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div><div class="narrow-only">ExceptT.{u, v} (<span class="var token" data-binding="var-_uniq.2069" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  (<span class="var token" data-binding="var-_uniq.2071" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.2072" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type v</span></div></pre><div class="text">
                    <p>
                      Adds exceptions of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.2065" data-verso-hover="55">ε</span></code> to a monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.2066" data-verso-hover="97">m</span></code>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___lift">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.lift" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.2078" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2082" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2083" data-verso-hover="241">t</span> : <span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2082" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2078" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2082" data-verso-hover="55">α</span></div><div class="narrow-only">ExceptT.lift.{u, v} {<span class="var token" data-binding="var-_uniq.2078" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2082" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2083" data-verso-hover="241">t</span> : <span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2082" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2078" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2080" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2082" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Runs a computation from an underlying monad in the transformed monad with exceptions.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___run">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.run.{u, v} {<span class="var token" data-binding="var-_uniq.2097" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2099" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.2100" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.2101" data-verso-hover="2933">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2097" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2099" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2100" data-verso-hover="55">α</span>) : <span class="var token" data-binding="var-_uniq.2099" data-verso-hover="97">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2097" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2100" data-verso-hover="55">α</span>)</div><div class="narrow-only">ExceptT.run.{u, v} {<span class="var token" data-binding="var-_uniq.2097" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2099" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.2100" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.2101" data-verso-hover="2933">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2097" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2099" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2100" data-verso-hover="55">α</span>) : <span class="var token" data-binding="var-_uniq.2099" data-verso-hover="97">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2097" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2100" data-verso-hover="55">α</span>)</div></pre><div class="text">
                    <p>
                      Use a monadic action that may throw an exception as an action that may return an exception's value.</p>
                    <p>
                      This is the inverse of <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___mk"><span class="const token" data-binding="const-ExceptT.mk" data-verso-hover="2934">ExceptT.mk</span></a></code>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___pure">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.pure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.2107" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2109" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2109" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2111" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2112" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.2111" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2107" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2109" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2111" data-verso-hover="55">α</span></div><div class="narrow-only">ExceptT.pure.{u, v} {<span class="var token" data-binding="var-_uniq.2107" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2109" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2109" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2111" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2112" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.2111" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2107" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2109" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2111" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Returns the value <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.2106" data-verso-hover="46">a</span></code> without throwing exceptions or having any other effect.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___bind">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.bind" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2125" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.2126" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2127" data-verso-hover="2933">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2125" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.2129" data-verso-hover="2935">f</span> : <span class="var token" data-binding="var-_uniq.2125" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2126" data-verso-hover="55">β</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2126" data-verso-hover="55">β</span></div><div class="narrow-only">ExceptT.bind.{u, v} {<span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2125" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.2126" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2127" data-verso-hover="2933">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2125" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.2129" data-verso-hover="2935">f</span> : <span class="var token" data-binding="var-_uniq.2125" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2126" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2121" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2123" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2126" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Sequences two actions that may throw exceptions. Typically used via <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span></code>-notation or the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&gt;&gt;=</span></code>
operator.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___bindCont">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.bindCont" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.bindCont.{u, v} {<span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2143" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.2144" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2146" data-verso-hover="2935">f</span> : <span class="var token" data-binding="var-_uniq.2143" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2144" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2143" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2144" data-verso-hover="55">β</span>)</div><div class="narrow-only">ExceptT.bindCont.{u, v} {<span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2143" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.2144" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2146" data-verso-hover="2935">f</span> : <span class="var token" data-binding="var-_uniq.2143" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2144" data-verso-hover="55">β</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2143" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.2141" data-verso-hover="97">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2139" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2144" data-verso-hover="55">β</span>)</div></pre><div class="text">
                    <p>
                      Handles exceptions thrown by an action that can have no effects <em>other</em> than throwing exceptions.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___tryCatch">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.tryCatch" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.tryCatch.{u, v} {<span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2166" data-verso-hover="2933">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.2168" data-verso-hover="2936">handle</span> : <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span></div><div class="narrow-only">ExceptT.tryCatch.{u, v} {<span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2166" data-verso-hover="2933">ma</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.2168" data-verso-hover="2936">handle</span> : <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2161" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2163" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2165" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Handles exceptions produced in the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2150" data-verso-hover="55">ε</span></code> transformer.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.mk" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.mk.{u, v} {<span class="var token" data-binding="var-_uniq.2183" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2185" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.2186" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.2187" data-verso-hover="2937">x</span> : <span class="var token" data-binding="var-_uniq.2185" data-verso-hover="97">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2183" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2186" data-verso-hover="55">α</span>)) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2183" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2185" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2186" data-verso-hover="55">α</span></div><div class="narrow-only">ExceptT.mk.{u, v} {<span class="var token" data-binding="var-_uniq.2183" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2185" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} {<span class="var token" data-binding="var-_uniq.2186" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.2187" data-verso-hover="2937">x</span> : <span class="var token" data-binding="var-_uniq.2185" data-verso-hover="97">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2183" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2186" data-verso-hover="55">α</span>)) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2183" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2185" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2186" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Use a monadic action that may return an exception's value as an action in the transformed monad that
may throw the corresponding exception.</p>
                    <p>
                      This is the inverse of <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT___run"><span class="const token" data-binding="const-ExceptT.run" data-verso-hover="2826">ExceptT.run</span></a></code>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___map">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.map" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.map.{u, v} {<span class="var token" data-binding="var-_uniq.2196" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2200" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.2201" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2203" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.2200" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.2201" data-verso-hover="55">β</span>) (<span class="var token" data-binding="var-_uniq.2204" data-verso-hover="2933">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2196" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2200" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2196" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2201" data-verso-hover="55">β</span></div><div class="narrow-only">ExceptT.map.{u, v} {<span class="var token" data-binding="var-_uniq.2196" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2200" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.2201" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2203" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.2200" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.2201" data-verso-hover="55">β</span>)
  (<span class="var token" data-binding="var-_uniq.2204" data-verso-hover="2933">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2196" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2200" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2196" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2198" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2201" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Transforms a successful computation's value using <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.2193" data-verso-hover="180">f</span></code>. Typically used via the <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">&lt;$&gt;</span></code> operator.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptT___adapt">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptT.adapt" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptT.adapt.{u, v} {<span class="var token" data-binding="var-_uniq.2231" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} {<span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2235" data-verso-hover="55">ε' </span><span class="var token" data-binding="var-_uniq.2236" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2238" data-verso-hover="2907">f</span> : <span class="var token" data-binding="var-_uniq.2231" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.2235" data-verso-hover="55">ε'</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2231" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2236" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2235" data-verso-hover="55">ε'</span> <span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2236" data-verso-hover="55">α</span></div><div class="narrow-only">ExceptT.adapt.{u, v} {<span class="var token" data-binding="var-_uniq.2231" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  {<span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span>]
  {<span class="var token" data-binding="var-_uniq.2235" data-verso-hover="55">ε' </span><span class="var token" data-binding="var-_uniq.2236" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2238" data-verso-hover="2907">f</span> : <span class="var token" data-binding="var-_uniq.2231" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.2235" data-verso-hover="55">ε'</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2231" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2236" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2235" data-verso-hover="55">ε'</span> <span class="var token" data-binding="var-_uniq.2233" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2236" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Transforms exceptions using the function <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.2210" data-verso-hover="2907">f</span></code>.</p>
                    <p>
                      This is the <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a></code> version of <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___mapError"><span class="const token" data-binding="const-Except.mapError" data-verso-hover="2908">Except.mapError</span></a></code>.</p>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Exceptions--Exception-Monads-in-Continuation-Passing-Style">
                  14.5.7.5. Exception Monads in Continuation Passing Style</h3>
                <p>
                  Continuation-passing-style exception monads represent potentially-failing computations as functions that take success and failure continuations, both of which return the same type, returning that type.
They must work for <em>any</em> return type.
An example of such a type is <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2250" data-verso-hover="55">β</span> <span class="unknown token" data-binding="">:</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.type-2010" data-verso-hover="50">Type</span> <span class="unknown token" data-binding="">u</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2242" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.2250" data-verso-hover="55">β</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2244" data-verso-hover="55">ε</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.2250" data-verso-hover="55">β</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.2250" data-verso-hover="55">β</span></code>.
<code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a></code> is a transformer that can be applied to any monad, so <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2281" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2285" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2279" data-verso-hover="55">α</span></code> is actually defined as <code class="hl lean inline" data-lean-context="examples"><span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2300" data-verso-hover="55">β</span> <span class="unknown token" data-binding="">:</span> <span class="keyword token" data-binding="kw-occ-Lean.Parser.Term.type-2195" data-verso-hover="50">Type</span> <span class="unknown token" data-binding="">u</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2292" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.2298" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2300" data-verso-hover="55">β</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="unknown token" data-binding="">(</span><span class="var token" data-binding="var-_uniq.2294" data-verso-hover="55">ε</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.2298" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2300" data-verso-hover="55">β</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">→</span> <span class="var token" data-binding="var-_uniq.2298" data-verso-hover="97">m</span> <span class="var token" data-binding="var-_uniq.2300" data-verso-hover="55">β</span></code>.
Exception monads in continuation passing style have different performance characteristics than <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a></code>-based state monads; for some applications, it may be worth benchmarking them.</p>
                <div class="namedocs" id="ExceptCpsT">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptCpsT" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptCpsT.{u, v} (<span class="var token" data-binding="var-_uniq.2339" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) (<span class="var token" data-binding="var-_uniq.2341" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.2342" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div><div class="narrow-only">ExceptCpsT.{u, v} (<span class="var token" data-binding="var-_uniq.2339" data-verso-hover="55">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>)
  (<span class="var token" data-binding="var-_uniq.2341" data-verso-hover="97">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type v</span>) (<span class="var token" data-binding="var-_uniq.2342" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type (max (u + 1) v)</span></div></pre><div class="text">
                    <p>
                      Adds exceptions of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.2325" data-verso-hover="55">ε</span></code> to a monad <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.2326" data-verso-hover="97">m</span></code>.</p>
                    <p>
                      Instead of using <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2329" data-verso-hover="55">ε</span></code> to model exceptions, this implementation uses continuation passing
style. This has different performance characteristics from <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.2329" data-verso-hover="55">ε</span></code>.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptCpsT___runCatch">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptCpsT.runCatch" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptCpsT.runCatch.{u_1, u_2} {<span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>} {<span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span>] (<span class="var token" data-binding="var-_uniq.2355" data-verso-hover="2938">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span> <span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span>) : <span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span></div><div class="narrow-only">ExceptCpsT.runCatch.{u_1, u_2}
  {<span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>} {<span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span>] (<span class="var token" data-binding="var-_uniq.2355" data-verso-hover="2938">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span> <span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span>) : <span class="var token" data-binding="var-_uniq.2352" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2353" data-verso-hover="44">α</span></div></pre><div class="text">
                    <p>
                      Returns the value of a computation, forgetting whether it was an exception or a success.</p>
                    <p>
                      This corresponds to early return.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptCpsT___runK">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptCpsT.runK" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptCpsT.runK.{u, u_1} {<span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β </span><span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.2368" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.2369" data-verso-hover="2939">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2368" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.2370" data-verso-hover="2922">s</span> : <span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε</span>) (<span class="var token" data-binding="var-_uniq.2372" data-verso-hover="2661">ok</span> : <span class="var token" data-binding="var-_uniq.2368" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β</span>) (<span class="var token" data-binding="var-_uniq.2374" data-verso-hover="2940">error</span> : <span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β</span>) : <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β</span></div><div class="narrow-only">ExceptCpsT.runK.{u, u_1}
  {<span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β </span><span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.2368" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.2369" data-verso-hover="2939">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2368" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.2370" data-verso-hover="2922">s</span> : <span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε</span>)
  (<span class="var token" data-binding="var-_uniq.2372" data-verso-hover="2661">ok</span> : <span class="var token" data-binding="var-_uniq.2368" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β</span>) (<span class="var token" data-binding="var-_uniq.2374" data-verso-hover="2940">error</span> : <span class="var token" data-binding="var-_uniq.2367" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β</span>) : <span class="var token" data-binding="var-_uniq.2365" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2366" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Use a monadic action that may throw an exception by providing explicit success and failure
continuations.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptCpsT___run">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptCpsT.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptCpsT.run.{u, u_1} {<span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.2382" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.2383" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span>]
  (<span class="var token" data-binding="var-_uniq.2385" data-verso-hover="2939">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2382" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2383" data-verso-hover="55">α</span>) : <span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2382" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2383" data-verso-hover="55">α</span>)</div><div class="narrow-only">ExceptCpsT.run.{u, u_1}
  {<span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} {<span class="var token" data-binding="var-_uniq.2382" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.2383" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span>] (<span class="var token" data-binding="var-_uniq.2385" data-verso-hover="2939">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2382" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span> <span class="var token" data-binding="var-_uniq.2383" data-verso-hover="55">α</span>) :
  <span class="var token" data-binding="var-_uniq.2381" data-verso-hover="94">m</span> (<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.2382" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2383" data-verso-hover="55">α</span>)</div></pre><div class="text">
                    <p>
                      Use a monadic action that may throw an exception as an action that may return an exception's value.</p>
                    </div>
                  </div>
                <div class="namedocs" id="ExceptCpsT___lift">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=ExceptCpsT.lift" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">ExceptCpsT.lift.{u_1, u_2} {<span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>} {<span class="var token" data-binding="var-_uniq.2396" data-verso-hover="44">α </span><span class="var token" data-binding="var-_uniq.2397" data-verso-hover="44">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>}
  [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span>] (<span class="var token" data-binding="var-_uniq.2399" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2396" data-verso-hover="44">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2397" data-verso-hover="44">ε</span> <span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2396" data-verso-hover="44">α</span></div><div class="narrow-only">ExceptCpsT.lift.{u_1, u_2}
  {<span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span> → <span class="sort token" data-binding="" data-verso-hover="50">Type u_2</span>}
  {<span class="var token" data-binding="var-_uniq.2396" data-verso-hover="44">α </span><span class="var token" data-binding="var-_uniq.2397" data-verso-hover="44">ε</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u_1</span>} [<a href="Functors___-Monads-and--do--Notation/#Monad___mk"><span class="const token" data-binding="const-Monad" data-verso-hover="238">Monad</span></a> <span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span>] (<span class="var token" data-binding="var-_uniq.2399" data-verso-hover="241">x</span> : <span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2396" data-verso-hover="44">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptCpsT"><span class="const token" data-binding="const-ExceptCpsT" data-verso-hover="2859">ExceptCpsT</span></a> <span class="var token" data-binding="var-_uniq.2397" data-verso-hover="44">ε</span> <span class="var token" data-binding="var-_uniq.2395" data-verso-hover="2806">m</span> <span class="var token" data-binding="var-_uniq.2396" data-verso-hover="44">α</span></div></pre><div class="text">
                    <p>
                      Run an action from the transformed monad in the exception monad.</p>
                    </div>
                  </div>
                </section>
              </section>
            <section>
              <h2 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Combined-Error-and-State-Monads">
                14.5.8. Combined Error and State Monads</h2>
              <p>
                The <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code> monad has both exceptions and mutable state.
<code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.13" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.15" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.19" data-verso-hover="55">α</span></code> is logically equivalent to <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.22" data-verso-hover="55">ε</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <span class="var token" data-binding="var-_uniq.24" data-verso-hover="55">σ</span><span class="unknown token" data-binding="">)</span> <span class="var token" data-binding="var-_uniq.28" data-verso-hover="55">α</span></code>.
While <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.38" data-verso-hover="55">ε</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <span class="var token" data-binding="var-_uniq.40" data-verso-hover="55">σ</span><span class="unknown token" data-binding="">)</span></code> evaluates to the type <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.57" data-verso-hover="55">σ</span> <span class="unknown token" data-binding="">→</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.55" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.61" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">×</span> <span class="var token" data-binding="var-_uniq.57" data-verso-hover="55">σ</span></code>, the type <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.70" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.72" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.76" data-verso-hover="55">α</span></code> evaluates to <code class="hl lean inline" data-lean-context="examples"><span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">σ</span> <span class="unknown token" data-binding="">→</span> <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Result___ok"><span class="const token" data-binding="const-EStateM.Result" data-verso-hover="2941">EStateM.Result</span></a> <span class="var token" data-binding="var-_uniq.79" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.81" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.85" data-verso-hover="55">α</span></code>.
<code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Result___ok"><span class="const token" data-binding="const-EStateM.Result" data-verso-hover="2941">EStateM.Result</span></a></code> is an inductive type that's very similar to <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a></code>, except both constructors have an additional field for the state.
In compiled code, this representation removes one level of indirection from each monadic bind.</p>
              <div class="namedocs" id="EStateM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.{u} (<span class="var token" data-binding="var-_uniq.133" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.134" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.135" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div><div class="narrow-only">EStateM.{u} (<span class="var token" data-binding="var-_uniq.133" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.134" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.135" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div></pre><div class="text">
                  <p>
                    A combined state and exception monad in which exceptions do not automatically roll back the state.</p>
                  <p>
                    Instances of <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a></code> provide a way to roll back some part of the state if needed.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.119" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.120" data-verso-hover="55">σ</span></code> is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a> <span class="var token" data-binding="var-_uniq.119" data-verso-hover="55">ε</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <span class="var token" data-binding="var-_uniq.120" data-verso-hover="55">σ</span><span class="unknown token" data-binding="">)</span></code>, but it is more efficient.</p>
                  </div>
                </div>
              <div class="namedocs" id="EStateM___Result___ok">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.Result.error" title="Permalink">🔗</a></span><span class="label">inductive type</span><pre class="signature hl lean block"><div class="wide-only">EStateM.Result.{u} (<span class="var token" data-binding="var-_uniq.213" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.214" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.215" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div><div class="narrow-only">EStateM.Result.{u} (<span class="var token" data-binding="var-_uniq.213" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.214" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.215" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div></pre><div class="text">
                  <p>
                    The value returned from a combined state and exception monad in which exceptions do not
automatically roll back the state.</p>
                  <p>
                    <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">Result</span> <span class="unknown token" data-binding="">ε</span> <span class="unknown token" data-binding="">σ</span> <span class="unknown token" data-binding="">α</span></code> is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#Except___error"><span class="const token" data-binding="const-Except" data-verso-hover="1322">Except</span></a> <span class="var token" data-binding="var-_uniq.139" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.141" data-verso-hover="55">α</span> <span class="unknown token" data-binding="">×</span> <span class="var token" data-binding="var-_uniq.140" data-verso-hover="55">σ</span></code>, but using a single combined inductive type yields
a more efficient data representation.</p>
                  <h1>
                    Constructors</h1>
                  <div class="constructor">
                    <pre class="name-and-type hl lean">ok.{u} {<span class="var token" data-binding="var-_uniq.188" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.189" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.190" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} : <span class="var token" data-binding="var-_uniq.190" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.189" data-verso-hover="55">σ</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Result___ok"><span class="const token" data-binding="const-EStateM.Result" data-verso-hover="2941">EStateM.Result</span></a> <span class="var token" data-binding="var-_uniq.188" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.189" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.190" data-verso-hover="55">α</span></pre><div class="docs">
                      <p>
                        A success value of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.221" data-verso-hover="55">α</span></code> and a new state <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.220" data-verso-hover="55">σ</span></code>.</p>
                      </div>
                    </div>
                  <div class="constructor">
                    <pre class="name-and-type hl lean">error.{u} {<span class="var token" data-binding="var-_uniq.199" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.200" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.201" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} : <span class="var token" data-binding="var-_uniq.199" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.200" data-verso-hover="55">σ</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Result___ok"><span class="const token" data-binding="const-EStateM.Result" data-verso-hover="2941">EStateM.Result</span></a> <span class="var token" data-binding="var-_uniq.199" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.200" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.201" data-verso-hover="55">α</span></pre><div class="docs">
                      <p>
                        An exception of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.227" data-verso-hover="55">ε</span></code> and a new state <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.228" data-verso-hover="55">σ</span></code>.</p>
                      </div>
                    </div>
                  </div>
                </div>
              <div class="namedocs" id="EStateM___run">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.run" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.run.{u} {<span class="var token" data-binding="var-_uniq.240" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.242" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.243" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.240" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.242" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.244" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Result___ok"><span class="const token" data-binding="const-EStateM.Result" data-verso-hover="2941">EStateM.Result</span></a> <span class="var token" data-binding="var-_uniq.240" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.242" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.run.{u} {<span class="var token" data-binding="var-_uniq.240" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.242" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.243" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.240" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.242" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.244" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Result___ok"><span class="const token" data-binding="const-EStateM.Result" data-verso-hover="2941">EStateM.Result</span></a> <span class="var token" data-binding="var-_uniq.240" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.241" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.242" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Executes an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code> action with the initial state <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.236" data-verso-hover="2876">s</span></code>. The returned value includes the final state
and indicates whether an exception was thrown or a value was returned.</p>
                  </div>
                </div>
              <div class="namedocs" id="EStateM___run___">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.run'" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.run'.{u} {<span class="var token" data-binding="var-_uniq.257" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.258" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.259" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.260" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.257" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.258" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.259" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.261" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.258" data-verso-hover="55">σ</span>) : <a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.259" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.run'.{u} {<span class="var token" data-binding="var-_uniq.257" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.258" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.259" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.260" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.257" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.258" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.259" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.261" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.258" data-verso-hover="55">σ</span>) : <a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option" data-verso-hover="45">Option</span></a> <span class="var token" data-binding="var-_uniq.259" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Executes an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code> with the initial state <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.252" data-verso-hover="2876">s</span></code> for the returned value <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.250" data-verso-hover="55">α</span></code>, discarding the final
state. Returns <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/Optional-Values/#Option___none"><span class="const token" data-binding="const-Option.none" data-verso-hover="48">none</span></a></code> if an unhandled exception was thrown.</p>
                  </div>
                </div>
              <div class="namedocs" id="EStateM___adaptExcept">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.adaptExcept" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.adaptExcept.{u} {<span class="var token" data-binding="var-_uniq.269" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.270" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.271" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.272" data-verso-hover="55">ε'</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.274" data-verso-hover="2907">f</span> : <span class="var token" data-binding="var-_uniq.269" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.272" data-verso-hover="55">ε'</span>)
  (<span class="var token" data-binding="var-_uniq.275" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.269" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.270" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.271" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.272" data-verso-hover="55">ε'</span> <span class="var token" data-binding="var-_uniq.270" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.271" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.adaptExcept.{u}
  {<span class="var token" data-binding="var-_uniq.269" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.270" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.271" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.272" data-verso-hover="55">ε'</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.274" data-verso-hover="2907">f</span> : <span class="var token" data-binding="var-_uniq.269" data-verso-hover="55">ε</span> → <span class="var token" data-binding="var-_uniq.272" data-verso-hover="55">ε'</span>)
  (<span class="var token" data-binding="var-_uniq.275" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.269" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.270" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.271" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.272" data-verso-hover="55">ε'</span> <span class="var token" data-binding="var-_uniq.270" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.271" data-verso-hover="55">α</span></div></pre><div class="text">
                  <p>
                    Transforms exceptions with a function, doing nothing on successful results.</p>
                  </div>
                </div>
              <div class="namedocs" id="EStateM___fromStateM">
                <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.fromStateM" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.fromStateM {<span class="var token" data-binding="var-_uniq.286" data-verso-hover="162">ε </span><span class="var token" data-binding="var-_uniq.287" data-verso-hover="162">σ </span><span class="var token" data-binding="var-_uniq.288" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>} (<span class="var token" data-binding="var-_uniq.289" data-verso-hover="2944">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <span class="var token" data-binding="var-_uniq.287" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.288" data-verso-hover="162">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.286" data-verso-hover="162">ε</span> <span class="var token" data-binding="var-_uniq.287" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.288" data-verso-hover="162">α</span></div><div class="narrow-only">EStateM.fromStateM {<span class="var token" data-binding="var-_uniq.286" data-verso-hover="162">ε </span><span class="var token" data-binding="var-_uniq.287" data-verso-hover="162">σ </span><span class="var token" data-binding="var-_uniq.288" data-verso-hover="162">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type</span>}
  (<span class="var token" data-binding="var-_uniq.289" data-verso-hover="2944">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateM"><span class="const token" data-binding="const-StateM" data-verso-hover="1533">StateM</span></a> <span class="var token" data-binding="var-_uniq.287" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.288" data-verso-hover="162">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.286" data-verso-hover="162">ε</span> <span class="var token" data-binding="var-_uniq.287" data-verso-hover="162">σ</span> <span class="var token" data-binding="var-_uniq.288" data-verso-hover="162">α</span></div></pre><div class="text">
                  <p>
                    Converts a state monad action into a state monad action with exceptions.</p>
                  <p>
                    The resulting action does not throw an exception.</p>
                  </div>
                </div>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Combined-Error-and-State-Monads--State-Rollback">
                  14.5.8.1. State Rollback</h3>
                <p>
                  Composing <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a></code> and <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a></code> in different orders causes exceptions to interact differently with state.
In one ordering, state changes are rolled back when exceptions are caught; in the other, they persist.
The latter option matches the semantics of most imperative programming languages, but the former is very useful for search-based problems.
Often, some but not all state should be rolled back; this can be achieved by “sandwiching” <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#ExceptT"><span class="const token" data-binding="const-ExceptT" data-verso-hover="2714">ExceptT</span></a></code> between two separate uses of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a></code>.</p>
                <p>
                  To avoid yet another layer of indirection via the use of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#StateT"><span class="const token" data-binding="const-StateT" data-verso-hover="2654">StateT</span></a> <span class="var token" data-binding="var-_uniq.341" data-verso-hover="55">σ</span> <span class="unknown token" data-binding="">(</span><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.339" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.343" data-verso-hover="55">σ'</span><span class="unknown token" data-binding="">)</span> <span class="var token" data-binding="var-_uniq.345" data-verso-hover="55">α</span></code>, <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code> offers the <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a></code> <a class="technical-term" href="Type-Classes/#--tech-term-type-class">type class</a>.
This class specifies some part of the state that can be saved and restored.
<code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code> then arranges for the saving and restoring to take place around error handling.</p>
                <div class="namedocs" id="EStateM___Backtrackable___mk">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.Backtrackable.restore" title="Permalink">🔗</a></span><span class="label">type class</span><pre class="signature hl lean block"><div class="wide-only">EStateM.Backtrackable.{u} (<span class="var token" data-binding="var-_uniq.413" data-verso-hover="2864">δ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.414" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div><div class="narrow-only">EStateM.Backtrackable.{u}
  (<span class="var token" data-binding="var-_uniq.413" data-verso-hover="2864">δ</span> : <a href="Type-Classes/Instance-Synthesis/#outParam"><span class="const token" data-binding="const-outParam" data-verso-hover="1536">outParam</span></a> <span class="sort token" data-binding="" data-verso-hover="50">(Type u)</span>) (<span class="var token" data-binding="var-_uniq.414" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>) :
  <span class="sort token" data-binding="" data-verso-hover="50">Type u</span></div></pre><div class="text">
                    <p>
                      Exception handlers in <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code> save some part of the state, determined by <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.386" data-verso-hover="2864">δ</span></code>, and restore it if an
exception is caught. By default, <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.386" data-verso-hover="2864">δ</span></code> is <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a></code>, and no information is saved.</p>
                    <h1>
                      Instance Constructor</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable.mk" data-verso-hover="2945">EStateM.Backtrackable.mk</span></a>.{u}</pre><div class="docs"></div>
                      </section>
                    <h1>
                      Methods</h1>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-EStateM.Backtrackable.save" data-verso-hover="2946">save</span> : <span class="var token" data-binding="var-_uniq.395" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.394" data-verso-hover="2864">δ</span></pre><div class="docs">
                        <p>
                          Extracts the information in the state that should be rolled back if an exception is handled.</p>
                        </div>
                      </section>
                    <section class="subdocs">
                      <pre class="name-and-type hl lean"><span class="const token" data-binding="const-EStateM.Backtrackable.restore" data-verso-hover="2947">restore</span> : <span class="var token" data-binding="var-_uniq.395" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.394" data-verso-hover="2864">δ</span> → <span class="var token" data-binding="var-_uniq.395" data-verso-hover="55">σ</span></pre><div class="docs">
                        <p>
                          Updates the current state with the saved information that should be rolled back. This updated
state becomes the current state when an exception is handled.</p>
                        </div>
                      </section>
                    </div>
                  </div>
                <p>
                  There is a universally-applicable instance of <code class="hl lean inline" data-lean-context="examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">Backtrackable</span></a></code> that neither saves nor restores anything.
Because instance synthesis chooses the most recent instance first, the universal instance is used only if no other instance has been defined.</p>
                <div class="namedocs" id="EStateM___nonBacktrackable">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.nonBacktrackable" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.nonBacktrackable.{u} {<span class="var token" data-binding="var-_uniq.537" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a> <span class="var token" data-binding="var-_uniq.537" data-verso-hover="55">σ</span></div><div class="narrow-only">EStateM.nonBacktrackable.{u}
  {<span class="var token" data-binding="var-_uniq.537" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a> <span class="var token" data-binding="var-_uniq.537" data-verso-hover="55">σ</span></div></pre><div class="text">
                    <p>
                      A fallback <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">Backtrackable</span></code> instance that saves no information from a state. This allows every type
to be used as a state in <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a></code>, with no rollback.</p>
                    <p>
                      Because this is the first declared instance of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">Backtrackable</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">σ</span></code>, it will be picked only if there
are no other <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">Backtrackable</span> <span class="unknown token" data-binding="">_</span> <span class="unknown token" data-binding="">σ</span></code> instances registered.</p>
                    </div>
                  </div>
                </section>
              <section>
                <h3 id="The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--Varieties-of-Monads--Combined-Error-and-State-Monads--Implementations">
                  14.5.8.2. Implementations</h3>
                <p>
                  These functions are typically not called directly, but rather are accessed through their corresponding type classes.</p>
                <div class="namedocs" id="EStateM___map">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.map" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.map.{u} {<span class="var token" data-binding="var-_uniq.549" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.550" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.551" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.552" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.554" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.551" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.552" data-verso-hover="55">β</span>) (<span class="var token" data-binding="var-_uniq.555" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.549" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.550" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.551" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.549" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.550" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.552" data-verso-hover="55">β</span></div><div class="narrow-only">EStateM.map.{u} {<span class="var token" data-binding="var-_uniq.549" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.550" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.551" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.552" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.554" data-verso-hover="180">f</span> : <span class="var token" data-binding="var-_uniq.551" data-verso-hover="55">α</span> → <span class="var token" data-binding="var-_uniq.552" data-verso-hover="55">β</span>) (<span class="var token" data-binding="var-_uniq.555" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.549" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.550" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.551" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.549" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.550" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.552" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Transforms the value returned from an <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.540" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.541" data-verso-hover="55">σ</span></code> action using a function.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___pure">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.pure" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.pure.{u} {<span class="var token" data-binding="var-_uniq.561" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.562" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.563" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.564" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.563" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.561" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.562" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.563" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.pure.{u} {<span class="var token" data-binding="var-_uniq.561" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.562" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.563" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.564" data-verso-hover="46">a</span> : <span class="var token" data-binding="var-_uniq.563" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.561" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.562" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.563" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Returns a value without modifying the state or throwing an exception.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___bind">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.bind" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.bind.{u} {<span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.577" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.578" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.579" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.577" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.581" data-verso-hover="2948">f</span> : <span class="var token" data-binding="var-_uniq.577" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.578" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.578" data-verso-hover="55">β</span></div><div class="narrow-only">EStateM.bind.{u} {<span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.577" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.578" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.579" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.577" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.581" data-verso-hover="2948">f</span> : <span class="var token" data-binding="var-_uniq.577" data-verso-hover="55">α</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.578" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.575" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.576" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.578" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Sequences two <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.565" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.566" data-verso-hover="55">σ</span></code> actions, passing the returned value from the first into the second.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___orElse">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.orElse" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.orElse.{u} {<span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.647" data-verso-hover="55">δ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <span class="var token" data-binding="var-_uniq.647" data-verso-hover="55">δ</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span>]
  (<span class="var token" data-binding="var-_uniq.651" data-verso-hover="2943">x₁</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.653" data-verso-hover="2949">x₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.orElse.{u} {<span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.647" data-verso-hover="55">δ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <span class="var token" data-binding="var-_uniq.647" data-verso-hover="55">δ</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span>]
  (<span class="var token" data-binding="var-_uniq.651" data-verso-hover="2943">x₁</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.653" data-verso-hover="2949">x₂</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.644" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.645" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.646" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Failure handling that does not depend on specific exception values.</p>
                    <p>
                      The <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">Backtrackable</span> <span class="unknown token" data-binding="">δ</span> <span class="unknown token" data-binding="">σ</span></code> instance is used to save a snapshot of part of the state prior to running
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.597" data-verso-hover="2943">x₁</span></code>. If an exception is caught, the state is updated with the saved snapshot, rolling back part of
the state. If no instance of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.606" data-verso-hover="2950">Backtrackable</span></code> is provided, a fallback instance in which <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.595" data-verso-hover="55">δ</span></code> is <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a></code>
is used, and no information is rolled back.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___orElse___">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.orElse'" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.orElse'.{u} {<span class="var token" data-binding="var-_uniq.673" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.675" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.676" data-verso-hover="55">δ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <span class="var token" data-binding="var-_uniq.676" data-verso-hover="55">δ</span> <span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ</span>]
  (<span class="var token" data-binding="var-_uniq.680" data-verso-hover="2943">x₁ </span><span class="var token" data-binding="var-_uniq.681" data-verso-hover="2943">x₂</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.673" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.675" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.682" data-verso-hover="2919">useFirstEx</span> : <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a> := <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.673" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.675" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.orElse'.{u} {<span class="var token" data-binding="var-_uniq.673" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.675" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.676" data-verso-hover="55">δ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <span class="var token" data-binding="var-_uniq.676" data-verso-hover="55">δ</span> <span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ</span>]
  (<span class="var token" data-binding="var-_uniq.680" data-verso-hover="2943">x₁ </span><span class="var token" data-binding="var-_uniq.681" data-verso-hover="2943">x₂</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.673" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.675" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.682" data-verso-hover="2919">useFirstEx</span> : <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool" data-verso-hover="155">Bool</span></a> := <a href="Basic-Types/Booleans/#Bool___false"><span class="const token" data-binding="const-Bool.true" data-verso-hover="41">true</span></a>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.673" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.674" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.675" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Alternative orElse operator that allows callers to select which exception should be used when both
operations fail. The default is to use the first exception since the standard <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">orElse</span></code> uses the
second.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___seqRight">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.seqRight" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.seqRight.{u} {<span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.698" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.699" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.700" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.698" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.702" data-verso-hover="2951">y</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.699" data-verso-hover="55">β</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.699" data-verso-hover="55">β</span></div><div class="narrow-only">EStateM.seqRight.{u} {<span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.698" data-verso-hover="55">α </span><span class="var token" data-binding="var-_uniq.699" data-verso-hover="55">β</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.700" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.698" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.702" data-verso-hover="2951">y</span> : <a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.699" data-verso-hover="55">β</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.696" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.697" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.699" data-verso-hover="55">β</span></div></pre><div class="text">
                    <p>
                      Sequences two <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.683" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.684" data-verso-hover="55">σ</span></code> actions, running <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.687" data-verso-hover="2943">x</span></code> before <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.688" data-verso-hover="2951">y</span></code>. The first action's return value is
ignored.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___tryCatch">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.tryCatch" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.tryCatch.{u} {<span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.767" data-verso-hover="55">δ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <span class="var token" data-binding="var-_uniq.767" data-verso-hover="55">δ</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span>]
  {<span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.772" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span>) (<span class="var token" data-binding="var-_uniq.774" data-verso-hover="2952">handle</span> : <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.tryCatch.{u} {<span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.767" data-verso-hover="55">δ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  [<a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM___Backtrackable___mk"><span class="const token" data-binding="const-EStateM.Backtrackable" data-verso-hover="2942">EStateM.Backtrackable</span></a> <span class="var token" data-binding="var-_uniq.767" data-verso-hover="55">δ</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span>] {<span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.772" data-verso-hover="2943">x</span> : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span>)
  (<span class="var token" data-binding="var-_uniq.774" data-verso-hover="2952">handle</span> : <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> → <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.765" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.766" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.771" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Handles exceptions thrown in the combined error and state monad.</p>
                    <p>
                      The <code class="hl lean inline" data-lean-context="docstring-examples"><span class="unknown token" data-binding="">Backtrackable</span> <span class="unknown token" data-binding="">δ</span> <span class="unknown token" data-binding="">σ</span></code> instance is used to save a snapshot of part of the state prior to running
<code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.718" data-verso-hover="2943">x</span></code>. If an exception is caught, the state is updated with the saved snapshot, rolling back part of
the state. If no instance of <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.727" data-verso-hover="2953">Backtrackable</span></code> is provided, a fallback instance in which <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.715" data-verso-hover="55">δ</span></code> is <code class="hl lean inline" data-lean-context="docstring-examples"><a href="Basic-Types/The-Unit-Type/#Unit"><span class="const token" data-binding="const-Unit" data-verso-hover="3">Unit</span></a></code>
is used, and no information is rolled back.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___throw">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.throw" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.throw.{u} {<span class="var token" data-binding="var-_uniq.781" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.782" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.783" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.784" data-verso-hover="2922">e</span> : <span class="var token" data-binding="var-_uniq.781" data-verso-hover="55">ε</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.781" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.782" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.783" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.throw.{u} {<span class="var token" data-binding="var-_uniq.781" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.782" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.783" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.784" data-verso-hover="2922">e</span> : <span class="var token" data-binding="var-_uniq.781" data-verso-hover="55">ε</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.781" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.782" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.783" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Throws an exception of type <code class="hl lean inline" data-lean-context="docstring-examples"><span class="var token" data-binding="var-_uniq.776" data-verso-hover="55">ε</span></code> to the nearest enclosing handler.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___get">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.get" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.get.{u} {<span class="var token" data-binding="var-_uniq.788" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.789" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.788" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.789" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.789" data-verso-hover="55">σ</span></div><div class="narrow-only">EStateM.get.{u} {<span class="var token" data-binding="var-_uniq.788" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.789" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.788" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.789" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.789" data-verso-hover="55">σ</span></div></pre><div class="text">
                    <p>
                      Retrieves the current value of the monad's mutable state.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___set">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.set" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.set.{u} {<span class="var token" data-binding="var-_uniq.794" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.795" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.796" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.795" data-verso-hover="55">σ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.794" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.795" data-verso-hover="55">σ</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div><div class="narrow-only">EStateM.set.{u} {<span class="var token" data-binding="var-_uniq.794" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.795" data-verso-hover="55">σ</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.796" data-verso-hover="2876">s</span> : <span class="var token" data-binding="var-_uniq.795" data-verso-hover="55">σ</span>) :
  <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.794" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.795" data-verso-hover="55">σ</span> <a href="Basic-Types/The-Unit-Type/#PUnit___unit"><span class="const token" data-binding="const-PUnit" data-verso-hover="145">PUnit</span></a></div></pre><div class="text">
                    <p>
                      Replaces the current value of the mutable state with a new one.</p>
                    </div>
                  </div>
                <div class="namedocs" id="EStateM___modifyGet">
                  <span class="permalink-widget block"><a href="find/?domain=Verso.Genre.Manual.doc&name=EStateM.modifyGet" title="Permalink">🔗</a></span><span class="label">def</span><pre class="signature hl lean block"><div class="wide-only">EStateM.modifyGet.{u} {<span class="var token" data-binding="var-_uniq.2878" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.2880" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>} (<span class="var token" data-binding="var-_uniq.2882" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.2880" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.2878" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.2880" data-verso-hover="55">α</span></div><div class="narrow-only">EStateM.modifyGet.{u} {<span class="var token" data-binding="var-_uniq.2878" data-verso-hover="55">ε </span><span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ </span><span class="var token" data-binding="var-_uniq.2880" data-verso-hover="55">α</span> : <span class="sort token" data-binding="" data-verso-hover="50">Type u</span>}
  (<span class="var token" data-binding="var-_uniq.2882" data-verso-hover="2873">f</span> : <span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ</span> → <span class="var token" data-binding="var-_uniq.2880" data-verso-hover="55">α</span><a href="Basic-Types/Tuples/#Prod___mk"><span class="const token" data-binding="const-Prod" data-verso-hover="189"> × </span></a><span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ</span>) : <a href="Functors___-Monads-and--do--Notation/Varieties-of-Monads/#EStateM"><span class="const token" data-binding="const-EStateM" data-verso-hover="2860">EStateM</span></a> <span class="var token" data-binding="var-_uniq.2878" data-verso-hover="55">ε</span> <span class="var token" data-binding="var-_uniq.2879" data-verso-hover="55">σ</span> <span class="var token" data-binding="var-_uniq.2880" data-verso-hover="55">α</span></div></pre><div class="text">
                    <p>
                      Applies a function to the current state that both computes a new state and a value. The new state
replaces the current state, and the value is returned.</p>
                    <p>
                      It is equivalent to <code class="hl lean inline" data-lean-context="docstring-examples"><span class="keyword token" data-binding="kw-occ-null-0">do</span> <span class="keyword token" data-binding="kw-occ-null-0">let</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">a</span><span class="unknown token" data-binding="">,</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">)</span> <span class="unknown token" data-binding="">:=</span> <span class="unknown token" data-binding="">f</span> <span class="unknown token" data-binding="">(</span><span class="unknown token" data-binding="">←</span> <span class="unknown token" data-binding="">get</span><span class="unknown token" data-binding="">)</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">set</span> <span class="unknown token" data-binding="">s</span><span class="unknown token" data-binding="">;</span> <span class="unknown token" data-binding="">pure</span> <span class="unknown token" data-binding="">a</span></code>. However, using <code class="hl lean inline" data-lean-context="docstring-examples"><span class="const token" data-binding="const-MonadState.modifyGet" data-verso-hover="2836">modifyGet</span></code> may
lead to higher performance because it doesn't add a new reference to the state value. Additional
references can inhibit in-place updates of data.</p>
                    </div>
                  </div>
                </section>
              </section>
            </section>
          <nav class="prev-next-buttons">
            <a class="local-button active" href="Functors___-Monads-and--do--Notation/API-Reference/#The-Lean-Language-Reference--Functors___-Monads-and--do--Notation--API-Reference" rel="prev" title="14.4. API Reference"><span class="arrow">←</span><span class="where">14.4. API Reference</span></a><a class="local-button active" href="IO/#io" rel="next" title="15. IO"><span class="where">15. IO</span><span class="arrow">→</span></a></nav>
          </div>
        </main></div>
    </body>
  </html>

